{
  "resolvedId": "/Users/afeng/Desktop/work/gdpayh5-web/src/pages/Activity/Subpages/cardReceive.vue",
  "transforms": [
    {
      "name": "vite:load-fallback",
      "result": "<template>\n  <nav-bar\n    class=\"nav-bar z-[1001]\"\n    title=\"接收福卡\"\n    mode=\"cardActivity\"\n    right-text=\"记录\"\n  >\n    <template #right>\n      <van-icon\n        name=\"notes-o\"\n        size=\"26\"\n        @click=\"$router.push('/cardRecord?tabStatus=2')\"\n      />\n    </template>\n  </nav-bar>\n  <div class=\"heng\"></div>\n  <div class=\"cardReceive-container\">\n    <p\n      class=\"title\"\n      v-if=\"cardList.length\"\n    >\n      你有收到好友\n      <span class=\"red_f\">{{ cardList.length }}</span>\n      张赠送卡\n      <span class=\"right\">\n        倒计时:\n        <span class=\"red_f\">\n          <van-count-down\n            :time=\"countdownTime\"\n            :format=\"countdownTime >= 24 * 60 * 60 * 1000 ? 'DD天HH时' : 'HH时mm分ss秒'\"\n          />\n        </span>\n      </span>\n    </p>\n    <van-pull-refresh\n      v-model=\"refreshing\"\n      @refresh=\"onRefresh\"\n    >\n      <van-list\n        v-model:loading=\"loading\"\n        :finished=\"finished\"\n        finished-text=\"\"\n        @load=\"getCardList\"\n      >\n        <div\n          v-if=\"cardList.length\"\n          class=\"card_content\"\n        >\n          <div\n            class=\"CR_item clearfix mb-[15px]\"\n            v-for=\"item in cardList\"\n            :key=\"item.id\"\n          >\n            <p class=\"clearfix leading-[76px]\">\n              赠送卡类型\n              <van-image\n                class=\"cR_listImg\"\n                lazy-load\n                :src=\"requireImg('activity/' + cardPic(item.num_type) + '.png')\"\n              />\n            </p>\n            <p>\n              赠送卡状态：\n              <span class=\"right\">待接收</span>\n            </p>\n            <p>\n              赠送人昵称：\n              <span class=\"right\">{{ item.nickname }}</span>\n            </p>\n            <p>\n              赠送时间：\n              <span class=\"right\">{{ item.add_time }}</span>\n            </p>\n            <van-button\n              type=\"primary\"\n              @click=\"goGiveawayresave(item.id)\"\n            >\n              接收\n            </van-button>\n          </div>\n        </div>\n        <div\n          class=\"no-data flex flex-col items-center\"\n          v-else\n        >\n          <img\n            class=\"w-[55%] mb-[30px] mt-[100px]\"\n            :src=\"noData\"\n          />\n          <div class=\"text-no-data text-[#c1c2c5]\">暂无可接收卡</div>\n        </div>\n      </van-list>\n    </van-pull-refresh>\n  </div>\n</template>\n<script setup lang=\"ts\">\nimport success from '@/assets/images/common/success.png'\nimport noData from '@/assets/images/common/activity_empty.png'\nimport { onMounted, ref } from 'vue'\nimport { requireImg } from '@/utils/tools'\nimport { gameInfoDataApi, giveawayresave } from '@/apis/taskActivity'\nimport dayjs from 'dayjs'\nimport { showToast } from 'vant'\nimport { useAppBar } from '@/components/AppBar/useAppBar'\nuseAppBar({ mode: 'dark' })\nconst cardList = ref<any>([])\nconst countdownTime = ref(18 * 60 * 60 * 1000) // 距离本周周日倒计时\n\nonMounted(() => {})\n\nconst currentDay = dayjs().day()\nconst daysUntilSunday = 7 - currentDay\nconst millisecondsUntilSunday = daysUntilSunday * 24 * 60 * 60 * 1000\n\ncountdownTime.value = millisecondsUntilSunday\nconst getCardList = async () => {\n  if (refreshing.value) {\n    // parm.value.page = 1\n    // console.log('加载', refreshing.value, list.value.length)\n    refreshing.value = false\n  }\n  const res = await gameInfoDataApi({})\n  if (!!!res.friends) return console.log('数据异常')\n  cardList.value = res.friends\n  // cardList.value = [{}]\n  loading.value = false\n  finished.value = true\n}\n// getCardList()\n\nconst loading = ref(false)\nconst finished = ref(false)\nconst refreshing = ref(false)\nconst onRefresh = () => {\n  // 清空列表数据\n  finished.value = false\n  // 重新加载数据\n  // 将 loading 设置为 true，表示处于加载状态\n  loading.value = true\n  // showToast('刷新成功')\n  getCardList()\n}\nonRefresh()\n\nconst goGiveawayresave = async (id: string) => {\n  const res = await giveawayresave({ id })\n  console.log('res', res)\n  // if ((res as any).code) return console.log('数据异常')\n  if ((res as any).code || (res as any).errmsg) return console.log('数据异常')\n  onRefresh()\n  showToast({ message: '成功！', icon: success })\n}\n\nconst cardPic = (card: number) => {\n  // console.log('card', card)\n  let pic = ''\n  switch (card) {\n    case 1:\n      pic = 'gong'\n      break\n    case 2:\n      pic = 'xi'\n      break\n    case 3:\n      pic = 'fa'\n      break\n    case 4:\n      pic = 'cai'\n      break\n    case 0:\n      pic = 'xxcy'\n      break\n    default:\n      pic = ''\n      break\n  }\n  return pic\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.cardReceive-container {\n  position: relative;\n  z-index: 10;\n  height: calc(100vh - 100px);\n  padding: 10px 20px;\n  padding-bottom: 100px;\n  font-size: 28px;\n  background-color: #ebf1f6;\n  border-radius: 14px 14px 0 0;\n  border: solid 1px rgba(241, 209, 136, 0.8);\n  .title {\n    border-bottom: #d6dce8 1px solid;\n    padding: 15px 0;\n    color: #494b4f;\n    margin-bottom: 20px;\n    .right {\n      :deep(.van-count-down) {\n        display: inline-block;\n      }\n    }\n  }\n  .card_content {\n  }\n  .CR_item {\n    color: #787f8c;\n    background-color: #ffffff;\n    border-radius: 14px;\n    padding: 20px;\n    p {\n      padding: 8px 0;\n      display: block;\n      .cR_listImg {\n        display: block;\n        float: right;\n        width: 53px;\n        height: 76px;\n      }\n    }\n    .van-button {\n      float: right;\n      color: #f9db95;\n      display: block;\n      width: 218px;\n      height: 69px;\n      background: url('../../../assets/images/activity/btn-task-2.png');\n      background-size: cover;\n      border: unset;\n    }\n  }\n}\n</style>\n",
      "start": 1714699769442,
      "end": 1714699769510,
      "sourcemaps": null
    },
    {
      "name": "vite:css",
      "start": 1714699769510,
      "end": 1714699769510,
      "order": "normal"
    },
    {
      "name": "vite:esbuild",
      "start": 1714699769510,
      "end": 1714699769510,
      "order": "normal"
    },
    {
      "name": "vite:json",
      "start": 1714699769510,
      "end": 1714699769510,
      "order": "normal"
    },
    {
      "name": "vite:worker",
      "start": 1714699769510,
      "end": 1714699769510,
      "order": "normal"
    },
    {
      "name": "vite:vue",
      "result": "import _sfc_main from \"/Users/afeng/Desktop/work/gdpayh5-web/src/pages/Activity/Subpages/cardReceive.vue?vue&type=script&setup=true&lang.ts\";\nexport * from \"/Users/afeng/Desktop/work/gdpayh5-web/src/pages/Activity/Subpages/cardReceive.vue?vue&type=script&setup=true&lang.ts\";\nimport \"/Users/afeng/Desktop/work/gdpayh5-web/src/pages/Activity/Subpages/cardReceive.vue?vue&type=style&index=0&scoped=2afe71fb&lang.scss\";\nimport _export_sfc from \"\\0plugin-vue:export-helper\";\nexport default /* @__PURE__ */ _export_sfc(_sfc_main, [[\"__scopeId\", \"data-v-2afe71fb\"], [\"__file\", \"/Users/afeng/Desktop/work/gdpayh5-web/src/pages/Activity/Subpages/cardReceive.vue\"]]);\n",
      "start": 1714699769510,
      "end": 1714699769607,
      "order": "normal",
      "sourcemaps": {
        "mappings": ""
      }
    },
    {
      "name": "vite:vue-jsx",
      "start": 1714699769607,
      "end": 1714699769607,
      "order": "normal"
    },
    {
      "name": "vite-plugin-vconsole",
      "result": "import _sfc_main from \"/Users/afeng/Desktop/work/gdpayh5-web/src/pages/Activity/Subpages/cardReceive.vue?vue&type=script&setup=true&lang.ts\";\nexport * from \"/Users/afeng/Desktop/work/gdpayh5-web/src/pages/Activity/Subpages/cardReceive.vue?vue&type=script&setup=true&lang.ts\";\nimport \"/Users/afeng/Desktop/work/gdpayh5-web/src/pages/Activity/Subpages/cardReceive.vue?vue&type=style&index=0&scoped=2afe71fb&lang.scss\";\nimport _export_sfc from \"\\0plugin-vue:export-helper\";\nexport default /* @__PURE__ */ _export_sfc(_sfc_main, [[\"__scopeId\", \"data-v-2afe71fb\"], [\"__file\", \"/Users/afeng/Desktop/work/gdpayh5-web/src/pages/Activity/Subpages/cardReceive.vue\"]]);\n",
      "start": 1714699769607,
      "end": 1714699769607,
      "order": "normal",
      "sourcemaps": null
    },
    {
      "name": "esbuild",
      "result": "\"use strict\";\nimport _sfc_main from \"/Users/afeng/Desktop/work/gdpayh5-web/src/pages/Activity/Subpages/cardReceive.vue?vue&type=script&setup=true&lang.ts\";\nexport * from \"/Users/afeng/Desktop/work/gdpayh5-web/src/pages/Activity/Subpages/cardReceive.vue?vue&type=script&setup=true&lang.ts\";\nimport \"/Users/afeng/Desktop/work/gdpayh5-web/src/pages/Activity/Subpages/cardReceive.vue?vue&type=style&index=0&scoped=2afe71fb&lang.scss\";\nimport _export_sfc from \"\\0plugin-vue:export-helper\";\nexport default /* @__PURE__ */ _export_sfc(_sfc_main, [[\"__scopeId\", \"data-v-2afe71fb\"], [\"__file\", \"/Users/afeng/Desktop/work/gdpayh5-web/src/pages/Activity/Subpages/cardReceive.vue\"]]);\n",
      "start": 1714699769607,
      "end": 1714699770628,
      "order": "normal",
      "sourcemaps": "{\n  \"version\": 3,\n  \"sources\": [\"/Users/afeng/Desktop/work/gdpayh5-web/src/pages/Activity/Subpages/cardReceive.vue\"],\n  \"sourcesContent\": [\"import _sfc_main from \\\"/Users/afeng/Desktop/work/gdpayh5-web/src/pages/Activity/Subpages/cardReceive.vue?vue&type=script&setup=true&lang.ts\\\";\\nexport * from \\\"/Users/afeng/Desktop/work/gdpayh5-web/src/pages/Activity/Subpages/cardReceive.vue?vue&type=script&setup=true&lang.ts\\\";\\nimport \\\"/Users/afeng/Desktop/work/gdpayh5-web/src/pages/Activity/Subpages/cardReceive.vue?vue&type=style&index=0&scoped=2afe71fb&lang.scss\\\";\\nimport _export_sfc from \\\"\\\\0plugin-vue:export-helper\\\";\\nexport default /* @__PURE__ */ _export_sfc(_sfc_main, [[\\\"__scopeId\\\", \\\"data-v-2afe71fb\\\"], [\\\"__file\\\", \\\"/Users/afeng/Desktop/work/gdpayh5-web/src/pages/Activity/Subpages/cardReceive.vue\\\"]]);\\n\"],\n  \"mappings\": \";AAAA,OAAO,eAAe;AACtB,cAAc;AACd,OAAO;AACP,OAAO,iBAAiB;AACxB,eAA+B,4BAAY,WAAW,CAAC,CAAC,aAAa,iBAAiB,GAAG,CAAC,UAAU,mFAAmF,CAAC,CAAC;\",\n  \"names\": []\n}\n"
    },
    {
      "name": "vite:define",
      "start": 1714699770628,
      "end": 1714699770628,
      "order": "normal"
    },
    {
      "name": "vite:css-post",
      "start": 1714699770628,
      "end": 1714699770628,
      "order": "normal"
    },
    {
      "name": "vite:build-html",
      "start": 1714699770628,
      "end": 1714699770628,
      "order": "normal"
    },
    {
      "name": "vite:worker-import-meta-url",
      "start": 1714699770628,
      "end": 1714699770628,
      "order": "normal"
    },
    {
      "name": "vite:asset-import-meta-url",
      "start": 1714699770628,
      "end": 1714699770628,
      "order": "normal"
    },
    {
      "name": "commonjs",
      "start": 1714699770628,
      "end": 1714699770628,
      "order": "normal"
    },
    {
      "name": "vite:dynamic-import-vars",
      "start": 1714699770628,
      "end": 1714699770628,
      "order": "normal"
    },
    {
      "name": "vite:import-glob",
      "start": 1714699770628,
      "end": 1714699770628,
      "order": "normal"
    },
    {
      "name": "unplugin-auto-import",
      "start": 1714699770628,
      "end": 1714699770628,
      "order": "post"
    },
    {
      "name": "unplugin-vue-components",
      "result": "/* unplugin-vue-components disabled */\"use strict\";\nimport _sfc_main from \"/Users/afeng/Desktop/work/gdpayh5-web/src/pages/Activity/Subpages/cardReceive.vue?vue&type=script&setup=true&lang.ts\";\nexport * from \"/Users/afeng/Desktop/work/gdpayh5-web/src/pages/Activity/Subpages/cardReceive.vue?vue&type=script&setup=true&lang.ts\";\nimport \"/Users/afeng/Desktop/work/gdpayh5-web/src/pages/Activity/Subpages/cardReceive.vue?vue&type=style&index=0&scoped=2afe71fb&lang.scss\";\nimport _export_sfc from \"\\0plugin-vue:export-helper\";\nexport default /* @__PURE__ */ _export_sfc(_sfc_main, [[\"__scopeId\", \"data-v-2afe71fb\"], [\"__file\", \"/Users/afeng/Desktop/work/gdpayh5-web/src/pages/Activity/Subpages/cardReceive.vue\"]]);\n",
      "start": 1714699770628,
      "end": 1714699770628,
      "order": "post",
      "sourcemaps": {
        "version": 3,
        "sources": [
          "/Users/afeng/Desktop/work/gdpayh5-web/src/pages/Activity/Subpages/cardReceive.vue"
        ],
        "sourcesContent": [
          "\"use strict\";\nimport _sfc_main from \"/Users/afeng/Desktop/work/gdpayh5-web/src/pages/Activity/Subpages/cardReceive.vue?vue&type=script&setup=true&lang.ts\";\nexport * from \"/Users/afeng/Desktop/work/gdpayh5-web/src/pages/Activity/Subpages/cardReceive.vue?vue&type=script&setup=true&lang.ts\";\nimport \"/Users/afeng/Desktop/work/gdpayh5-web/src/pages/Activity/Subpages/cardReceive.vue?vue&type=style&index=0&scoped=2afe71fb&lang.scss\";\nimport _export_sfc from \"\\0plugin-vue:export-helper\";\nexport default /* @__PURE__ */ _export_sfc(_sfc_main, [[\"__scopeId\", \"data-v-2afe71fb\"], [\"__file\", \"/Users/afeng/Desktop/work/gdpayh5-web/src/pages/Activity/Subpages/cardReceive.vue\"]]);\n"
        ],
        "names": [],
        "mappings": "sCAAA;AACA;AACA;AACA;AACA;AACA;"
      }
    },
    {
      "name": "vite:style-import",
      "start": 1714699770629,
      "end": 1714699770629,
      "order": "post"
    },
    {
      "name": "vite:build-import-analysis",
      "start": 1714699770629,
      "end": 1714699770629,
      "order": "normal"
    },
    {
      "name": "vite:reporter",
      "start": 1714699770629,
      "end": 1714699770629,
      "order": "normal"
    }
  ]
}
