{
  "resolvedId": "/Users/afeng/Desktop/work/gdpayh5-web/src/components/Home/Bulletin.vue?vue&type=script&setup=true&lang.ts",
  "transforms": [
    {
      "name": "vite:vue",
      "result": "import { defineComponent as _defineComponent } from 'vue'\nimport { normalizeClass as _normalizeClass, createElementVNode as _createElementVNode, unref as _unref, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, resolveComponent as _resolveComponent, withModifiers as _withModifiers, withCtx as _withCtx, createBlock as _createBlock, createVNode as _createVNode, resolveDirective as _resolveDirective, withDirectives as _withDirectives, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-7d8a463d\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"bulletin-container flex items-center\" }\nconst _hoisted_2 = [\"innerHTML\"]\nconst _hoisted_3 = [\"innerHTML\"]\n\nimport { useArticleStore } from '@/store/modules/article'\nimport { useAuthStore } from '@/store/modules/auth'\nimport { useEntryStore } from '@/store/modules/entry'\nimport { IArticleListType } from '@/store/types/article'\nimport { IWebUrlLink } from '@/store/types/entry'\nimport { IGlobalNotification } from '@/store/types/global'\nimport mitt from '@/utils/mitt'\nimport { storeToRefs } from 'pinia'\nimport { computed, onMounted, onUnmounted, reactive, ref } from 'vue'\nimport { useRouter } from 'vue-router'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'Bulletin',\n  emits: ['update-article'],\n  setup(__props, { emit: __emit }) {\n\nconst authStore = useAuthStore()\nconst { token, userInfo } = storeToRefs(authStore)\nconst { cash } = userInfo.value\n\nconst router = useRouter()\nconst articleStore = useArticleStore()\nconst { getArticleListApi } = articleStore\nconst { rollingNotice } = storeToRefs(articleStore)\n\nconst entryStore = useEntryStore()\nconst { config } = storeToRefs(entryStore)\n\nconst emit = __emit\n\nconst bulletinData = ref<IArticleListType[]>([])\nconst currStatus = reactive({\n  AuthExpire: false\n})\n\nconst adModWebUrlLink = computed<IWebUrlLink>(\n  () => (config.value.Web_Set_DefaultInfo?.AD_Mod_WebUrlLink ?? {}) as IWebUrlLink\n)\n\nlet updateArticleTimer: NodeJS.Timeout | null\nconst handleRollingNoticeData = async () => {\n  try {\n    let res: IArticleListType[] = await getArticleListApi({\n      bind_key: 'OpenNotice,RollingNotice,HomeHuanDeng'\n    })\n\n    updateArticleTimer = setTimeout(() => {\n      if (!currStatus.AuthExpire) {\n        emit('update-article')\n      }\n    }, 1000)\n    // res = rollingNotice.value\n\n    // if (res.length) {\n    //   bulletinData.value = res\n    // }\n\n    window.log('跑马灯公告内容', res)\n  } catch (error) {\n    console.error(error)\n  }\n}\n\nconst dialogShow = ref(false)\nconst dialog = ref<IArticleListType | Record<string, any>>({})\n\nconst handleShowDialog = (_dialog: IArticleListType) => {\n  dialog.value = _dialog\n  dialogShow.value = true\n}\nconst closeDialog = () => {\n  dialogShow.value = false\n}\nconst setCurrStatus = (data: IGlobalNotification) => {\n  if (data.type === 'AuthExpire') {\n    currStatus.AuthExpire = data.value\n  }\n}\n\nonMounted(() => {\n  mitt.on('global-notification', setCurrStatus)\n  handleRollingNoticeData()\n})\nonUnmounted(() => {\n  mitt.off('global-notification', setCurrStatus)\n  updateArticleTimer && clearTimeout(updateArticleTimer)\n  updateArticleTimer = null\n})\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_van_swipe_item = _resolveComponent(\"van-swipe-item\")!\n  const _component_van_swipe = _resolveComponent(\"van-swipe\")!\n  const _component_van_dialog = _resolveComponent(\"van-dialog\")!\n  const _directive_content = _resolveDirective(\"content\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", {\n      class: _normalizeClass([\"bulletin\", { 'bulletin-activity': adModWebUrlLink.value.theme_activities_show }])\n    }, null, 2 /* CLASS */),\n    _createVNode(_component_van_swipe, {\n      autoplay: \"4000\",\n      duration: \"600\",\n      vertical: \"\",\n      \"show-indicators\": false,\n      touchable: false,\n      class: \"swipe-bulletin\"\n    }, {\n      default: _withCtx(() => [\n        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(rollingNotice), (item) => {\n          return (_openBlock(), _createBlock(_component_van_swipe_item, {\n            key: item.id,\n            onClick: _withModifiers(($event: any) => (handleShowDialog(item)), [\"stop\"])\n          }, {\n            default: _withCtx(() => [\n              _createElementVNode(\"div\", {\n                innerHTML: item.title\n              }, null, 8 /* PROPS */, _hoisted_2)\n            ]),\n            _: 2 /* DYNAMIC */\n          }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"onClick\"]))\n        }), 128 /* KEYED_FRAGMENT */))\n      ]),\n      _: 1 /* STABLE */\n    }),\n    _createVNode(_component_van_dialog, {\n      show: dialogShow.value,\n      \"onUpdate:show\": _cache[0] || (_cache[0] = ($event: any) => ((dialogShow).value = $event)),\n      title: \"公告\",\n      confirmButtonText: \"我知道了\",\n      theme: \"round-button\",\n      className: \"dialog-bulletin\"\n    }, {\n      default: _withCtx(() => [\n        _createElementVNode(\"i\", {\n          class: \"icon-close close-dark block\",\n          onClick: closeDialog\n        }),\n        _withDirectives(_createElementVNode(\"div\", {\n          innerHTML: dialog.value.content\n        }, null, 8 /* PROPS */, _hoisted_3), [\n          [_directive_content]\n        ])\n      ]),\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"show\"])\n  ]))\n}\n}\n\n})",
      "start": 1714699771923,
      "end": 1714699771923
    },
    {
      "name": "vite:css",
      "start": 1714699771923,
      "end": 1714699771923,
      "order": "normal"
    },
    {
      "name": "vite:esbuild",
      "result": "import { defineComponent as _defineComponent } from \"vue\";\nimport { normalizeClass as _normalizeClass, createElementVNode as _createElementVNode, unref as _unref, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, resolveComponent as _resolveComponent, withModifiers as _withModifiers, withCtx as _withCtx, createBlock as _createBlock, createVNode as _createVNode, resolveDirective as _resolveDirective, withDirectives as _withDirectives, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = (n) => (_pushScopeId(\"data-v-7d8a463d\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = { class: \"bulletin-container flex items-center\" };\nconst _hoisted_2 = [\"innerHTML\"];\nconst _hoisted_3 = [\"innerHTML\"];\nimport { useArticleStore } from \"@/store/modules/article\";\nimport { useAuthStore } from \"@/store/modules/auth\";\nimport { useEntryStore } from \"@/store/modules/entry\";\nimport mitt from \"@/utils/mitt\";\nimport { storeToRefs } from \"pinia\";\nimport { computed, onMounted, onUnmounted, reactive, ref } from \"vue\";\nimport { useRouter } from \"vue-router\";\nexport default /* @__PURE__ */ _defineComponent({\n  __name: \"Bulletin\",\n  emits: [\"update-article\"],\n  setup(__props, { emit: __emit }) {\n    const authStore = useAuthStore();\n    const { token, userInfo } = storeToRefs(authStore);\n    const { cash } = userInfo.value;\n    const router = useRouter();\n    const articleStore = useArticleStore();\n    const { getArticleListApi } = articleStore;\n    const { rollingNotice } = storeToRefs(articleStore);\n    const entryStore = useEntryStore();\n    const { config } = storeToRefs(entryStore);\n    const emit = __emit;\n    const bulletinData = ref([]);\n    const currStatus = reactive({\n      AuthExpire: false\n    });\n    const adModWebUrlLink = computed(\n      () => config.value.Web_Set_DefaultInfo?.AD_Mod_WebUrlLink ?? {}\n    );\n    let updateArticleTimer;\n    const handleRollingNoticeData = async () => {\n      try {\n        let res = await getArticleListApi({\n          bind_key: \"OpenNotice,RollingNotice,HomeHuanDeng\"\n        });\n        updateArticleTimer = setTimeout(() => {\n          if (!currStatus.AuthExpire) {\n            emit(\"update-article\");\n          }\n        }, 1e3);\n        window.log(\"跑马灯公告内容\", res);\n      } catch (error) {\n        console.error(error);\n      }\n    };\n    const dialogShow = ref(false);\n    const dialog = ref({});\n    const handleShowDialog = (_dialog) => {\n      dialog.value = _dialog;\n      dialogShow.value = true;\n    };\n    const closeDialog = () => {\n      dialogShow.value = false;\n    };\n    const setCurrStatus = (data) => {\n      if (data.type === \"AuthExpire\") {\n        currStatus.AuthExpire = data.value;\n      }\n    };\n    onMounted(() => {\n      mitt.on(\"global-notification\", setCurrStatus);\n      handleRollingNoticeData();\n    });\n    onUnmounted(() => {\n      mitt.off(\"global-notification\", setCurrStatus);\n      updateArticleTimer && clearTimeout(updateArticleTimer);\n      updateArticleTimer = null;\n    });\n    return (_ctx, _cache) => {\n      const _component_van_swipe_item = _resolveComponent(\"van-swipe-item\");\n      const _component_van_swipe = _resolveComponent(\"van-swipe\");\n      const _component_van_dialog = _resolveComponent(\"van-dialog\");\n      const _directive_content = _resolveDirective(\"content\");\n      return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n        _createElementVNode(\n          \"div\",\n          {\n            class: _normalizeClass([\"bulletin\", { \"bulletin-activity\": adModWebUrlLink.value.theme_activities_show }])\n          },\n          null,\n          2\n          /* CLASS */\n        ),\n        _createVNode(_component_van_swipe, {\n          autoplay: \"4000\",\n          duration: \"600\",\n          vertical: \"\",\n          \"show-indicators\": false,\n          touchable: false,\n          class: \"swipe-bulletin\"\n        }, {\n          default: _withCtx(() => [\n            (_openBlock(true), _createElementBlock(\n              _Fragment,\n              null,\n              _renderList(_unref(rollingNotice), (item) => {\n                return _openBlock(), _createBlock(_component_van_swipe_item, {\n                  key: item.id,\n                  onClick: _withModifiers(($event) => handleShowDialog(item), [\"stop\"])\n                }, {\n                  default: _withCtx(() => [\n                    _createElementVNode(\"div\", {\n                      innerHTML: item.title\n                    }, null, 8, _hoisted_2)\n                  ]),\n                  _: 2\n                  /* DYNAMIC */\n                }, 1032, [\"onClick\"]);\n              }),\n              128\n              /* KEYED_FRAGMENT */\n            ))\n          ]),\n          _: 1\n          /* STABLE */\n        }),\n        _createVNode(_component_van_dialog, {\n          show: dialogShow.value,\n          \"onUpdate:show\": _cache[0] || (_cache[0] = ($event) => dialogShow.value = $event),\n          title: \"公告\",\n          confirmButtonText: \"我知道了\",\n          theme: \"round-button\",\n          className: \"dialog-bulletin\"\n        }, {\n          default: _withCtx(() => [\n            _createElementVNode(\"i\", {\n              class: \"icon-close close-dark block\",\n              onClick: closeDialog\n            }),\n            _withDirectives(_createElementVNode(\"div\", {\n              innerHTML: dialog.value.content\n            }, null, 8, _hoisted_3), [\n              [_directive_content]\n            ])\n          ]),\n          _: 1\n          /* STABLE */\n        }, 8, [\"show\"])\n      ]);\n    };\n  }\n});\n",
      "start": 1714699771924,
      "end": 1714699772152,
      "order": "normal",
      "sourcemaps": {
        "version": 3,
        "sources": [
          "/Users/afeng/Desktop/work/gdpayh5-web/src/components/Home/Bulletin.vue?vue&type=script&setup=true&lang.ts"
        ],
        "sourcesContent": [
          "import { defineComponent as _defineComponent } from 'vue'\nimport { normalizeClass as _normalizeClass, createElementVNode as _createElementVNode, unref as _unref, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, resolveComponent as _resolveComponent, withModifiers as _withModifiers, withCtx as _withCtx, createBlock as _createBlock, createVNode as _createVNode, resolveDirective as _resolveDirective, withDirectives as _withDirectives, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-7d8a463d\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"bulletin-container flex items-center\" }\nconst _hoisted_2 = [\"innerHTML\"]\nconst _hoisted_3 = [\"innerHTML\"]\n\nimport { useArticleStore } from '@/store/modules/article'\nimport { useAuthStore } from '@/store/modules/auth'\nimport { useEntryStore } from '@/store/modules/entry'\nimport { IArticleListType } from '@/store/types/article'\nimport { IWebUrlLink } from '@/store/types/entry'\nimport { IGlobalNotification } from '@/store/types/global'\nimport mitt from '@/utils/mitt'\nimport { storeToRefs } from 'pinia'\nimport { computed, onMounted, onUnmounted, reactive, ref } from 'vue'\nimport { useRouter } from 'vue-router'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'Bulletin',\n  emits: ['update-article'],\n  setup(__props, { emit: __emit }) {\n\nconst authStore = useAuthStore()\nconst { token, userInfo } = storeToRefs(authStore)\nconst { cash } = userInfo.value\n\nconst router = useRouter()\nconst articleStore = useArticleStore()\nconst { getArticleListApi } = articleStore\nconst { rollingNotice } = storeToRefs(articleStore)\n\nconst entryStore = useEntryStore()\nconst { config } = storeToRefs(entryStore)\n\nconst emit = __emit\n\nconst bulletinData = ref<IArticleListType[]>([])\nconst currStatus = reactive({\n  AuthExpire: false\n})\n\nconst adModWebUrlLink = computed<IWebUrlLink>(\n  () => (config.value.Web_Set_DefaultInfo?.AD_Mod_WebUrlLink ?? {}) as IWebUrlLink\n)\n\nlet updateArticleTimer: NodeJS.Timeout | null\nconst handleRollingNoticeData = async () => {\n  try {\n    let res: IArticleListType[] = await getArticleListApi({\n      bind_key: 'OpenNotice,RollingNotice,HomeHuanDeng'\n    })\n\n    updateArticleTimer = setTimeout(() => {\n      if (!currStatus.AuthExpire) {\n        emit('update-article')\n      }\n    }, 1000)\n    // res = rollingNotice.value\n\n    // if (res.length) {\n    //   bulletinData.value = res\n    // }\n\n    window.log('跑马灯公告内容', res)\n  } catch (error) {\n    console.error(error)\n  }\n}\n\nconst dialogShow = ref(false)\nconst dialog = ref<IArticleListType | Record<string, any>>({})\n\nconst handleShowDialog = (_dialog: IArticleListType) => {\n  dialog.value = _dialog\n  dialogShow.value = true\n}\nconst closeDialog = () => {\n  dialogShow.value = false\n}\nconst setCurrStatus = (data: IGlobalNotification) => {\n  if (data.type === 'AuthExpire') {\n    currStatus.AuthExpire = data.value\n  }\n}\n\nonMounted(() => {\n  mitt.on('global-notification', setCurrStatus)\n  handleRollingNoticeData()\n})\nonUnmounted(() => {\n  mitt.off('global-notification', setCurrStatus)\n  updateArticleTimer && clearTimeout(updateArticleTimer)\n  updateArticleTimer = null\n})\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_van_swipe_item = _resolveComponent(\"van-swipe-item\")!\n  const _component_van_swipe = _resolveComponent(\"van-swipe\")!\n  const _component_van_dialog = _resolveComponent(\"van-dialog\")!\n  const _directive_content = _resolveDirective(\"content\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", {\n      class: _normalizeClass([\"bulletin\", { 'bulletin-activity': adModWebUrlLink.value.theme_activities_show }])\n    }, null, 2 /* CLASS */),\n    _createVNode(_component_van_swipe, {\n      autoplay: \"4000\",\n      duration: \"600\",\n      vertical: \"\",\n      \"show-indicators\": false,\n      touchable: false,\n      class: \"swipe-bulletin\"\n    }, {\n      default: _withCtx(() => [\n        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(rollingNotice), (item) => {\n          return (_openBlock(), _createBlock(_component_van_swipe_item, {\n            key: item.id,\n            onClick: _withModifiers(($event: any) => (handleShowDialog(item)), [\"stop\"])\n          }, {\n            default: _withCtx(() => [\n              _createElementVNode(\"div\", {\n                innerHTML: item.title\n              }, null, 8 /* PROPS */, _hoisted_2)\n            ]),\n            _: 2 /* DYNAMIC */\n          }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"onClick\"]))\n        }), 128 /* KEYED_FRAGMENT */))\n      ]),\n      _: 1 /* STABLE */\n    }),\n    _createVNode(_component_van_dialog, {\n      show: dialogShow.value,\n      \"onUpdate:show\": _cache[0] || (_cache[0] = ($event: any) => ((dialogShow).value = $event)),\n      title: \"公告\",\n      confirmButtonText: \"我知道了\",\n      theme: \"round-button\",\n      className: \"dialog-bulletin\"\n    }, {\n      default: _withCtx(() => [\n        _createElementVNode(\"i\", {\n          class: \"icon-close close-dark block\",\n          onClick: closeDialog\n        }),\n        _withDirectives(_createElementVNode(\"div\", {\n          innerHTML: dialog.value.content\n        }, null, 8 /* PROPS */, _hoisted_3), [\n          [_directive_content]\n        ])\n      ]),\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"show\"])\n  ]))\n}\n}\n\n})"
        ],
        "mappings": "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",
        "names": []
      }
    },
    {
      "name": "vite:json",
      "start": 1714699772152,
      "end": 1714699772152,
      "order": "normal"
    },
    {
      "name": "vite:worker",
      "start": 1714699772152,
      "end": 1714699772152,
      "order": "normal"
    },
    {
      "name": "vite:vue",
      "start": 1714699772152,
      "end": 1714699772152,
      "order": "normal"
    },
    {
      "name": "vite:vue-jsx",
      "start": 1714699772152,
      "end": 1714699772152,
      "order": "normal"
    },
    {
      "name": "vite-plugin-vconsole",
      "result": "import { defineComponent as _defineComponent } from \"vue\";\nimport { normalizeClass as _normalizeClass, createElementVNode as _createElementVNode, unref as _unref, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, resolveComponent as _resolveComponent, withModifiers as _withModifiers, withCtx as _withCtx, createBlock as _createBlock, createVNode as _createVNode, resolveDirective as _resolveDirective, withDirectives as _withDirectives, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = (n) => (_pushScopeId(\"data-v-7d8a463d\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = { class: \"bulletin-container flex items-center\" };\nconst _hoisted_2 = [\"innerHTML\"];\nconst _hoisted_3 = [\"innerHTML\"];\nimport { useArticleStore } from \"@/store/modules/article\";\nimport { useAuthStore } from \"@/store/modules/auth\";\nimport { useEntryStore } from \"@/store/modules/entry\";\nimport mitt from \"@/utils/mitt\";\nimport { storeToRefs } from \"pinia\";\nimport { computed, onMounted, onUnmounted, reactive, ref } from \"vue\";\nimport { useRouter } from \"vue-router\";\nexport default /* @__PURE__ */ _defineComponent({\n  __name: \"Bulletin\",\n  emits: [\"update-article\"],\n  setup(__props, { emit: __emit }) {\n    const authStore = useAuthStore();\n    const { token, userInfo } = storeToRefs(authStore);\n    const { cash } = userInfo.value;\n    const router = useRouter();\n    const articleStore = useArticleStore();\n    const { getArticleListApi } = articleStore;\n    const { rollingNotice } = storeToRefs(articleStore);\n    const entryStore = useEntryStore();\n    const { config } = storeToRefs(entryStore);\n    const emit = __emit;\n    const bulletinData = ref([]);\n    const currStatus = reactive({\n      AuthExpire: false\n    });\n    const adModWebUrlLink = computed(\n      () => config.value.Web_Set_DefaultInfo?.AD_Mod_WebUrlLink ?? {}\n    );\n    let updateArticleTimer;\n    const handleRollingNoticeData = async () => {\n      try {\n        let res = await getArticleListApi({\n          bind_key: \"OpenNotice,RollingNotice,HomeHuanDeng\"\n        });\n        updateArticleTimer = setTimeout(() => {\n          if (!currStatus.AuthExpire) {\n            emit(\"update-article\");\n          }\n        }, 1e3);\n        window.log(\"跑马灯公告内容\", res);\n      } catch (error) {\n        console.error(error);\n      }\n    };\n    const dialogShow = ref(false);\n    const dialog = ref({});\n    const handleShowDialog = (_dialog) => {\n      dialog.value = _dialog;\n      dialogShow.value = true;\n    };\n    const closeDialog = () => {\n      dialogShow.value = false;\n    };\n    const setCurrStatus = (data) => {\n      if (data.type === \"AuthExpire\") {\n        currStatus.AuthExpire = data.value;\n      }\n    };\n    onMounted(() => {\n      mitt.on(\"global-notification\", setCurrStatus);\n      handleRollingNoticeData();\n    });\n    onUnmounted(() => {\n      mitt.off(\"global-notification\", setCurrStatus);\n      updateArticleTimer && clearTimeout(updateArticleTimer);\n      updateArticleTimer = null;\n    });\n    return (_ctx, _cache) => {\n      const _component_van_swipe_item = _resolveComponent(\"van-swipe-item\");\n      const _component_van_swipe = _resolveComponent(\"van-swipe\");\n      const _component_van_dialog = _resolveComponent(\"van-dialog\");\n      const _directive_content = _resolveDirective(\"content\");\n      return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n        _createElementVNode(\n          \"div\",\n          {\n            class: _normalizeClass([\"bulletin\", { \"bulletin-activity\": adModWebUrlLink.value.theme_activities_show }])\n          },\n          null,\n          2\n          /* CLASS */\n        ),\n        _createVNode(_component_van_swipe, {\n          autoplay: \"4000\",\n          duration: \"600\",\n          vertical: \"\",\n          \"show-indicators\": false,\n          touchable: false,\n          class: \"swipe-bulletin\"\n        }, {\n          default: _withCtx(() => [\n            (_openBlock(true), _createElementBlock(\n              _Fragment,\n              null,\n              _renderList(_unref(rollingNotice), (item) => {\n                return _openBlock(), _createBlock(_component_van_swipe_item, {\n                  key: item.id,\n                  onClick: _withModifiers(($event) => handleShowDialog(item), [\"stop\"])\n                }, {\n                  default: _withCtx(() => [\n                    _createElementVNode(\"div\", {\n                      innerHTML: item.title\n                    }, null, 8, _hoisted_2)\n                  ]),\n                  _: 2\n                  /* DYNAMIC */\n                }, 1032, [\"onClick\"]);\n              }),\n              128\n              /* KEYED_FRAGMENT */\n            ))\n          ]),\n          _: 1\n          /* STABLE */\n        }),\n        _createVNode(_component_van_dialog, {\n          show: dialogShow.value,\n          \"onUpdate:show\": _cache[0] || (_cache[0] = ($event) => dialogShow.value = $event),\n          title: \"公告\",\n          confirmButtonText: \"我知道了\",\n          theme: \"round-button\",\n          className: \"dialog-bulletin\"\n        }, {\n          default: _withCtx(() => [\n            _createElementVNode(\"i\", {\n              class: \"icon-close close-dark block\",\n              onClick: closeDialog\n            }),\n            _withDirectives(_createElementVNode(\"div\", {\n              innerHTML: dialog.value.content\n            }, null, 8, _hoisted_3), [\n              [_directive_content]\n            ])\n          ]),\n          _: 1\n          /* STABLE */\n        }, 8, [\"show\"])\n      ]);\n    };\n  }\n});\n",
      "start": 1714699772152,
      "end": 1714699772152,
      "order": "normal",
      "sourcemaps": null
    },
    {
      "name": "esbuild",
      "result": "\"use strict\";\nimport { defineComponent as _defineComponent } from \"vue\";\nimport { normalizeClass as _normalizeClass, createElementVNode as _createElementVNode, unref as _unref, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, resolveComponent as _resolveComponent, withModifiers as _withModifiers, withCtx as _withCtx, createBlock as _createBlock, createVNode as _createVNode, resolveDirective as _resolveDirective, withDirectives as _withDirectives, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = (n) => (_pushScopeId(\"data-v-7d8a463d\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = { class: \"bulletin-container flex items-center\" };\nconst _hoisted_2 = [\"innerHTML\"];\nconst _hoisted_3 = [\"innerHTML\"];\nimport { useArticleStore } from \"@/store/modules/article\";\nimport { useAuthStore } from \"@/store/modules/auth\";\nimport { useEntryStore } from \"@/store/modules/entry\";\nimport mitt from \"@/utils/mitt\";\nimport { storeToRefs } from \"pinia\";\nimport { computed, onMounted, onUnmounted, reactive, ref } from \"vue\";\nimport { useRouter } from \"vue-router\";\nexport default /* @__PURE__ */ _defineComponent({\n  __name: \"Bulletin\",\n  emits: [\"update-article\"],\n  setup(__props, { emit: __emit }) {\n    const authStore = useAuthStore();\n    const { token, userInfo } = storeToRefs(authStore);\n    const { cash } = userInfo.value;\n    const router = useRouter();\n    const articleStore = useArticleStore();\n    const { getArticleListApi } = articleStore;\n    const { rollingNotice } = storeToRefs(articleStore);\n    const entryStore = useEntryStore();\n    const { config } = storeToRefs(entryStore);\n    const emit = __emit;\n    const bulletinData = ref([]);\n    const currStatus = reactive({\n      AuthExpire: false\n    });\n    const adModWebUrlLink = computed(\n      () => {\n        var _a, _b;\n        return (_b = (_a = config.value.Web_Set_DefaultInfo) == null ? void 0 : _a.AD_Mod_WebUrlLink) != null ? _b : {};\n      }\n    );\n    let updateArticleTimer;\n    const handleRollingNoticeData = async () => {\n      try {\n        let res = await getArticleListApi({\n          bind_key: \"OpenNotice,RollingNotice,HomeHuanDeng\"\n        });\n        updateArticleTimer = setTimeout(() => {\n          if (!currStatus.AuthExpire) {\n            emit(\"update-article\");\n          }\n        }, 1e3);\n        window.log(\"\\u8DD1\\u9A6C\\u706F\\u516C\\u544A\\u5185\\u5BB9\", res);\n      } catch (error) {\n        console.error(error);\n      }\n    };\n    const dialogShow = ref(false);\n    const dialog = ref({});\n    const handleShowDialog = (_dialog) => {\n      dialog.value = _dialog;\n      dialogShow.value = true;\n    };\n    const closeDialog = () => {\n      dialogShow.value = false;\n    };\n    const setCurrStatus = (data) => {\n      if (data.type === \"AuthExpire\") {\n        currStatus.AuthExpire = data.value;\n      }\n    };\n    onMounted(() => {\n      mitt.on(\"global-notification\", setCurrStatus);\n      handleRollingNoticeData();\n    });\n    onUnmounted(() => {\n      mitt.off(\"global-notification\", setCurrStatus);\n      updateArticleTimer && clearTimeout(updateArticleTimer);\n      updateArticleTimer = null;\n    });\n    return (_ctx, _cache) => {\n      const _component_van_swipe_item = _resolveComponent(\"van-swipe-item\");\n      const _component_van_swipe = _resolveComponent(\"van-swipe\");\n      const _component_van_dialog = _resolveComponent(\"van-dialog\");\n      const _directive_content = _resolveDirective(\"content\");\n      return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n        _createElementVNode(\n          \"div\",\n          {\n            class: _normalizeClass([\"bulletin\", { \"bulletin-activity\": adModWebUrlLink.value.theme_activities_show }])\n          },\n          null,\n          2\n          /* CLASS */\n        ),\n        _createVNode(_component_van_swipe, {\n          autoplay: \"4000\",\n          duration: \"600\",\n          vertical: \"\",\n          \"show-indicators\": false,\n          touchable: false,\n          class: \"swipe-bulletin\"\n        }, {\n          default: _withCtx(() => [\n            (_openBlock(true), _createElementBlock(\n              _Fragment,\n              null,\n              _renderList(_unref(rollingNotice), (item) => {\n                return _openBlock(), _createBlock(_component_van_swipe_item, {\n                  key: item.id,\n                  onClick: _withModifiers(($event) => handleShowDialog(item), [\"stop\"])\n                }, {\n                  default: _withCtx(() => [\n                    _createElementVNode(\"div\", {\n                      innerHTML: item.title\n                    }, null, 8, _hoisted_2)\n                  ]),\n                  _: 2\n                  /* DYNAMIC */\n                }, 1032, [\"onClick\"]);\n              }),\n              128\n              /* KEYED_FRAGMENT */\n            ))\n          ]),\n          _: 1\n          /* STABLE */\n        }),\n        _createVNode(_component_van_dialog, {\n          show: dialogShow.value,\n          \"onUpdate:show\": _cache[0] || (_cache[0] = ($event) => dialogShow.value = $event),\n          title: \"\\u516C\\u544A\",\n          confirmButtonText: \"\\u6211\\u77E5\\u9053\\u4E86\",\n          theme: \"round-button\",\n          className: \"dialog-bulletin\"\n        }, {\n          default: _withCtx(() => [\n            _createElementVNode(\"i\", {\n              class: \"icon-close close-dark block\",\n              onClick: closeDialog\n            }),\n            _withDirectives(_createElementVNode(\"div\", {\n              innerHTML: dialog.value.content\n            }, null, 8, _hoisted_3), [\n              [_directive_content]\n            ])\n          ]),\n          _: 1\n          /* STABLE */\n        }, 8, [\"show\"])\n      ]);\n    };\n  }\n});\n",
      "start": 1714699772152,
      "end": 1714699772259,
      "order": "normal",
      "sourcemaps": "{\n  \"version\": 3,\n  \"sources\": [\"/Users/afeng/Desktop/work/gdpayh5-web/src/components/Home/Bulletin.vue?vue&type=script&setup=true&lang.ts\"],\n  \"sourcesContent\": [\"import { defineComponent as _defineComponent } from \\\"vue\\\";\\nimport { normalizeClass as _normalizeClass, createElementVNode as _createElementVNode, unref as _unref, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, resolveComponent as _resolveComponent, withModifiers as _withModifiers, withCtx as _withCtx, createBlock as _createBlock, createVNode as _createVNode, resolveDirective as _resolveDirective, withDirectives as _withDirectives, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \\\"vue\\\";\\nconst _withScopeId = (n) => (_pushScopeId(\\\"data-v-7d8a463d\\\"), n = n(), _popScopeId(), n);\\nconst _hoisted_1 = { class: \\\"bulletin-container flex items-center\\\" };\\nconst _hoisted_2 = [\\\"innerHTML\\\"];\\nconst _hoisted_3 = [\\\"innerHTML\\\"];\\nimport { useArticleStore } from \\\"@/store/modules/article\\\";\\nimport { useAuthStore } from \\\"@/store/modules/auth\\\";\\nimport { useEntryStore } from \\\"@/store/modules/entry\\\";\\nimport mitt from \\\"@/utils/mitt\\\";\\nimport { storeToRefs } from \\\"pinia\\\";\\nimport { computed, onMounted, onUnmounted, reactive, ref } from \\\"vue\\\";\\nimport { useRouter } from \\\"vue-router\\\";\\nexport default /* @__PURE__ */ _defineComponent({\\n  __name: \\\"Bulletin\\\",\\n  emits: [\\\"update-article\\\"],\\n  setup(__props, { emit: __emit }) {\\n    const authStore = useAuthStore();\\n    const { token, userInfo } = storeToRefs(authStore);\\n    const { cash } = userInfo.value;\\n    const router = useRouter();\\n    const articleStore = useArticleStore();\\n    const { getArticleListApi } = articleStore;\\n    const { rollingNotice } = storeToRefs(articleStore);\\n    const entryStore = useEntryStore();\\n    const { config } = storeToRefs(entryStore);\\n    const emit = __emit;\\n    const bulletinData = ref([]);\\n    const currStatus = reactive({\\n      AuthExpire: false\\n    });\\n    const adModWebUrlLink = computed(\\n      () => config.value.Web_Set_DefaultInfo?.AD_Mod_WebUrlLink ?? {}\\n    );\\n    let updateArticleTimer;\\n    const handleRollingNoticeData = async () => {\\n      try {\\n        let res = await getArticleListApi({\\n          bind_key: \\\"OpenNotice,RollingNotice,HomeHuanDeng\\\"\\n        });\\n        updateArticleTimer = setTimeout(() => {\\n          if (!currStatus.AuthExpire) {\\n            emit(\\\"update-article\\\");\\n          }\\n        }, 1e3);\\n        window.log(\\\"\\u8DD1\\u9A6C\\u706F\\u516C\\u544A\\u5185\\u5BB9\\\", res);\\n      } catch (error) {\\n        console.error(error);\\n      }\\n    };\\n    const dialogShow = ref(false);\\n    const dialog = ref({});\\n    const handleShowDialog = (_dialog) => {\\n      dialog.value = _dialog;\\n      dialogShow.value = true;\\n    };\\n    const closeDialog = () => {\\n      dialogShow.value = false;\\n    };\\n    const setCurrStatus = (data) => {\\n      if (data.type === \\\"AuthExpire\\\") {\\n        currStatus.AuthExpire = data.value;\\n      }\\n    };\\n    onMounted(() => {\\n      mitt.on(\\\"global-notification\\\", setCurrStatus);\\n      handleRollingNoticeData();\\n    });\\n    onUnmounted(() => {\\n      mitt.off(\\\"global-notification\\\", setCurrStatus);\\n      updateArticleTimer && clearTimeout(updateArticleTimer);\\n      updateArticleTimer = null;\\n    });\\n    return (_ctx, _cache) => {\\n      const _component_van_swipe_item = _resolveComponent(\\\"van-swipe-item\\\");\\n      const _component_van_swipe = _resolveComponent(\\\"van-swipe\\\");\\n      const _component_van_dialog = _resolveComponent(\\\"van-dialog\\\");\\n      const _directive_content = _resolveDirective(\\\"content\\\");\\n      return _openBlock(), _createElementBlock(\\\"div\\\", _hoisted_1, [\\n        _createElementVNode(\\n          \\\"div\\\",\\n          {\\n            class: _normalizeClass([\\\"bulletin\\\", { \\\"bulletin-activity\\\": adModWebUrlLink.value.theme_activities_show }])\\n          },\\n          null,\\n          2\\n          /* CLASS */\\n        ),\\n        _createVNode(_component_van_swipe, {\\n          autoplay: \\\"4000\\\",\\n          duration: \\\"600\\\",\\n          vertical: \\\"\\\",\\n          \\\"show-indicators\\\": false,\\n          touchable: false,\\n          class: \\\"swipe-bulletin\\\"\\n        }, {\\n          default: _withCtx(() => [\\n            (_openBlock(true), _createElementBlock(\\n              _Fragment,\\n              null,\\n              _renderList(_unref(rollingNotice), (item) => {\\n                return _openBlock(), _createBlock(_component_van_swipe_item, {\\n                  key: item.id,\\n                  onClick: _withModifiers(($event) => handleShowDialog(item), [\\\"stop\\\"])\\n                }, {\\n                  default: _withCtx(() => [\\n                    _createElementVNode(\\\"div\\\", {\\n                      innerHTML: item.title\\n                    }, null, 8, _hoisted_2)\\n                  ]),\\n                  _: 2\\n                  /* DYNAMIC */\\n                }, 1032, [\\\"onClick\\\"]);\\n              }),\\n              128\\n              /* KEYED_FRAGMENT */\\n            ))\\n          ]),\\n          _: 1\\n          /* STABLE */\\n        }),\\n        _createVNode(_component_van_dialog, {\\n          show: dialogShow.value,\\n          \\\"onUpdate:show\\\": _cache[0] || (_cache[0] = ($event) => dialogShow.value = $event),\\n          title: \\\"\\u516C\\u544A\\\",\\n          confirmButtonText: \\\"\\u6211\\u77E5\\u9053\\u4E86\\\",\\n          theme: \\\"round-button\\\",\\n          className: \\\"dialog-bulletin\\\"\\n        }, {\\n          default: _withCtx(() => [\\n            _createElementVNode(\\\"i\\\", {\\n              class: \\\"icon-close close-dark block\\\",\\n              onClick: closeDialog\\n            }),\\n            _withDirectives(_createElementVNode(\\\"div\\\", {\\n              innerHTML: dialog.value.content\\n            }, null, 8, _hoisted_3), [\\n              [_directive_content]\\n            ])\\n          ]),\\n          _: 1\\n          /* STABLE */\\n        }, 8, [\\\"show\\\"])\\n      ]);\\n    };\\n  }\\n});\\n\"],\n  \"mappings\": \"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\",\n  \"names\": []\n}\n"
    },
    {
      "name": "vite:define",
      "start": 1714699772259,
      "end": 1714699772259,
      "order": "normal"
    },
    {
      "name": "vite:css-post",
      "start": 1714699772259,
      "end": 1714699772259,
      "order": "normal"
    },
    {
      "name": "vite:build-html",
      "start": 1714699772259,
      "end": 1714699772259,
      "order": "normal"
    },
    {
      "name": "vite:worker-import-meta-url",
      "start": 1714699772259,
      "end": 1714699772259,
      "order": "normal"
    },
    {
      "name": "vite:asset-import-meta-url",
      "start": 1714699772259,
      "end": 1714699772259,
      "order": "normal"
    },
    {
      "name": "commonjs",
      "start": 1714699772259,
      "end": 1714699772259,
      "order": "normal"
    },
    {
      "name": "vite:dynamic-import-vars",
      "start": 1714699772259,
      "end": 1714699772259,
      "order": "normal"
    },
    {
      "name": "vite:import-glob",
      "start": 1714699772259,
      "end": 1714699772259,
      "order": "normal"
    },
    {
      "name": "unplugin-auto-import",
      "start": 1714699772259,
      "end": 1714699772260,
      "order": "post"
    },
    {
      "name": "unplugin-vue-components",
      "result": "/* unplugin-vue-components disabled */import { Dialog as __unplugin_components_2 } from 'vant/es';import 'vant/es/dialog/style/index';\nimport { Swipe as __unplugin_components_1 } from 'vant/es';import 'vant/es/swipe/style/index';\nimport { SwipeItem as __unplugin_components_0 } from 'vant/es';import 'vant/es/swipe-item/style/index';\n\"use strict\";\nimport { defineComponent as _defineComponent } from \"vue\";\nimport { normalizeClass as _normalizeClass, createElementVNode as _createElementVNode, unref as _unref, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, resolveComponent as _resolveComponent, withModifiers as _withModifiers, withCtx as _withCtx, createBlock as _createBlock, createVNode as _createVNode, resolveDirective as _resolveDirective, withDirectives as _withDirectives, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = (n) => (_pushScopeId(\"data-v-7d8a463d\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = { class: \"bulletin-container flex items-center\" };\nconst _hoisted_2 = [\"innerHTML\"];\nconst _hoisted_3 = [\"innerHTML\"];\nimport { useArticleStore } from \"@/store/modules/article\";\nimport { useAuthStore } from \"@/store/modules/auth\";\nimport { useEntryStore } from \"@/store/modules/entry\";\nimport mitt from \"@/utils/mitt\";\nimport { storeToRefs } from \"pinia\";\nimport { computed, onMounted, onUnmounted, reactive, ref } from \"vue\";\nimport { useRouter } from \"vue-router\";\nexport default /* @__PURE__ */ _defineComponent({\n  __name: \"Bulletin\",\n  emits: [\"update-article\"],\n  setup(__props, { emit: __emit }) {\n    const authStore = useAuthStore();\n    const { token, userInfo } = storeToRefs(authStore);\n    const { cash } = userInfo.value;\n    const router = useRouter();\n    const articleStore = useArticleStore();\n    const { getArticleListApi } = articleStore;\n    const { rollingNotice } = storeToRefs(articleStore);\n    const entryStore = useEntryStore();\n    const { config } = storeToRefs(entryStore);\n    const emit = __emit;\n    const bulletinData = ref([]);\n    const currStatus = reactive({\n      AuthExpire: false\n    });\n    const adModWebUrlLink = computed(\n      () => {\n        var _a, _b;\n        return (_b = (_a = config.value.Web_Set_DefaultInfo) == null ? void 0 : _a.AD_Mod_WebUrlLink) != null ? _b : {};\n      }\n    );\n    let updateArticleTimer;\n    const handleRollingNoticeData = async () => {\n      try {\n        let res = await getArticleListApi({\n          bind_key: \"OpenNotice,RollingNotice,HomeHuanDeng\"\n        });\n        updateArticleTimer = setTimeout(() => {\n          if (!currStatus.AuthExpire) {\n            emit(\"update-article\");\n          }\n        }, 1e3);\n        window.log(\"\\u8DD1\\u9A6C\\u706F\\u516C\\u544A\\u5185\\u5BB9\", res);\n      } catch (error) {\n        console.error(error);\n      }\n    };\n    const dialogShow = ref(false);\n    const dialog = ref({});\n    const handleShowDialog = (_dialog) => {\n      dialog.value = _dialog;\n      dialogShow.value = true;\n    };\n    const closeDialog = () => {\n      dialogShow.value = false;\n    };\n    const setCurrStatus = (data) => {\n      if (data.type === \"AuthExpire\") {\n        currStatus.AuthExpire = data.value;\n      }\n    };\n    onMounted(() => {\n      mitt.on(\"global-notification\", setCurrStatus);\n      handleRollingNoticeData();\n    });\n    onUnmounted(() => {\n      mitt.off(\"global-notification\", setCurrStatus);\n      updateArticleTimer && clearTimeout(updateArticleTimer);\n      updateArticleTimer = null;\n    });\n    return (_ctx, _cache) => {\n      const _component_van_swipe_item = __unplugin_components_0;\n      const _component_van_swipe = __unplugin_components_1;\n      const _component_van_dialog = __unplugin_components_2;\n      const _directive_content = _resolveDirective(\"content\");\n      return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n        _createElementVNode(\n          \"div\",\n          {\n            class: _normalizeClass([\"bulletin\", { \"bulletin-activity\": adModWebUrlLink.value.theme_activities_show }])\n          },\n          null,\n          2\n          /* CLASS */\n        ),\n        _createVNode(_component_van_swipe, {\n          autoplay: \"4000\",\n          duration: \"600\",\n          vertical: \"\",\n          \"show-indicators\": false,\n          touchable: false,\n          class: \"swipe-bulletin\"\n        }, {\n          default: _withCtx(() => [\n            (_openBlock(true), _createElementBlock(\n              _Fragment,\n              null,\n              _renderList(_unref(rollingNotice), (item) => {\n                return _openBlock(), _createBlock(_component_van_swipe_item, {\n                  key: item.id,\n                  onClick: _withModifiers(($event) => handleShowDialog(item), [\"stop\"])\n                }, {\n                  default: _withCtx(() => [\n                    _createElementVNode(\"div\", {\n                      innerHTML: item.title\n                    }, null, 8, _hoisted_2)\n                  ]),\n                  _: 2\n                  /* DYNAMIC */\n                }, 1032, [\"onClick\"]);\n              }),\n              128\n              /* KEYED_FRAGMENT */\n            ))\n          ]),\n          _: 1\n          /* STABLE */\n        }),\n        _createVNode(_component_van_dialog, {\n          show: dialogShow.value,\n          \"onUpdate:show\": _cache[0] || (_cache[0] = ($event) => dialogShow.value = $event),\n          title: \"\\u516C\\u544A\",\n          confirmButtonText: \"\\u6211\\u77E5\\u9053\\u4E86\",\n          theme: \"round-button\",\n          className: \"dialog-bulletin\"\n        }, {\n          default: _withCtx(() => [\n            _createElementVNode(\"i\", {\n              class: \"icon-close close-dark block\",\n              onClick: closeDialog\n            }),\n            _withDirectives(_createElementVNode(\"div\", {\n              innerHTML: dialog.value.content\n            }, null, 8, _hoisted_3), [\n              [_directive_content]\n            ])\n          ]),\n          _: 1\n          /* STABLE */\n        }, 8, [\"show\"])\n      ]);\n    };\n  }\n});\n",
      "start": 1714699772260,
      "end": 1714699772260,
      "order": "post",
      "sourcemaps": {
        "version": 3,
        "sources": [
          "/Users/afeng/Desktop/work/gdpayh5-web/src/components/Home/Bulletin.vue?vue&type=script&setup=true&lang.ts"
        ],
        "sourcesContent": [
          "\"use strict\";\nimport { defineComponent as _defineComponent } from \"vue\";\nimport { normalizeClass as _normalizeClass, createElementVNode as _createElementVNode, unref as _unref, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, resolveComponent as _resolveComponent, withModifiers as _withModifiers, withCtx as _withCtx, createBlock as _createBlock, createVNode as _createVNode, resolveDirective as _resolveDirective, withDirectives as _withDirectives, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = (n) => (_pushScopeId(\"data-v-7d8a463d\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = { class: \"bulletin-container flex items-center\" };\nconst _hoisted_2 = [\"innerHTML\"];\nconst _hoisted_3 = [\"innerHTML\"];\nimport { useArticleStore } from \"@/store/modules/article\";\nimport { useAuthStore } from \"@/store/modules/auth\";\nimport { useEntryStore } from \"@/store/modules/entry\";\nimport mitt from \"@/utils/mitt\";\nimport { storeToRefs } from \"pinia\";\nimport { computed, onMounted, onUnmounted, reactive, ref } from \"vue\";\nimport { useRouter } from \"vue-router\";\nexport default /* @__PURE__ */ _defineComponent({\n  __name: \"Bulletin\",\n  emits: [\"update-article\"],\n  setup(__props, { emit: __emit }) {\n    const authStore = useAuthStore();\n    const { token, userInfo } = storeToRefs(authStore);\n    const { cash } = userInfo.value;\n    const router = useRouter();\n    const articleStore = useArticleStore();\n    const { getArticleListApi } = articleStore;\n    const { rollingNotice } = storeToRefs(articleStore);\n    const entryStore = useEntryStore();\n    const { config } = storeToRefs(entryStore);\n    const emit = __emit;\n    const bulletinData = ref([]);\n    const currStatus = reactive({\n      AuthExpire: false\n    });\n    const adModWebUrlLink = computed(\n      () => {\n        var _a, _b;\n        return (_b = (_a = config.value.Web_Set_DefaultInfo) == null ? void 0 : _a.AD_Mod_WebUrlLink) != null ? _b : {};\n      }\n    );\n    let updateArticleTimer;\n    const handleRollingNoticeData = async () => {\n      try {\n        let res = await getArticleListApi({\n          bind_key: \"OpenNotice,RollingNotice,HomeHuanDeng\"\n        });\n        updateArticleTimer = setTimeout(() => {\n          if (!currStatus.AuthExpire) {\n            emit(\"update-article\");\n          }\n        }, 1e3);\n        window.log(\"\\u8DD1\\u9A6C\\u706F\\u516C\\u544A\\u5185\\u5BB9\", res);\n      } catch (error) {\n        console.error(error);\n      }\n    };\n    const dialogShow = ref(false);\n    const dialog = ref({});\n    const handleShowDialog = (_dialog) => {\n      dialog.value = _dialog;\n      dialogShow.value = true;\n    };\n    const closeDialog = () => {\n      dialogShow.value = false;\n    };\n    const setCurrStatus = (data) => {\n      if (data.type === \"AuthExpire\") {\n        currStatus.AuthExpire = data.value;\n      }\n    };\n    onMounted(() => {\n      mitt.on(\"global-notification\", setCurrStatus);\n      handleRollingNoticeData();\n    });\n    onUnmounted(() => {\n      mitt.off(\"global-notification\", setCurrStatus);\n      updateArticleTimer && clearTimeout(updateArticleTimer);\n      updateArticleTimer = null;\n    });\n    return (_ctx, _cache) => {\n      const _component_van_swipe_item = _resolveComponent(\"van-swipe-item\");\n      const _component_van_swipe = _resolveComponent(\"van-swipe\");\n      const _component_van_dialog = _resolveComponent(\"van-dialog\");\n      const _directive_content = _resolveDirective(\"content\");\n      return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n        _createElementVNode(\n          \"div\",\n          {\n            class: _normalizeClass([\"bulletin\", { \"bulletin-activity\": adModWebUrlLink.value.theme_activities_show }])\n          },\n          null,\n          2\n          /* CLASS */\n        ),\n        _createVNode(_component_van_swipe, {\n          autoplay: \"4000\",\n          duration: \"600\",\n          vertical: \"\",\n          \"show-indicators\": false,\n          touchable: false,\n          class: \"swipe-bulletin\"\n        }, {\n          default: _withCtx(() => [\n            (_openBlock(true), _createElementBlock(\n              _Fragment,\n              null,\n              _renderList(_unref(rollingNotice), (item) => {\n                return _openBlock(), _createBlock(_component_van_swipe_item, {\n                  key: item.id,\n                  onClick: _withModifiers(($event) => handleShowDialog(item), [\"stop\"])\n                }, {\n                  default: _withCtx(() => [\n                    _createElementVNode(\"div\", {\n                      innerHTML: item.title\n                    }, null, 8, _hoisted_2)\n                  ]),\n                  _: 2\n                  /* DYNAMIC */\n                }, 1032, [\"onClick\"]);\n              }),\n              128\n              /* KEYED_FRAGMENT */\n            ))\n          ]),\n          _: 1\n          /* STABLE */\n        }),\n        _createVNode(_component_van_dialog, {\n          show: dialogShow.value,\n          \"onUpdate:show\": _cache[0] || (_cache[0] = ($event) => dialogShow.value = $event),\n          title: \"\\u516C\\u544A\",\n          confirmButtonText: \"\\u6211\\u77E5\\u9053\\u4E86\",\n          theme: \"round-button\",\n          className: \"dialog-bulletin\"\n        }, {\n          default: _withCtx(() => [\n            _createElementVNode(\"i\", {\n              class: \"icon-close close-dark block\",\n              onClick: closeDialog\n            }),\n            _withDirectives(_createElementVNode(\"div\", {\n              innerHTML: dialog.value.content\n            }, null, 8, _hoisted_3), [\n              [_directive_content]\n            ])\n          ]),\n          _: 1\n          /* STABLE */\n        }, 8, [\"show\"])\n      ]);\n    };\n  }\n});\n"
        ],
        "names": [],
        "mappings": ";;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC,uBAAmC;AAC3E,mCAAmC,uBAA8B;AACjE,oCAAoC,uBAA+B;AACnE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;"
      }
    },
    {
      "name": "vite:style-import",
      "start": 1714699772260,
      "end": 1714699772260,
      "order": "post"
    },
    {
      "name": "vite:build-import-analysis",
      "start": 1714699772260,
      "end": 1714699772260,
      "order": "normal"
    },
    {
      "name": "vite:reporter",
      "start": 1714699772260,
      "end": 1714699772260,
      "order": "normal"
    }
  ]
}
