{
  "resolvedId": "/Users/afeng/Desktop/work/gdpayh5-web/src/pages/Mine/login_password.vue?vue&type=script&setup=true&lang.ts",
  "transforms": [
    {
      "name": "vite:vue",
      "result": "import { defineComponent as _defineComponent } from 'vue'\nimport { resolveComponent as _resolveComponent, createVNode as _createVNode, createCommentVNode as _createCommentVNode, unref as _unref, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, normalizeClass as _normalizeClass, createElementVNode as _createElementVNode, vModelDynamic as _vModelDynamic, withDirectives as _withDirectives, createTextVNode as _createTextVNode, withCtx as _withCtx, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-7ab62f23\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"password w-100 bg-white\" }\nconst _hoisted_2 = { class: \"order-content p-[22px] bg-[#fff] text-center h-[calc(100vh-100px)] overflow-y-scroll\" }\nconst _hoisted_3 = { class: \"input-content-view\" }\nconst _hoisted_4 = { class: \"input-view flex items-center\" }\nconst _hoisted_5 = [\"value\", \"type\", \"placeholder\", \"onUpdate:modelValue\"]\nconst _hoisted_6 = [\"onClick\"]\n\nimport { userLoginPassUpdateApi } from '@/apis/user'\nimport info from '@/assets/images/common/info.png'\nimport success from '@/assets/images/common/success.png'\nimport { useEntryStore } from '@/store'\nimport { useAuthStore } from '@/store/modules/auth'\nimport mitt from '@/utils/mitt'\nimport { showToast } from 'vant'\nimport { computed, onMounted, reactive, ref } from 'vue'\nimport { useRouter } from 'vue-router'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'login_password',\n  setup(__props) {\n\nconst authStore = useAuthStore()\nconst entryStore = useEntryStore()\nconst imgServerUrl = entryStore.imgServerUrl\n\nconst router = useRouter()\n\nconst title = computed(() => {\n  if (isSetPass && !isForgetPass.value) {\n    return '修改登录密码'\n  }\n  if (!isSetPass) {\n    return '设置登录密码'\n  }\n  if (isSetPass && isForgetPass.value) {\n    return '忘记登录密码'\n  }\n  return ''\n})\n\nconst showInfoToast = (title: string) => {\n  return showToast({\n    message: title,\n    icon: info\n  })\n}\nconst showSuceedToast = (title: string) => {\n  return showToast({\n    message: title,\n    icon: success\n  })\n}\n\nconst isForgetPass = ref(false)\nconst isSetPass = authStore.isSetPayPassword\nconst isLoading = ref(false)\nconst forgetPassImg = ref('')\nconst readed = ref(false)\nlet fieldList = reactive(\n  // !isSetPass\n  // ?\n  // [\n  //     {\n  //       key: 'pass',\n  //       placeholder: '请输入6-18位数字字母登录密码',\n  //       typeKey: 'pass',\n  //       icon: 'lock',\n  //       value: '',\n  //       type: 'password',\n  //       require: '请输入6-18位数字字母登录密码',\n  //       formatError: '登录密码仅支持6-18位数字字母格式',\n  //       showKeyboard: false\n  //     },\n  //     {\n  //       key: 'c_pass',\n  //       placeholder: '确认6-18位数字字母的登录新密码',\n  //       typeKey: 'c_pass',\n  //       icon: 'lock',\n  //       value: '',\n  //       type: 'password',\n  //       require: '请输入确认6-18位数字字母登录密码',\n  //       formatError: '登录密码仅支持6-18位数字字母格式',\n  //       showKeyboard: false\n  //     }\n  //   ]\n  // :\n  [\n    {\n      key: 'o_pass',\n      placeholder: '请输入旧密码',\n      typeKey: 'o_pass',\n      icon: 'lock',\n      value: '',\n      type: 'password',\n      require: '请输入旧密码',\n      formatError: '登录密码仅支持6-18位数字字母格式',\n      showKeyboard: false\n    },\n    {\n      key: 'n_pass',\n      placeholder: '请输入新密码',\n      typeKey: 'n_pass',\n      icon: 'lock',\n      value: '',\n      type: 'password',\n      require: '请输入新6-18位数字字母登录密码',\n      formatError: '登录密码仅支持6-18位数字字母格式',\n      showKeyboard: false\n    },\n    {\n      key: 'c_pass',\n      placeholder: '再次输入新密码',\n      typeKey: 'c_pass',\n      icon: 'lock',\n      value: '',\n      type: 'password',\n      require: '请再次输入新6-18位数字字母登录密码',\n      formatError: '登录密码仅支持6-18位数字字母格式',\n      showKeyboard: false\n    }\n  ]\n)\n\nconst handleInput = (key: string, inputValue: string) => {\n  const itemIndex = fieldList.findIndex(item => item.key === key)\n  console.log(inputValue.length)\n  if (itemIndex > -1 && inputValue.length <= 6) {\n    fieldList[itemIndex].value = inputValue\n  }\n}\n\nconst clearInput = (key: string) => {\n  const itemIndex = fieldList.findIndex(item => item.key === key)\n  if (itemIndex > -1) {\n    fieldList[itemIndex].value = ''\n  }\n}\n\nconst forgetPass = () => {\n  if (authStore?.userInfo?.verified_status !== 1) return showInfoToast('请实名认证后继续此操作')\n  fieldList = fieldList.filter(item => item.key !== 'o_pass')\n  isForgetPass.value = true\n}\nconst togglePasswordStatus = (index: number) => {\n  fieldList[index].type = fieldList[index].type === 'password' ? 'text' : 'password'\n}\n\nconst getValue = (key: string) => {\n  const item = fieldList.find(item => item.key === key)\n  return item ? item.value : ''\n}\n\nconst getItem = (key: string) => {\n  const item = fieldList.find(item => item.key === key)\n  return item\n}\n\nconst onlyNumberKey = (evt: { which: any; keyCode: any }) => {\n  // Only ASCII character in that range allowed\n  // console.log(evt, 'evt')\n  let ASCIICode = evt.which ? evt.which : evt.keyCode\n  if (ASCIICode > 31 && (ASCIICode < 48 || ASCIICode > 57)) return false\n  return true\n}\n\nconst regPayPass = /^[a-zA-Z0-9]{6,18}$/\n\nconst editPayPass = async () => {\n  if (isLoading.value) return\n  console.log(getItem('c_pass'), `getItem('c_pass')`)\n  if (!getValue('o_pass')) return showInfoToast(getItem('o_pass')?.require || '')\n  if (!regPayPass.test(getValue('o_pass')))\n    return showInfoToast(getItem('o_pass')?.formatError || '')\n  if (!getValue('n_pass')) return showInfoToast(getItem('n_pass')?.require || '')\n  if (!regPayPass.test(getValue('n_pass')))\n    return showInfoToast(getItem('n_pass')?.formatError || '')\n  if (!getValue('c_pass')) return showInfoToast(getItem('c_pass')?.require || '')\n  if (!regPayPass.test(getValue('c_pass')))\n    return showInfoToast(getItem('c_pass')?.formatError || '')\n  if (getValue('o_pass') === getValue('n_pass')) return showInfoToast('新旧密码不能一致' || '')\n  if (getValue('n_pass') !== getValue('c_pass')) return showInfoToast('两次密码不一致' || '')\n\n  try {\n    isLoading.value = true\n    const res = await userLoginPassUpdateApi({\n      oldpasswd: getValue('o_pass'),\n      newpasswd: getValue('n_pass'),\n      newpasswdck: getValue('c_pass')\n      // mobile: '+8613259583728',\n      // code: '12345'\n    })\n\n    if (res.code === 0) {\n      showSuceedToast('登录密码修改成功')\n      setTimeout(async () => {\n        await authStore.getUserInfo()\n        router.back()\n      }, 1000)\n    }\n  } catch (error) {\n    console.error(error)\n  } finally {\n    isLoading.value = false\n  }\n}\n// const setPayPass = async () => {\n//   if (isLoading.value) return\n//   if (!getValue('pass')) return showInfoToast(getItem('pass')?.require || '')\n//   if (!regPayPass.test(getValue('pass'))) return showInfoToast(getItem('pass')?.formatError || '')\n//   if (!getValue('c_pass')) return showInfoToast(getItem('c_pass')?.require || '')\n//   if (!regPayPass.test(getValue('c_pass')))\n//     return showInfoToast(getItem('c_pass')?.formatError || '')\n//   if (getValue('c_pass') !== getValue('pass')) return showInfoToast('两次密码不一致' || '')\n//   try {\n//     isLoading.value = true\n//     const res = await userPayPassAddApi({\n//       newpasswd: getValue('pass'),\n//       newpasswdck: getValue('c_pass')\n//     })\n\n//     if (res.code === 0) {\n//       showSuceedToast('登录密码设置成功')\n//       setTimeout(async () => {\n//         await authStore.getUserInfo()\n//         router.back()\n//       }, 1000)\n//     }\n//   } catch (error) {\n//     console.error(error)\n//   } finally {\n//     isLoading.value = false\n//   }\n// }\n\n// const afterRead = async (event: any) => {\n//   if (!event.target.files[0]) return\n//   const res = await uploadImg(event.target.files[0])\n//   forgetPassImg.value = res?.img\n//   event.target.value = ''\n// }\n// const uploadImg = async (file: string): Promise<any> => {\n//   try {\n//     const res = await uploadImgApi({\n//       file,\n//       type: 'editreview'\n//     })\n\n//     return res\n//   } catch (e) {\n//     console.log(e)\n//   }\n// }\n\n// const resetPayPass = async () => {\n//   if (isLoading.value) return\n//   if (!getValue('n_pass')) return showInfoToast(getItem('n_pass')?.require || '')\n//   if (!regPayPass.test(getValue('n_pass')))\n//     return showInfoToast(getItem('n_pass')?.formatError || '')\n//   if (!getValue('c_pass')) return showInfoToast(getItem('c_pass')?.require || '')\n//   if (!regPayPass.test(getValue('c_pass')))\n//     return showInfoToast(getItem('c_pass')?.formatError || '')\n//   if (getValue('n_pass') !== getValue('c_pass')) return showInfoToast('两次密码不一致' || '')\n\n//   if (!readed.value) return showInfoToast('请勾选阅读并了解')\n//   try {\n//     isLoading.value = true\n\n//     const res = await userPayPassResetApi({\n//       newpasswd: getValue('n_pass'),\n//       newpasswdck: getValue('c_pass'),\n//       img: forgetPassImg.value\n//     })\n//     console.log(res, res.code, 'res')\n//     if (res.code === 0 || res.code === 134) {\n//       // showSuceedToast('登录密码重设成功')\n//       setTimeout(async () => {\n//         await authStore.getUserInfo()\n//         router.back()\n//       }, 1000)\n//     }\n//   } catch (error) {\n//     console.error(error)\n//   } finally {\n//     isLoading.value = false\n//   }\n// }\n\nonMounted(() => {\n  mitt.emit('number-keyboard-show')\n})\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_nav_bar = _resolveComponent(\"nav-bar\")!\n  const _component_van_button = _resolveComponent(\"van-button\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createVNode(_component_nav_bar, {\n      title: title.value,\n      mode: \"white\"\n    }, null, 8 /* PROPS */, [\"title\"]),\n    _createCommentVNode(\" <div class=\\\"order-content p-[22px] pt-0 bg-[#fff] flex items-center flex-wrap justify-center\\\">\\n      <van-field v-model=\\\"pass\\\" placeholder=\\\"请输入6位登录密码\\\" right-icon=\\\"eye-o\\\" left-icon=\\\"eye-o\\\" />\\n      <van-field v-model=\\\"n_pass\\\" placeholder=\\\"新6位登录密码\\\" right-icon=\\\"eye-o\\\" left-icon=\\\"eye-o\\\" />\\n      <van-field v-model=\\\"c_pass\\\" placeholder=\\\"确认6位登录新密码\\\" right-icon=\\\"eye-o\\\" left-icon=\\\"eye-o\\\" />\\n      <div class=\\\"text-[var(--van-button-primary-background)] text-[30px] mb-2\\\">\\n        忘记登录密码？\\n      </div>\\n      <van-button size=\\\"large\\\" color=\\\"var(--van-button-primary-background)\\\">确认</van-button>\\n    </div> \"),\n    _createElementVNode(\"div\", _hoisted_2, [\n      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(fieldList), (item, index) => {\n        return (_openBlock(), _createElementBlock(\"div\", {\n          key: item.key + index,\n          class: \"input-content w-[96%]\"\n        }, [\n          _createElementVNode(\"div\", _hoisted_3, [\n            _createElementVNode(\"div\", _hoisted_4, [\n              _createElementVNode(\"i\", {\n                class: _normalizeClass(['block', item.icon])\n              }, null, 2 /* CLASS */),\n              _withDirectives(_createElementVNode(\"input\", {\n                value: item.value,\n                type: item.type,\n                placeholder: item.placeholder,\n                \"onUpdate:modelValue\": ($event: any) => ((item.value) = $event)\n              }, null, 8 /* PROPS */, _hoisted_5), [\n                [_vModelDynamic, item.value]\n              ]),\n              (item.key.toLowerCase().includes('pass'))\n                ? (_openBlock(), _createElementBlock(\"i\", {\n                    key: 0,\n                    class: _normalizeClass(item.type === 'password' ? 'eye-close' : 'eye-open'),\n                    onClick: ($event: any) => (togglePasswordStatus(index))\n                  }, null, 10 /* CLASS, PROPS */, _hoisted_6))\n                : _createCommentVNode(\"v-if\", true)\n            ])\n          ])\n        ]))\n      }), 128 /* KEYED_FRAGMENT */)),\n      (_unref(isSetPass) && !isForgetPass.value)\n        ? (_openBlock(), _createBlock(_component_van_button, {\n            key: 0,\n            size: \"large\",\n            color: \"var(--van-button-primary-background)\",\n            onClick: editPayPass\n          }, {\n            default: _withCtx(() => [\n              _createTextVNode(\" 确认 \")\n            ]),\n            _: 1 /* STABLE */\n          }))\n        : _createCommentVNode(\"v-if\", true),\n      _createCommentVNode(\" <van-button\\n        size=\\\"large\\\"\\n        color=\\\"var(--van-button-primary-background)\\\"\\n        v-if=\\\"isSetPass && isForgetPass\\\"\\n        @click=\\\"resetPayPass\\\"\\n      >\\n        确认\\n      </van-button> \")\n    ])\n  ]))\n}\n}\n\n})",
      "start": 1714699769695,
      "end": 1714699769695
    },
    {
      "name": "vite:css",
      "start": 1714699769695,
      "end": 1714699769695,
      "order": "normal"
    },
    {
      "name": "vite:esbuild",
      "result": "import { defineComponent as _defineComponent } from \"vue\";\nimport { resolveComponent as _resolveComponent, createVNode as _createVNode, createCommentVNode as _createCommentVNode, unref as _unref, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, normalizeClass as _normalizeClass, createElementVNode as _createElementVNode, vModelDynamic as _vModelDynamic, withDirectives as _withDirectives, createTextVNode as _createTextVNode, withCtx as _withCtx, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = (n) => (_pushScopeId(\"data-v-7ab62f23\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = { class: \"password w-100 bg-white\" };\nconst _hoisted_2 = { class: \"order-content p-[22px] bg-[#fff] text-center h-[calc(100vh-100px)] overflow-y-scroll\" };\nconst _hoisted_3 = { class: \"input-content-view\" };\nconst _hoisted_4 = { class: \"input-view flex items-center\" };\nconst _hoisted_5 = [\"value\", \"type\", \"placeholder\", \"onUpdate:modelValue\"];\nconst _hoisted_6 = [\"onClick\"];\nimport { userLoginPassUpdateApi } from \"@/apis/user\";\nimport info from \"@/assets/images/common/info.png\";\nimport success from \"@/assets/images/common/success.png\";\nimport { useEntryStore } from \"@/store\";\nimport { useAuthStore } from \"@/store/modules/auth\";\nimport mitt from \"@/utils/mitt\";\nimport { showToast } from \"vant\";\nimport { computed, onMounted, reactive, ref } from \"vue\";\nimport { useRouter } from \"vue-router\";\nexport default /* @__PURE__ */ _defineComponent({\n  __name: \"login_password\",\n  setup(__props) {\n    const authStore = useAuthStore();\n    const entryStore = useEntryStore();\n    const imgServerUrl = entryStore.imgServerUrl;\n    const router = useRouter();\n    const title = computed(() => {\n      if (isSetPass && !isForgetPass.value) {\n        return \"修改登录密码\";\n      }\n      if (!isSetPass) {\n        return \"设置登录密码\";\n      }\n      if (isSetPass && isForgetPass.value) {\n        return \"忘记登录密码\";\n      }\n      return \"\";\n    });\n    const showInfoToast = (title2) => {\n      return showToast({\n        message: title2,\n        icon: info\n      });\n    };\n    const showSuceedToast = (title2) => {\n      return showToast({\n        message: title2,\n        icon: success\n      });\n    };\n    const isForgetPass = ref(false);\n    const isSetPass = authStore.isSetPayPassword;\n    const isLoading = ref(false);\n    const forgetPassImg = ref(\"\");\n    const readed = ref(false);\n    let fieldList = reactive(\n      // !isSetPass\n      // ?\n      // [\n      //     {\n      //       key: 'pass',\n      //       placeholder: '请输入6-18位数字字母登录密码',\n      //       typeKey: 'pass',\n      //       icon: 'lock',\n      //       value: '',\n      //       type: 'password',\n      //       require: '请输入6-18位数字字母登录密码',\n      //       formatError: '登录密码仅支持6-18位数字字母格式',\n      //       showKeyboard: false\n      //     },\n      //     {\n      //       key: 'c_pass',\n      //       placeholder: '确认6-18位数字字母的登录新密码',\n      //       typeKey: 'c_pass',\n      //       icon: 'lock',\n      //       value: '',\n      //       type: 'password',\n      //       require: '请输入确认6-18位数字字母登录密码',\n      //       formatError: '登录密码仅支持6-18位数字字母格式',\n      //       showKeyboard: false\n      //     }\n      //   ]\n      // :\n      [\n        {\n          key: \"o_pass\",\n          placeholder: \"请输入旧密码\",\n          typeKey: \"o_pass\",\n          icon: \"lock\",\n          value: \"\",\n          type: \"password\",\n          require: \"请输入旧密码\",\n          formatError: \"登录密码仅支持6-18位数字字母格式\",\n          showKeyboard: false\n        },\n        {\n          key: \"n_pass\",\n          placeholder: \"请输入新密码\",\n          typeKey: \"n_pass\",\n          icon: \"lock\",\n          value: \"\",\n          type: \"password\",\n          require: \"请输入新6-18位数字字母登录密码\",\n          formatError: \"登录密码仅支持6-18位数字字母格式\",\n          showKeyboard: false\n        },\n        {\n          key: \"c_pass\",\n          placeholder: \"再次输入新密码\",\n          typeKey: \"c_pass\",\n          icon: \"lock\",\n          value: \"\",\n          type: \"password\",\n          require: \"请再次输入新6-18位数字字母登录密码\",\n          formatError: \"登录密码仅支持6-18位数字字母格式\",\n          showKeyboard: false\n        }\n      ]\n    );\n    const handleInput = (key, inputValue) => {\n      const itemIndex = fieldList.findIndex((item) => item.key === key);\n      console.log(inputValue.length);\n      if (itemIndex > -1 && inputValue.length <= 6) {\n        fieldList[itemIndex].value = inputValue;\n      }\n    };\n    const clearInput = (key) => {\n      const itemIndex = fieldList.findIndex((item) => item.key === key);\n      if (itemIndex > -1) {\n        fieldList[itemIndex].value = \"\";\n      }\n    };\n    const forgetPass = () => {\n      if (authStore?.userInfo?.verified_status !== 1)\n        return showInfoToast(\"请实名认证后继续此操作\");\n      fieldList = fieldList.filter((item) => item.key !== \"o_pass\");\n      isForgetPass.value = true;\n    };\n    const togglePasswordStatus = (index) => {\n      fieldList[index].type = fieldList[index].type === \"password\" ? \"text\" : \"password\";\n    };\n    const getValue = (key) => {\n      const item = fieldList.find((item2) => item2.key === key);\n      return item ? item.value : \"\";\n    };\n    const getItem = (key) => {\n      const item = fieldList.find((item2) => item2.key === key);\n      return item;\n    };\n    const onlyNumberKey = (evt) => {\n      let ASCIICode = evt.which ? evt.which : evt.keyCode;\n      if (ASCIICode > 31 && (ASCIICode < 48 || ASCIICode > 57))\n        return false;\n      return true;\n    };\n    const regPayPass = /^[a-zA-Z0-9]{6,18}$/;\n    const editPayPass = async () => {\n      if (isLoading.value)\n        return;\n      console.log(getItem(\"c_pass\"), `getItem('c_pass')`);\n      if (!getValue(\"o_pass\"))\n        return showInfoToast(getItem(\"o_pass\")?.require || \"\");\n      if (!regPayPass.test(getValue(\"o_pass\")))\n        return showInfoToast(getItem(\"o_pass\")?.formatError || \"\");\n      if (!getValue(\"n_pass\"))\n        return showInfoToast(getItem(\"n_pass\")?.require || \"\");\n      if (!regPayPass.test(getValue(\"n_pass\")))\n        return showInfoToast(getItem(\"n_pass\")?.formatError || \"\");\n      if (!getValue(\"c_pass\"))\n        return showInfoToast(getItem(\"c_pass\")?.require || \"\");\n      if (!regPayPass.test(getValue(\"c_pass\")))\n        return showInfoToast(getItem(\"c_pass\")?.formatError || \"\");\n      if (getValue(\"o_pass\") === getValue(\"n_pass\"))\n        return showInfoToast(\"新旧密码不能一致\");\n      if (getValue(\"n_pass\") !== getValue(\"c_pass\"))\n        return showInfoToast(\"两次密码不一致\");\n      try {\n        isLoading.value = true;\n        const res = await userLoginPassUpdateApi({\n          oldpasswd: getValue(\"o_pass\"),\n          newpasswd: getValue(\"n_pass\"),\n          newpasswdck: getValue(\"c_pass\")\n          // mobile: '+8613259583728',\n          // code: '12345'\n        });\n        if (res.code === 0) {\n          showSuceedToast(\"登录密码修改成功\");\n          setTimeout(async () => {\n            await authStore.getUserInfo();\n            router.back();\n          }, 1e3);\n        }\n      } catch (error) {\n        console.error(error);\n      } finally {\n        isLoading.value = false;\n      }\n    };\n    onMounted(() => {\n      mitt.emit(\"number-keyboard-show\");\n    });\n    return (_ctx, _cache) => {\n      const _component_nav_bar = _resolveComponent(\"nav-bar\");\n      const _component_van_button = _resolveComponent(\"van-button\");\n      return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n        _createVNode(_component_nav_bar, {\n          title: title.value,\n          mode: \"white\"\n        }, null, 8, [\"title\"]),\n        _createCommentVNode(' <div class=\"order-content p-[22px] pt-0 bg-[#fff] flex items-center flex-wrap justify-center\">\\n      <van-field v-model=\"pass\" placeholder=\"请输入6位登录密码\" right-icon=\"eye-o\" left-icon=\"eye-o\" />\\n      <van-field v-model=\"n_pass\" placeholder=\"新6位登录密码\" right-icon=\"eye-o\" left-icon=\"eye-o\" />\\n      <van-field v-model=\"c_pass\" placeholder=\"确认6位登录新密码\" right-icon=\"eye-o\" left-icon=\"eye-o\" />\\n      <div class=\"text-[var(--van-button-primary-background)] text-[30px] mb-2\">\\n        忘记登录密码？\\n      </div>\\n      <van-button size=\"large\" color=\"var(--van-button-primary-background)\">确认</van-button>\\n    </div> '),\n        _createElementVNode(\"div\", _hoisted_2, [\n          (_openBlock(true), _createElementBlock(\n            _Fragment,\n            null,\n            _renderList(_unref(fieldList), (item, index) => {\n              return _openBlock(), _createElementBlock(\"div\", {\n                key: item.key + index,\n                class: \"input-content w-[96%]\"\n              }, [\n                _createElementVNode(\"div\", _hoisted_3, [\n                  _createElementVNode(\"div\", _hoisted_4, [\n                    _createElementVNode(\n                      \"i\",\n                      {\n                        class: _normalizeClass([\"block\", item.icon])\n                      },\n                      null,\n                      2\n                      /* CLASS */\n                    ),\n                    _withDirectives(_createElementVNode(\"input\", {\n                      value: item.value,\n                      type: item.type,\n                      placeholder: item.placeholder,\n                      \"onUpdate:modelValue\": ($event) => item.value = $event\n                    }, null, 8, _hoisted_5), [\n                      [_vModelDynamic, item.value]\n                    ]),\n                    item.key.toLowerCase().includes(\"pass\") ? (_openBlock(), _createElementBlock(\"i\", {\n                      key: 0,\n                      class: _normalizeClass(item.type === \"password\" ? \"eye-close\" : \"eye-open\"),\n                      onClick: ($event) => togglePasswordStatus(index)\n                    }, null, 10, _hoisted_6)) : _createCommentVNode(\"v-if\", true)\n                  ])\n                ])\n              ]);\n            }),\n            128\n            /* KEYED_FRAGMENT */\n          )),\n          _unref(isSetPass) && !isForgetPass.value ? (_openBlock(), _createBlock(_component_van_button, {\n            key: 0,\n            size: \"large\",\n            color: \"var(--van-button-primary-background)\",\n            onClick: editPayPass\n          }, {\n            default: _withCtx(() => [\n              _createTextVNode(\" 确认 \")\n            ]),\n            _: 1\n            /* STABLE */\n          })) : _createCommentVNode(\"v-if\", true),\n          _createCommentVNode(' <van-button\\n        size=\"large\"\\n        color=\"var(--van-button-primary-background)\"\\n        v-if=\"isSetPass && isForgetPass\"\\n        @click=\"resetPayPass\"\\n      >\\n        确认\\n      </van-button> ')\n        ])\n      ]);\n    };\n  }\n});\n",
      "start": 1714699769696,
      "end": 1714699770691,
      "order": "normal",
      "sourcemaps": {
        "version": 3,
        "sources": [
          "/Users/afeng/Desktop/work/gdpayh5-web/src/pages/Mine/login_password.vue?vue&type=script&setup=true&lang.ts"
        ],
        "sourcesContent": [
          "import { defineComponent as _defineComponent } from 'vue'\nimport { resolveComponent as _resolveComponent, createVNode as _createVNode, createCommentVNode as _createCommentVNode, unref as _unref, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, normalizeClass as _normalizeClass, createElementVNode as _createElementVNode, vModelDynamic as _vModelDynamic, withDirectives as _withDirectives, createTextVNode as _createTextVNode, withCtx as _withCtx, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-7ab62f23\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"password w-100 bg-white\" }\nconst _hoisted_2 = { class: \"order-content p-[22px] bg-[#fff] text-center h-[calc(100vh-100px)] overflow-y-scroll\" }\nconst _hoisted_3 = { class: \"input-content-view\" }\nconst _hoisted_4 = { class: \"input-view flex items-center\" }\nconst _hoisted_5 = [\"value\", \"type\", \"placeholder\", \"onUpdate:modelValue\"]\nconst _hoisted_6 = [\"onClick\"]\n\nimport { userLoginPassUpdateApi } from '@/apis/user'\nimport info from '@/assets/images/common/info.png'\nimport success from '@/assets/images/common/success.png'\nimport { useEntryStore } from '@/store'\nimport { useAuthStore } from '@/store/modules/auth'\nimport mitt from '@/utils/mitt'\nimport { showToast } from 'vant'\nimport { computed, onMounted, reactive, ref } from 'vue'\nimport { useRouter } from 'vue-router'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'login_password',\n  setup(__props) {\n\nconst authStore = useAuthStore()\nconst entryStore = useEntryStore()\nconst imgServerUrl = entryStore.imgServerUrl\n\nconst router = useRouter()\n\nconst title = computed(() => {\n  if (isSetPass && !isForgetPass.value) {\n    return '修改登录密码'\n  }\n  if (!isSetPass) {\n    return '设置登录密码'\n  }\n  if (isSetPass && isForgetPass.value) {\n    return '忘记登录密码'\n  }\n  return ''\n})\n\nconst showInfoToast = (title: string) => {\n  return showToast({\n    message: title,\n    icon: info\n  })\n}\nconst showSuceedToast = (title: string) => {\n  return showToast({\n    message: title,\n    icon: success\n  })\n}\n\nconst isForgetPass = ref(false)\nconst isSetPass = authStore.isSetPayPassword\nconst isLoading = ref(false)\nconst forgetPassImg = ref('')\nconst readed = ref(false)\nlet fieldList = reactive(\n  // !isSetPass\n  // ?\n  // [\n  //     {\n  //       key: 'pass',\n  //       placeholder: '请输入6-18位数字字母登录密码',\n  //       typeKey: 'pass',\n  //       icon: 'lock',\n  //       value: '',\n  //       type: 'password',\n  //       require: '请输入6-18位数字字母登录密码',\n  //       formatError: '登录密码仅支持6-18位数字字母格式',\n  //       showKeyboard: false\n  //     },\n  //     {\n  //       key: 'c_pass',\n  //       placeholder: '确认6-18位数字字母的登录新密码',\n  //       typeKey: 'c_pass',\n  //       icon: 'lock',\n  //       value: '',\n  //       type: 'password',\n  //       require: '请输入确认6-18位数字字母登录密码',\n  //       formatError: '登录密码仅支持6-18位数字字母格式',\n  //       showKeyboard: false\n  //     }\n  //   ]\n  // :\n  [\n    {\n      key: 'o_pass',\n      placeholder: '请输入旧密码',\n      typeKey: 'o_pass',\n      icon: 'lock',\n      value: '',\n      type: 'password',\n      require: '请输入旧密码',\n      formatError: '登录密码仅支持6-18位数字字母格式',\n      showKeyboard: false\n    },\n    {\n      key: 'n_pass',\n      placeholder: '请输入新密码',\n      typeKey: 'n_pass',\n      icon: 'lock',\n      value: '',\n      type: 'password',\n      require: '请输入新6-18位数字字母登录密码',\n      formatError: '登录密码仅支持6-18位数字字母格式',\n      showKeyboard: false\n    },\n    {\n      key: 'c_pass',\n      placeholder: '再次输入新密码',\n      typeKey: 'c_pass',\n      icon: 'lock',\n      value: '',\n      type: 'password',\n      require: '请再次输入新6-18位数字字母登录密码',\n      formatError: '登录密码仅支持6-18位数字字母格式',\n      showKeyboard: false\n    }\n  ]\n)\n\nconst handleInput = (key: string, inputValue: string) => {\n  const itemIndex = fieldList.findIndex(item => item.key === key)\n  console.log(inputValue.length)\n  if (itemIndex > -1 && inputValue.length <= 6) {\n    fieldList[itemIndex].value = inputValue\n  }\n}\n\nconst clearInput = (key: string) => {\n  const itemIndex = fieldList.findIndex(item => item.key === key)\n  if (itemIndex > -1) {\n    fieldList[itemIndex].value = ''\n  }\n}\n\nconst forgetPass = () => {\n  if (authStore?.userInfo?.verified_status !== 1) return showInfoToast('请实名认证后继续此操作')\n  fieldList = fieldList.filter(item => item.key !== 'o_pass')\n  isForgetPass.value = true\n}\nconst togglePasswordStatus = (index: number) => {\n  fieldList[index].type = fieldList[index].type === 'password' ? 'text' : 'password'\n}\n\nconst getValue = (key: string) => {\n  const item = fieldList.find(item => item.key === key)\n  return item ? item.value : ''\n}\n\nconst getItem = (key: string) => {\n  const item = fieldList.find(item => item.key === key)\n  return item\n}\n\nconst onlyNumberKey = (evt: { which: any; keyCode: any }) => {\n  // Only ASCII character in that range allowed\n  // console.log(evt, 'evt')\n  let ASCIICode = evt.which ? evt.which : evt.keyCode\n  if (ASCIICode > 31 && (ASCIICode < 48 || ASCIICode > 57)) return false\n  return true\n}\n\nconst regPayPass = /^[a-zA-Z0-9]{6,18}$/\n\nconst editPayPass = async () => {\n  if (isLoading.value) return\n  console.log(getItem('c_pass'), `getItem('c_pass')`)\n  if (!getValue('o_pass')) return showInfoToast(getItem('o_pass')?.require || '')\n  if (!regPayPass.test(getValue('o_pass')))\n    return showInfoToast(getItem('o_pass')?.formatError || '')\n  if (!getValue('n_pass')) return showInfoToast(getItem('n_pass')?.require || '')\n  if (!regPayPass.test(getValue('n_pass')))\n    return showInfoToast(getItem('n_pass')?.formatError || '')\n  if (!getValue('c_pass')) return showInfoToast(getItem('c_pass')?.require || '')\n  if (!regPayPass.test(getValue('c_pass')))\n    return showInfoToast(getItem('c_pass')?.formatError || '')\n  if (getValue('o_pass') === getValue('n_pass')) return showInfoToast('新旧密码不能一致' || '')\n  if (getValue('n_pass') !== getValue('c_pass')) return showInfoToast('两次密码不一致' || '')\n\n  try {\n    isLoading.value = true\n    const res = await userLoginPassUpdateApi({\n      oldpasswd: getValue('o_pass'),\n      newpasswd: getValue('n_pass'),\n      newpasswdck: getValue('c_pass')\n      // mobile: '+8613259583728',\n      // code: '12345'\n    })\n\n    if (res.code === 0) {\n      showSuceedToast('登录密码修改成功')\n      setTimeout(async () => {\n        await authStore.getUserInfo()\n        router.back()\n      }, 1000)\n    }\n  } catch (error) {\n    console.error(error)\n  } finally {\n    isLoading.value = false\n  }\n}\n// const setPayPass = async () => {\n//   if (isLoading.value) return\n//   if (!getValue('pass')) return showInfoToast(getItem('pass')?.require || '')\n//   if (!regPayPass.test(getValue('pass'))) return showInfoToast(getItem('pass')?.formatError || '')\n//   if (!getValue('c_pass')) return showInfoToast(getItem('c_pass')?.require || '')\n//   if (!regPayPass.test(getValue('c_pass')))\n//     return showInfoToast(getItem('c_pass')?.formatError || '')\n//   if (getValue('c_pass') !== getValue('pass')) return showInfoToast('两次密码不一致' || '')\n//   try {\n//     isLoading.value = true\n//     const res = await userPayPassAddApi({\n//       newpasswd: getValue('pass'),\n//       newpasswdck: getValue('c_pass')\n//     })\n\n//     if (res.code === 0) {\n//       showSuceedToast('登录密码设置成功')\n//       setTimeout(async () => {\n//         await authStore.getUserInfo()\n//         router.back()\n//       }, 1000)\n//     }\n//   } catch (error) {\n//     console.error(error)\n//   } finally {\n//     isLoading.value = false\n//   }\n// }\n\n// const afterRead = async (event: any) => {\n//   if (!event.target.files[0]) return\n//   const res = await uploadImg(event.target.files[0])\n//   forgetPassImg.value = res?.img\n//   event.target.value = ''\n// }\n// const uploadImg = async (file: string): Promise<any> => {\n//   try {\n//     const res = await uploadImgApi({\n//       file,\n//       type: 'editreview'\n//     })\n\n//     return res\n//   } catch (e) {\n//     console.log(e)\n//   }\n// }\n\n// const resetPayPass = async () => {\n//   if (isLoading.value) return\n//   if (!getValue('n_pass')) return showInfoToast(getItem('n_pass')?.require || '')\n//   if (!regPayPass.test(getValue('n_pass')))\n//     return showInfoToast(getItem('n_pass')?.formatError || '')\n//   if (!getValue('c_pass')) return showInfoToast(getItem('c_pass')?.require || '')\n//   if (!regPayPass.test(getValue('c_pass')))\n//     return showInfoToast(getItem('c_pass')?.formatError || '')\n//   if (getValue('n_pass') !== getValue('c_pass')) return showInfoToast('两次密码不一致' || '')\n\n//   if (!readed.value) return showInfoToast('请勾选阅读并了解')\n//   try {\n//     isLoading.value = true\n\n//     const res = await userPayPassResetApi({\n//       newpasswd: getValue('n_pass'),\n//       newpasswdck: getValue('c_pass'),\n//       img: forgetPassImg.value\n//     })\n//     console.log(res, res.code, 'res')\n//     if (res.code === 0 || res.code === 134) {\n//       // showSuceedToast('登录密码重设成功')\n//       setTimeout(async () => {\n//         await authStore.getUserInfo()\n//         router.back()\n//       }, 1000)\n//     }\n//   } catch (error) {\n//     console.error(error)\n//   } finally {\n//     isLoading.value = false\n//   }\n// }\n\nonMounted(() => {\n  mitt.emit('number-keyboard-show')\n})\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_nav_bar = _resolveComponent(\"nav-bar\")!\n  const _component_van_button = _resolveComponent(\"van-button\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createVNode(_component_nav_bar, {\n      title: title.value,\n      mode: \"white\"\n    }, null, 8 /* PROPS */, [\"title\"]),\n    _createCommentVNode(\" <div class=\\\"order-content p-[22px] pt-0 bg-[#fff] flex items-center flex-wrap justify-center\\\">\\n      <van-field v-model=\\\"pass\\\" placeholder=\\\"请输入6位登录密码\\\" right-icon=\\\"eye-o\\\" left-icon=\\\"eye-o\\\" />\\n      <van-field v-model=\\\"n_pass\\\" placeholder=\\\"新6位登录密码\\\" right-icon=\\\"eye-o\\\" left-icon=\\\"eye-o\\\" />\\n      <van-field v-model=\\\"c_pass\\\" placeholder=\\\"确认6位登录新密码\\\" right-icon=\\\"eye-o\\\" left-icon=\\\"eye-o\\\" />\\n      <div class=\\\"text-[var(--van-button-primary-background)] text-[30px] mb-2\\\">\\n        忘记登录密码？\\n      </div>\\n      <van-button size=\\\"large\\\" color=\\\"var(--van-button-primary-background)\\\">确认</van-button>\\n    </div> \"),\n    _createElementVNode(\"div\", _hoisted_2, [\n      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(fieldList), (item, index) => {\n        return (_openBlock(), _createElementBlock(\"div\", {\n          key: item.key + index,\n          class: \"input-content w-[96%]\"\n        }, [\n          _createElementVNode(\"div\", _hoisted_3, [\n            _createElementVNode(\"div\", _hoisted_4, [\n              _createElementVNode(\"i\", {\n                class: _normalizeClass(['block', item.icon])\n              }, null, 2 /* CLASS */),\n              _withDirectives(_createElementVNode(\"input\", {\n                value: item.value,\n                type: item.type,\n                placeholder: item.placeholder,\n                \"onUpdate:modelValue\": ($event: any) => ((item.value) = $event)\n              }, null, 8 /* PROPS */, _hoisted_5), [\n                [_vModelDynamic, item.value]\n              ]),\n              (item.key.toLowerCase().includes('pass'))\n                ? (_openBlock(), _createElementBlock(\"i\", {\n                    key: 0,\n                    class: _normalizeClass(item.type === 'password' ? 'eye-close' : 'eye-open'),\n                    onClick: ($event: any) => (togglePasswordStatus(index))\n                  }, null, 10 /* CLASS, PROPS */, _hoisted_6))\n                : _createCommentVNode(\"v-if\", true)\n            ])\n          ])\n        ]))\n      }), 128 /* KEYED_FRAGMENT */)),\n      (_unref(isSetPass) && !isForgetPass.value)\n        ? (_openBlock(), _createBlock(_component_van_button, {\n            key: 0,\n            size: \"large\",\n            color: \"var(--van-button-primary-background)\",\n            onClick: editPayPass\n          }, {\n            default: _withCtx(() => [\n              _createTextVNode(\" 确认 \")\n            ]),\n            _: 1 /* STABLE */\n          }))\n        : _createCommentVNode(\"v-if\", true),\n      _createCommentVNode(\" <van-button\\n        size=\\\"large\\\"\\n        color=\\\"var(--van-button-primary-background)\\\"\\n        v-if=\\\"isSetPass && isForgetPass\\\"\\n        @click=\\\"resetPayPass\\\"\\n      >\\n        确认\\n      </van-button> \")\n    ])\n  ]))\n}\n}\n\n})"
        ],
        "mappings": "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",
        "names": [
          "title",
          "item"
        ]
      }
    },
    {
      "name": "vite:json",
      "start": 1714699770691,
      "end": 1714699770691,
      "order": "normal"
    },
    {
      "name": "vite:worker",
      "start": 1714699770691,
      "end": 1714699770691,
      "order": "normal"
    },
    {
      "name": "vite:vue",
      "start": 1714699770691,
      "end": 1714699770691,
      "order": "normal"
    },
    {
      "name": "vite:vue-jsx",
      "start": 1714699770691,
      "end": 1714699770691,
      "order": "normal"
    },
    {
      "name": "vite-plugin-vconsole",
      "result": "import { defineComponent as _defineComponent } from \"vue\";\nimport { resolveComponent as _resolveComponent, createVNode as _createVNode, createCommentVNode as _createCommentVNode, unref as _unref, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, normalizeClass as _normalizeClass, createElementVNode as _createElementVNode, vModelDynamic as _vModelDynamic, withDirectives as _withDirectives, createTextVNode as _createTextVNode, withCtx as _withCtx, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = (n) => (_pushScopeId(\"data-v-7ab62f23\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = { class: \"password w-100 bg-white\" };\nconst _hoisted_2 = { class: \"order-content p-[22px] bg-[#fff] text-center h-[calc(100vh-100px)] overflow-y-scroll\" };\nconst _hoisted_3 = { class: \"input-content-view\" };\nconst _hoisted_4 = { class: \"input-view flex items-center\" };\nconst _hoisted_5 = [\"value\", \"type\", \"placeholder\", \"onUpdate:modelValue\"];\nconst _hoisted_6 = [\"onClick\"];\nimport { userLoginPassUpdateApi } from \"@/apis/user\";\nimport info from \"@/assets/images/common/info.png\";\nimport success from \"@/assets/images/common/success.png\";\nimport { useEntryStore } from \"@/store\";\nimport { useAuthStore } from \"@/store/modules/auth\";\nimport mitt from \"@/utils/mitt\";\nimport { showToast } from \"vant\";\nimport { computed, onMounted, reactive, ref } from \"vue\";\nimport { useRouter } from \"vue-router\";\nexport default /* @__PURE__ */ _defineComponent({\n  __name: \"login_password\",\n  setup(__props) {\n    const authStore = useAuthStore();\n    const entryStore = useEntryStore();\n    const imgServerUrl = entryStore.imgServerUrl;\n    const router = useRouter();\n    const title = computed(() => {\n      if (isSetPass && !isForgetPass.value) {\n        return \"修改登录密码\";\n      }\n      if (!isSetPass) {\n        return \"设置登录密码\";\n      }\n      if (isSetPass && isForgetPass.value) {\n        return \"忘记登录密码\";\n      }\n      return \"\";\n    });\n    const showInfoToast = (title2) => {\n      return showToast({\n        message: title2,\n        icon: info\n      });\n    };\n    const showSuceedToast = (title2) => {\n      return showToast({\n        message: title2,\n        icon: success\n      });\n    };\n    const isForgetPass = ref(false);\n    const isSetPass = authStore.isSetPayPassword;\n    const isLoading = ref(false);\n    const forgetPassImg = ref(\"\");\n    const readed = ref(false);\n    let fieldList = reactive(\n      // !isSetPass\n      // ?\n      // [\n      //     {\n      //       key: 'pass',\n      //       placeholder: '请输入6-18位数字字母登录密码',\n      //       typeKey: 'pass',\n      //       icon: 'lock',\n      //       value: '',\n      //       type: 'password',\n      //       require: '请输入6-18位数字字母登录密码',\n      //       formatError: '登录密码仅支持6-18位数字字母格式',\n      //       showKeyboard: false\n      //     },\n      //     {\n      //       key: 'c_pass',\n      //       placeholder: '确认6-18位数字字母的登录新密码',\n      //       typeKey: 'c_pass',\n      //       icon: 'lock',\n      //       value: '',\n      //       type: 'password',\n      //       require: '请输入确认6-18位数字字母登录密码',\n      //       formatError: '登录密码仅支持6-18位数字字母格式',\n      //       showKeyboard: false\n      //     }\n      //   ]\n      // :\n      [\n        {\n          key: \"o_pass\",\n          placeholder: \"请输入旧密码\",\n          typeKey: \"o_pass\",\n          icon: \"lock\",\n          value: \"\",\n          type: \"password\",\n          require: \"请输入旧密码\",\n          formatError: \"登录密码仅支持6-18位数字字母格式\",\n          showKeyboard: false\n        },\n        {\n          key: \"n_pass\",\n          placeholder: \"请输入新密码\",\n          typeKey: \"n_pass\",\n          icon: \"lock\",\n          value: \"\",\n          type: \"password\",\n          require: \"请输入新6-18位数字字母登录密码\",\n          formatError: \"登录密码仅支持6-18位数字字母格式\",\n          showKeyboard: false\n        },\n        {\n          key: \"c_pass\",\n          placeholder: \"再次输入新密码\",\n          typeKey: \"c_pass\",\n          icon: \"lock\",\n          value: \"\",\n          type: \"password\",\n          require: \"请再次输入新6-18位数字字母登录密码\",\n          formatError: \"登录密码仅支持6-18位数字字母格式\",\n          showKeyboard: false\n        }\n      ]\n    );\n    const handleInput = (key, inputValue) => {\n      const itemIndex = fieldList.findIndex((item) => item.key === key);\n      console.log(inputValue.length);\n      if (itemIndex > -1 && inputValue.length <= 6) {\n        fieldList[itemIndex].value = inputValue;\n      }\n    };\n    const clearInput = (key) => {\n      const itemIndex = fieldList.findIndex((item) => item.key === key);\n      if (itemIndex > -1) {\n        fieldList[itemIndex].value = \"\";\n      }\n    };\n    const forgetPass = () => {\n      if (authStore?.userInfo?.verified_status !== 1)\n        return showInfoToast(\"请实名认证后继续此操作\");\n      fieldList = fieldList.filter((item) => item.key !== \"o_pass\");\n      isForgetPass.value = true;\n    };\n    const togglePasswordStatus = (index) => {\n      fieldList[index].type = fieldList[index].type === \"password\" ? \"text\" : \"password\";\n    };\n    const getValue = (key) => {\n      const item = fieldList.find((item2) => item2.key === key);\n      return item ? item.value : \"\";\n    };\n    const getItem = (key) => {\n      const item = fieldList.find((item2) => item2.key === key);\n      return item;\n    };\n    const onlyNumberKey = (evt) => {\n      let ASCIICode = evt.which ? evt.which : evt.keyCode;\n      if (ASCIICode > 31 && (ASCIICode < 48 || ASCIICode > 57))\n        return false;\n      return true;\n    };\n    const regPayPass = /^[a-zA-Z0-9]{6,18}$/;\n    const editPayPass = async () => {\n      if (isLoading.value)\n        return;\n      console.log(getItem(\"c_pass\"), `getItem('c_pass')`);\n      if (!getValue(\"o_pass\"))\n        return showInfoToast(getItem(\"o_pass\")?.require || \"\");\n      if (!regPayPass.test(getValue(\"o_pass\")))\n        return showInfoToast(getItem(\"o_pass\")?.formatError || \"\");\n      if (!getValue(\"n_pass\"))\n        return showInfoToast(getItem(\"n_pass\")?.require || \"\");\n      if (!regPayPass.test(getValue(\"n_pass\")))\n        return showInfoToast(getItem(\"n_pass\")?.formatError || \"\");\n      if (!getValue(\"c_pass\"))\n        return showInfoToast(getItem(\"c_pass\")?.require || \"\");\n      if (!regPayPass.test(getValue(\"c_pass\")))\n        return showInfoToast(getItem(\"c_pass\")?.formatError || \"\");\n      if (getValue(\"o_pass\") === getValue(\"n_pass\"))\n        return showInfoToast(\"新旧密码不能一致\");\n      if (getValue(\"n_pass\") !== getValue(\"c_pass\"))\n        return showInfoToast(\"两次密码不一致\");\n      try {\n        isLoading.value = true;\n        const res = await userLoginPassUpdateApi({\n          oldpasswd: getValue(\"o_pass\"),\n          newpasswd: getValue(\"n_pass\"),\n          newpasswdck: getValue(\"c_pass\")\n          // mobile: '+8613259583728',\n          // code: '12345'\n        });\n        if (res.code === 0) {\n          showSuceedToast(\"登录密码修改成功\");\n          setTimeout(async () => {\n            await authStore.getUserInfo();\n            router.back();\n          }, 1e3);\n        }\n      } catch (error) {\n        console.error(error);\n      } finally {\n        isLoading.value = false;\n      }\n    };\n    onMounted(() => {\n      mitt.emit(\"number-keyboard-show\");\n    });\n    return (_ctx, _cache) => {\n      const _component_nav_bar = _resolveComponent(\"nav-bar\");\n      const _component_van_button = _resolveComponent(\"van-button\");\n      return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n        _createVNode(_component_nav_bar, {\n          title: title.value,\n          mode: \"white\"\n        }, null, 8, [\"title\"]),\n        _createCommentVNode(' <div class=\"order-content p-[22px] pt-0 bg-[#fff] flex items-center flex-wrap justify-center\">\\n      <van-field v-model=\"pass\" placeholder=\"请输入6位登录密码\" right-icon=\"eye-o\" left-icon=\"eye-o\" />\\n      <van-field v-model=\"n_pass\" placeholder=\"新6位登录密码\" right-icon=\"eye-o\" left-icon=\"eye-o\" />\\n      <van-field v-model=\"c_pass\" placeholder=\"确认6位登录新密码\" right-icon=\"eye-o\" left-icon=\"eye-o\" />\\n      <div class=\"text-[var(--van-button-primary-background)] text-[30px] mb-2\">\\n        忘记登录密码？\\n      </div>\\n      <van-button size=\"large\" color=\"var(--van-button-primary-background)\">确认</van-button>\\n    </div> '),\n        _createElementVNode(\"div\", _hoisted_2, [\n          (_openBlock(true), _createElementBlock(\n            _Fragment,\n            null,\n            _renderList(_unref(fieldList), (item, index) => {\n              return _openBlock(), _createElementBlock(\"div\", {\n                key: item.key + index,\n                class: \"input-content w-[96%]\"\n              }, [\n                _createElementVNode(\"div\", _hoisted_3, [\n                  _createElementVNode(\"div\", _hoisted_4, [\n                    _createElementVNode(\n                      \"i\",\n                      {\n                        class: _normalizeClass([\"block\", item.icon])\n                      },\n                      null,\n                      2\n                      /* CLASS */\n                    ),\n                    _withDirectives(_createElementVNode(\"input\", {\n                      value: item.value,\n                      type: item.type,\n                      placeholder: item.placeholder,\n                      \"onUpdate:modelValue\": ($event) => item.value = $event\n                    }, null, 8, _hoisted_5), [\n                      [_vModelDynamic, item.value]\n                    ]),\n                    item.key.toLowerCase().includes(\"pass\") ? (_openBlock(), _createElementBlock(\"i\", {\n                      key: 0,\n                      class: _normalizeClass(item.type === \"password\" ? \"eye-close\" : \"eye-open\"),\n                      onClick: ($event) => togglePasswordStatus(index)\n                    }, null, 10, _hoisted_6)) : _createCommentVNode(\"v-if\", true)\n                  ])\n                ])\n              ]);\n            }),\n            128\n            /* KEYED_FRAGMENT */\n          )),\n          _unref(isSetPass) && !isForgetPass.value ? (_openBlock(), _createBlock(_component_van_button, {\n            key: 0,\n            size: \"large\",\n            color: \"var(--van-button-primary-background)\",\n            onClick: editPayPass\n          }, {\n            default: _withCtx(() => [\n              _createTextVNode(\" 确认 \")\n            ]),\n            _: 1\n            /* STABLE */\n          })) : _createCommentVNode(\"v-if\", true),\n          _createCommentVNode(' <van-button\\n        size=\"large\"\\n        color=\"var(--van-button-primary-background)\"\\n        v-if=\"isSetPass && isForgetPass\"\\n        @click=\"resetPayPass\"\\n      >\\n        确认\\n      </van-button> ')\n        ])\n      ]);\n    };\n  }\n});\n",
      "start": 1714699770691,
      "end": 1714699770691,
      "order": "normal",
      "sourcemaps": null
    },
    {
      "name": "esbuild",
      "result": "\"use strict\";\nimport { defineComponent as _defineComponent } from \"vue\";\nimport { resolveComponent as _resolveComponent, createVNode as _createVNode, createCommentVNode as _createCommentVNode, unref as _unref, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, normalizeClass as _normalizeClass, createElementVNode as _createElementVNode, vModelDynamic as _vModelDynamic, withDirectives as _withDirectives, createTextVNode as _createTextVNode, withCtx as _withCtx, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = (n) => (_pushScopeId(\"data-v-7ab62f23\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = { class: \"password w-100 bg-white\" };\nconst _hoisted_2 = { class: \"order-content p-[22px] bg-[#fff] text-center h-[calc(100vh-100px)] overflow-y-scroll\" };\nconst _hoisted_3 = { class: \"input-content-view\" };\nconst _hoisted_4 = { class: \"input-view flex items-center\" };\nconst _hoisted_5 = [\"value\", \"type\", \"placeholder\", \"onUpdate:modelValue\"];\nconst _hoisted_6 = [\"onClick\"];\nimport { userLoginPassUpdateApi } from \"@/apis/user\";\nimport info from \"@/assets/images/common/info.png\";\nimport success from \"@/assets/images/common/success.png\";\nimport { useEntryStore } from \"@/store\";\nimport { useAuthStore } from \"@/store/modules/auth\";\nimport mitt from \"@/utils/mitt\";\nimport { showToast } from \"vant\";\nimport { computed, onMounted, reactive, ref } from \"vue\";\nimport { useRouter } from \"vue-router\";\nexport default /* @__PURE__ */ _defineComponent({\n  __name: \"login_password\",\n  setup(__props) {\n    const authStore = useAuthStore();\n    const entryStore = useEntryStore();\n    const imgServerUrl = entryStore.imgServerUrl;\n    const router = useRouter();\n    const title = computed(() => {\n      if (isSetPass && !isForgetPass.value) {\n        return \"\\u4FEE\\u6539\\u767B\\u5F55\\u5BC6\\u7801\";\n      }\n      if (!isSetPass) {\n        return \"\\u8BBE\\u7F6E\\u767B\\u5F55\\u5BC6\\u7801\";\n      }\n      if (isSetPass && isForgetPass.value) {\n        return \"\\u5FD8\\u8BB0\\u767B\\u5F55\\u5BC6\\u7801\";\n      }\n      return \"\";\n    });\n    const showInfoToast = (title2) => {\n      return showToast({\n        message: title2,\n        icon: info\n      });\n    };\n    const showSuceedToast = (title2) => {\n      return showToast({\n        message: title2,\n        icon: success\n      });\n    };\n    const isForgetPass = ref(false);\n    const isSetPass = authStore.isSetPayPassword;\n    const isLoading = ref(false);\n    const forgetPassImg = ref(\"\");\n    const readed = ref(false);\n    let fieldList = reactive(\n      // !isSetPass\n      // ?\n      // [\n      //     {\n      //       key: 'pass',\n      //       placeholder: '请输入6-18位数字字母登录密码',\n      //       typeKey: 'pass',\n      //       icon: 'lock',\n      //       value: '',\n      //       type: 'password',\n      //       require: '请输入6-18位数字字母登录密码',\n      //       formatError: '登录密码仅支持6-18位数字字母格式',\n      //       showKeyboard: false\n      //     },\n      //     {\n      //       key: 'c_pass',\n      //       placeholder: '确认6-18位数字字母的登录新密码',\n      //       typeKey: 'c_pass',\n      //       icon: 'lock',\n      //       value: '',\n      //       type: 'password',\n      //       require: '请输入确认6-18位数字字母登录密码',\n      //       formatError: '登录密码仅支持6-18位数字字母格式',\n      //       showKeyboard: false\n      //     }\n      //   ]\n      // :\n      [\n        {\n          key: \"o_pass\",\n          placeholder: \"\\u8BF7\\u8F93\\u5165\\u65E7\\u5BC6\\u7801\",\n          typeKey: \"o_pass\",\n          icon: \"lock\",\n          value: \"\",\n          type: \"password\",\n          require: \"\\u8BF7\\u8F93\\u5165\\u65E7\\u5BC6\\u7801\",\n          formatError: \"\\u767B\\u5F55\\u5BC6\\u7801\\u4EC5\\u652F\\u63016-18\\u4F4D\\u6570\\u5B57\\u5B57\\u6BCD\\u683C\\u5F0F\",\n          showKeyboard: false\n        },\n        {\n          key: \"n_pass\",\n          placeholder: \"\\u8BF7\\u8F93\\u5165\\u65B0\\u5BC6\\u7801\",\n          typeKey: \"n_pass\",\n          icon: \"lock\",\n          value: \"\",\n          type: \"password\",\n          require: \"\\u8BF7\\u8F93\\u5165\\u65B06-18\\u4F4D\\u6570\\u5B57\\u5B57\\u6BCD\\u767B\\u5F55\\u5BC6\\u7801\",\n          formatError: \"\\u767B\\u5F55\\u5BC6\\u7801\\u4EC5\\u652F\\u63016-18\\u4F4D\\u6570\\u5B57\\u5B57\\u6BCD\\u683C\\u5F0F\",\n          showKeyboard: false\n        },\n        {\n          key: \"c_pass\",\n          placeholder: \"\\u518D\\u6B21\\u8F93\\u5165\\u65B0\\u5BC6\\u7801\",\n          typeKey: \"c_pass\",\n          icon: \"lock\",\n          value: \"\",\n          type: \"password\",\n          require: \"\\u8BF7\\u518D\\u6B21\\u8F93\\u5165\\u65B06-18\\u4F4D\\u6570\\u5B57\\u5B57\\u6BCD\\u767B\\u5F55\\u5BC6\\u7801\",\n          formatError: \"\\u767B\\u5F55\\u5BC6\\u7801\\u4EC5\\u652F\\u63016-18\\u4F4D\\u6570\\u5B57\\u5B57\\u6BCD\\u683C\\u5F0F\",\n          showKeyboard: false\n        }\n      ]\n    );\n    const handleInput = (key, inputValue) => {\n      const itemIndex = fieldList.findIndex((item) => item.key === key);\n      console.log(inputValue.length);\n      if (itemIndex > -1 && inputValue.length <= 6) {\n        fieldList[itemIndex].value = inputValue;\n      }\n    };\n    const clearInput = (key) => {\n      const itemIndex = fieldList.findIndex((item) => item.key === key);\n      if (itemIndex > -1) {\n        fieldList[itemIndex].value = \"\";\n      }\n    };\n    const forgetPass = () => {\n      var _a;\n      if (((_a = authStore == null ? void 0 : authStore.userInfo) == null ? void 0 : _a.verified_status) !== 1)\n        return showInfoToast(\"\\u8BF7\\u5B9E\\u540D\\u8BA4\\u8BC1\\u540E\\u7EE7\\u7EED\\u6B64\\u64CD\\u4F5C\");\n      fieldList = fieldList.filter((item) => item.key !== \"o_pass\");\n      isForgetPass.value = true;\n    };\n    const togglePasswordStatus = (index) => {\n      fieldList[index].type = fieldList[index].type === \"password\" ? \"text\" : \"password\";\n    };\n    const getValue = (key) => {\n      const item = fieldList.find((item2) => item2.key === key);\n      return item ? item.value : \"\";\n    };\n    const getItem = (key) => {\n      const item = fieldList.find((item2) => item2.key === key);\n      return item;\n    };\n    const onlyNumberKey = (evt) => {\n      let ASCIICode = evt.which ? evt.which : evt.keyCode;\n      if (ASCIICode > 31 && (ASCIICode < 48 || ASCIICode > 57))\n        return false;\n      return true;\n    };\n    const regPayPass = /^[a-zA-Z0-9]{6,18}$/;\n    const editPayPass = async () => {\n      var _a, _b, _c, _d, _e, _f;\n      if (isLoading.value)\n        return;\n      console.log(getItem(\"c_pass\"), `getItem('c_pass')`);\n      if (!getValue(\"o_pass\"))\n        return showInfoToast(((_a = getItem(\"o_pass\")) == null ? void 0 : _a.require) || \"\");\n      if (!regPayPass.test(getValue(\"o_pass\")))\n        return showInfoToast(((_b = getItem(\"o_pass\")) == null ? void 0 : _b.formatError) || \"\");\n      if (!getValue(\"n_pass\"))\n        return showInfoToast(((_c = getItem(\"n_pass\")) == null ? void 0 : _c.require) || \"\");\n      if (!regPayPass.test(getValue(\"n_pass\")))\n        return showInfoToast(((_d = getItem(\"n_pass\")) == null ? void 0 : _d.formatError) || \"\");\n      if (!getValue(\"c_pass\"))\n        return showInfoToast(((_e = getItem(\"c_pass\")) == null ? void 0 : _e.require) || \"\");\n      if (!regPayPass.test(getValue(\"c_pass\")))\n        return showInfoToast(((_f = getItem(\"c_pass\")) == null ? void 0 : _f.formatError) || \"\");\n      if (getValue(\"o_pass\") === getValue(\"n_pass\"))\n        return showInfoToast(\"\\u65B0\\u65E7\\u5BC6\\u7801\\u4E0D\\u80FD\\u4E00\\u81F4\");\n      if (getValue(\"n_pass\") !== getValue(\"c_pass\"))\n        return showInfoToast(\"\\u4E24\\u6B21\\u5BC6\\u7801\\u4E0D\\u4E00\\u81F4\");\n      try {\n        isLoading.value = true;\n        const res = await userLoginPassUpdateApi({\n          oldpasswd: getValue(\"o_pass\"),\n          newpasswd: getValue(\"n_pass\"),\n          newpasswdck: getValue(\"c_pass\")\n          // mobile: '+8613259583728',\n          // code: '12345'\n        });\n        if (res.code === 0) {\n          showSuceedToast(\"\\u767B\\u5F55\\u5BC6\\u7801\\u4FEE\\u6539\\u6210\\u529F\");\n          setTimeout(async () => {\n            await authStore.getUserInfo();\n            router.back();\n          }, 1e3);\n        }\n      } catch (error) {\n        console.error(error);\n      } finally {\n        isLoading.value = false;\n      }\n    };\n    onMounted(() => {\n      mitt.emit(\"number-keyboard-show\");\n    });\n    return (_ctx, _cache) => {\n      const _component_nav_bar = _resolveComponent(\"nav-bar\");\n      const _component_van_button = _resolveComponent(\"van-button\");\n      return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n        _createVNode(_component_nav_bar, {\n          title: title.value,\n          mode: \"white\"\n        }, null, 8, [\"title\"]),\n        _createCommentVNode(' <div class=\"order-content p-[22px] pt-0 bg-[#fff] flex items-center flex-wrap justify-center\">\\n      <van-field v-model=\"pass\" placeholder=\"\\u8BF7\\u8F93\\u51656\\u4F4D\\u767B\\u5F55\\u5BC6\\u7801\" right-icon=\"eye-o\" left-icon=\"eye-o\" />\\n      <van-field v-model=\"n_pass\" placeholder=\"\\u65B06\\u4F4D\\u767B\\u5F55\\u5BC6\\u7801\" right-icon=\"eye-o\" left-icon=\"eye-o\" />\\n      <van-field v-model=\"c_pass\" placeholder=\"\\u786E\\u8BA46\\u4F4D\\u767B\\u5F55\\u65B0\\u5BC6\\u7801\" right-icon=\"eye-o\" left-icon=\"eye-o\" />\\n      <div class=\"text-[var(--van-button-primary-background)] text-[30px] mb-2\">\\n        \\u5FD8\\u8BB0\\u767B\\u5F55\\u5BC6\\u7801\\uFF1F\\n      </div>\\n      <van-button size=\"large\" color=\"var(--van-button-primary-background)\">\\u786E\\u8BA4</van-button>\\n    </div> '),\n        _createElementVNode(\"div\", _hoisted_2, [\n          (_openBlock(true), _createElementBlock(\n            _Fragment,\n            null,\n            _renderList(_unref(fieldList), (item, index) => {\n              return _openBlock(), _createElementBlock(\"div\", {\n                key: item.key + index,\n                class: \"input-content w-[96%]\"\n              }, [\n                _createElementVNode(\"div\", _hoisted_3, [\n                  _createElementVNode(\"div\", _hoisted_4, [\n                    _createElementVNode(\n                      \"i\",\n                      {\n                        class: _normalizeClass([\"block\", item.icon])\n                      },\n                      null,\n                      2\n                      /* CLASS */\n                    ),\n                    _withDirectives(_createElementVNode(\"input\", {\n                      value: item.value,\n                      type: item.type,\n                      placeholder: item.placeholder,\n                      \"onUpdate:modelValue\": ($event) => item.value = $event\n                    }, null, 8, _hoisted_5), [\n                      [_vModelDynamic, item.value]\n                    ]),\n                    item.key.toLowerCase().includes(\"pass\") ? (_openBlock(), _createElementBlock(\"i\", {\n                      key: 0,\n                      class: _normalizeClass(item.type === \"password\" ? \"eye-close\" : \"eye-open\"),\n                      onClick: ($event) => togglePasswordStatus(index)\n                    }, null, 10, _hoisted_6)) : _createCommentVNode(\"v-if\", true)\n                  ])\n                ])\n              ]);\n            }),\n            128\n            /* KEYED_FRAGMENT */\n          )),\n          _unref(isSetPass) && !isForgetPass.value ? (_openBlock(), _createBlock(_component_van_button, {\n            key: 0,\n            size: \"large\",\n            color: \"var(--van-button-primary-background)\",\n            onClick: editPayPass\n          }, {\n            default: _withCtx(() => [\n              _createTextVNode(\" \\u786E\\u8BA4 \")\n            ]),\n            _: 1\n            /* STABLE */\n          })) : _createCommentVNode(\"v-if\", true),\n          _createCommentVNode(' <van-button\\n        size=\"large\"\\n        color=\"var(--van-button-primary-background)\"\\n        v-if=\"isSetPass && isForgetPass\"\\n        @click=\"resetPayPass\"\\n      >\\n        \\u786E\\u8BA4\\n      </van-button> ')\n        ])\n      ]);\n    };\n  }\n});\n",
      "start": 1714699770691,
      "end": 1714699771158,
      "order": "normal",
      "sourcemaps": "{\n  \"version\": 3,\n  \"sources\": [\"/Users/afeng/Desktop/work/gdpayh5-web/src/pages/Mine/login_password.vue?vue&type=script&setup=true&lang.ts\"],\n  \"sourcesContent\": [\"import { defineComponent as _defineComponent } from \\\"vue\\\";\\nimport { resolveComponent as _resolveComponent, createVNode as _createVNode, createCommentVNode as _createCommentVNode, unref as _unref, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, normalizeClass as _normalizeClass, createElementVNode as _createElementVNode, vModelDynamic as _vModelDynamic, withDirectives as _withDirectives, createTextVNode as _createTextVNode, withCtx as _withCtx, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \\\"vue\\\";\\nconst _withScopeId = (n) => (_pushScopeId(\\\"data-v-7ab62f23\\\"), n = n(), _popScopeId(), n);\\nconst _hoisted_1 = { class: \\\"password w-100 bg-white\\\" };\\nconst _hoisted_2 = { class: \\\"order-content p-[22px] bg-[#fff] text-center h-[calc(100vh-100px)] overflow-y-scroll\\\" };\\nconst _hoisted_3 = { class: \\\"input-content-view\\\" };\\nconst _hoisted_4 = { class: \\\"input-view flex items-center\\\" };\\nconst _hoisted_5 = [\\\"value\\\", \\\"type\\\", \\\"placeholder\\\", \\\"onUpdate:modelValue\\\"];\\nconst _hoisted_6 = [\\\"onClick\\\"];\\nimport { userLoginPassUpdateApi } from \\\"@/apis/user\\\";\\nimport info from \\\"@/assets/images/common/info.png\\\";\\nimport success from \\\"@/assets/images/common/success.png\\\";\\nimport { useEntryStore } from \\\"@/store\\\";\\nimport { useAuthStore } from \\\"@/store/modules/auth\\\";\\nimport mitt from \\\"@/utils/mitt\\\";\\nimport { showToast } from \\\"vant\\\";\\nimport { computed, onMounted, reactive, ref } from \\\"vue\\\";\\nimport { useRouter } from \\\"vue-router\\\";\\nexport default /* @__PURE__ */ _defineComponent({\\n  __name: \\\"login_password\\\",\\n  setup(__props) {\\n    const authStore = useAuthStore();\\n    const entryStore = useEntryStore();\\n    const imgServerUrl = entryStore.imgServerUrl;\\n    const router = useRouter();\\n    const title = computed(() => {\\n      if (isSetPass && !isForgetPass.value) {\\n        return \\\"\\u4FEE\\u6539\\u767B\\u5F55\\u5BC6\\u7801\\\";\\n      }\\n      if (!isSetPass) {\\n        return \\\"\\u8BBE\\u7F6E\\u767B\\u5F55\\u5BC6\\u7801\\\";\\n      }\\n      if (isSetPass && isForgetPass.value) {\\n        return \\\"\\u5FD8\\u8BB0\\u767B\\u5F55\\u5BC6\\u7801\\\";\\n      }\\n      return \\\"\\\";\\n    });\\n    const showInfoToast = (title2) => {\\n      return showToast({\\n        message: title2,\\n        icon: info\\n      });\\n    };\\n    const showSuceedToast = (title2) => {\\n      return showToast({\\n        message: title2,\\n        icon: success\\n      });\\n    };\\n    const isForgetPass = ref(false);\\n    const isSetPass = authStore.isSetPayPassword;\\n    const isLoading = ref(false);\\n    const forgetPassImg = ref(\\\"\\\");\\n    const readed = ref(false);\\n    let fieldList = reactive(\\n      // !isSetPass\\n      // ?\\n      // [\\n      //     {\\n      //       key: 'pass',\\n      //       placeholder: '\\u8BF7\\u8F93\\u51656-18\\u4F4D\\u6570\\u5B57\\u5B57\\u6BCD\\u767B\\u5F55\\u5BC6\\u7801',\\n      //       typeKey: 'pass',\\n      //       icon: 'lock',\\n      //       value: '',\\n      //       type: 'password',\\n      //       require: '\\u8BF7\\u8F93\\u51656-18\\u4F4D\\u6570\\u5B57\\u5B57\\u6BCD\\u767B\\u5F55\\u5BC6\\u7801',\\n      //       formatError: '\\u767B\\u5F55\\u5BC6\\u7801\\u4EC5\\u652F\\u63016-18\\u4F4D\\u6570\\u5B57\\u5B57\\u6BCD\\u683C\\u5F0F',\\n      //       showKeyboard: false\\n      //     },\\n      //     {\\n      //       key: 'c_pass',\\n      //       placeholder: '\\u786E\\u8BA46-18\\u4F4D\\u6570\\u5B57\\u5B57\\u6BCD\\u7684\\u767B\\u5F55\\u65B0\\u5BC6\\u7801',\\n      //       typeKey: 'c_pass',\\n      //       icon: 'lock',\\n      //       value: '',\\n      //       type: 'password',\\n      //       require: '\\u8BF7\\u8F93\\u5165\\u786E\\u8BA46-18\\u4F4D\\u6570\\u5B57\\u5B57\\u6BCD\\u767B\\u5F55\\u5BC6\\u7801',\\n      //       formatError: '\\u767B\\u5F55\\u5BC6\\u7801\\u4EC5\\u652F\\u63016-18\\u4F4D\\u6570\\u5B57\\u5B57\\u6BCD\\u683C\\u5F0F',\\n      //       showKeyboard: false\\n      //     }\\n      //   ]\\n      // :\\n      [\\n        {\\n          key: \\\"o_pass\\\",\\n          placeholder: \\\"\\u8BF7\\u8F93\\u5165\\u65E7\\u5BC6\\u7801\\\",\\n          typeKey: \\\"o_pass\\\",\\n          icon: \\\"lock\\\",\\n          value: \\\"\\\",\\n          type: \\\"password\\\",\\n          require: \\\"\\u8BF7\\u8F93\\u5165\\u65E7\\u5BC6\\u7801\\\",\\n          formatError: \\\"\\u767B\\u5F55\\u5BC6\\u7801\\u4EC5\\u652F\\u63016-18\\u4F4D\\u6570\\u5B57\\u5B57\\u6BCD\\u683C\\u5F0F\\\",\\n          showKeyboard: false\\n        },\\n        {\\n          key: \\\"n_pass\\\",\\n          placeholder: \\\"\\u8BF7\\u8F93\\u5165\\u65B0\\u5BC6\\u7801\\\",\\n          typeKey: \\\"n_pass\\\",\\n          icon: \\\"lock\\\",\\n          value: \\\"\\\",\\n          type: \\\"password\\\",\\n          require: \\\"\\u8BF7\\u8F93\\u5165\\u65B06-18\\u4F4D\\u6570\\u5B57\\u5B57\\u6BCD\\u767B\\u5F55\\u5BC6\\u7801\\\",\\n          formatError: \\\"\\u767B\\u5F55\\u5BC6\\u7801\\u4EC5\\u652F\\u63016-18\\u4F4D\\u6570\\u5B57\\u5B57\\u6BCD\\u683C\\u5F0F\\\",\\n          showKeyboard: false\\n        },\\n        {\\n          key: \\\"c_pass\\\",\\n          placeholder: \\\"\\u518D\\u6B21\\u8F93\\u5165\\u65B0\\u5BC6\\u7801\\\",\\n          typeKey: \\\"c_pass\\\",\\n          icon: \\\"lock\\\",\\n          value: \\\"\\\",\\n          type: \\\"password\\\",\\n          require: \\\"\\u8BF7\\u518D\\u6B21\\u8F93\\u5165\\u65B06-18\\u4F4D\\u6570\\u5B57\\u5B57\\u6BCD\\u767B\\u5F55\\u5BC6\\u7801\\\",\\n          formatError: \\\"\\u767B\\u5F55\\u5BC6\\u7801\\u4EC5\\u652F\\u63016-18\\u4F4D\\u6570\\u5B57\\u5B57\\u6BCD\\u683C\\u5F0F\\\",\\n          showKeyboard: false\\n        }\\n      ]\\n    );\\n    const handleInput = (key, inputValue) => {\\n      const itemIndex = fieldList.findIndex((item) => item.key === key);\\n      console.log(inputValue.length);\\n      if (itemIndex > -1 && inputValue.length <= 6) {\\n        fieldList[itemIndex].value = inputValue;\\n      }\\n    };\\n    const clearInput = (key) => {\\n      const itemIndex = fieldList.findIndex((item) => item.key === key);\\n      if (itemIndex > -1) {\\n        fieldList[itemIndex].value = \\\"\\\";\\n      }\\n    };\\n    const forgetPass = () => {\\n      if (authStore?.userInfo?.verified_status !== 1)\\n        return showInfoToast(\\\"\\u8BF7\\u5B9E\\u540D\\u8BA4\\u8BC1\\u540E\\u7EE7\\u7EED\\u6B64\\u64CD\\u4F5C\\\");\\n      fieldList = fieldList.filter((item) => item.key !== \\\"o_pass\\\");\\n      isForgetPass.value = true;\\n    };\\n    const togglePasswordStatus = (index) => {\\n      fieldList[index].type = fieldList[index].type === \\\"password\\\" ? \\\"text\\\" : \\\"password\\\";\\n    };\\n    const getValue = (key) => {\\n      const item = fieldList.find((item2) => item2.key === key);\\n      return item ? item.value : \\\"\\\";\\n    };\\n    const getItem = (key) => {\\n      const item = fieldList.find((item2) => item2.key === key);\\n      return item;\\n    };\\n    const onlyNumberKey = (evt) => {\\n      let ASCIICode = evt.which ? evt.which : evt.keyCode;\\n      if (ASCIICode > 31 && (ASCIICode < 48 || ASCIICode > 57))\\n        return false;\\n      return true;\\n    };\\n    const regPayPass = /^[a-zA-Z0-9]{6,18}$/;\\n    const editPayPass = async () => {\\n      if (isLoading.value)\\n        return;\\n      console.log(getItem(\\\"c_pass\\\"), `getItem('c_pass')`);\\n      if (!getValue(\\\"o_pass\\\"))\\n        return showInfoToast(getItem(\\\"o_pass\\\")?.require || \\\"\\\");\\n      if (!regPayPass.test(getValue(\\\"o_pass\\\")))\\n        return showInfoToast(getItem(\\\"o_pass\\\")?.formatError || \\\"\\\");\\n      if (!getValue(\\\"n_pass\\\"))\\n        return showInfoToast(getItem(\\\"n_pass\\\")?.require || \\\"\\\");\\n      if (!regPayPass.test(getValue(\\\"n_pass\\\")))\\n        return showInfoToast(getItem(\\\"n_pass\\\")?.formatError || \\\"\\\");\\n      if (!getValue(\\\"c_pass\\\"))\\n        return showInfoToast(getItem(\\\"c_pass\\\")?.require || \\\"\\\");\\n      if (!regPayPass.test(getValue(\\\"c_pass\\\")))\\n        return showInfoToast(getItem(\\\"c_pass\\\")?.formatError || \\\"\\\");\\n      if (getValue(\\\"o_pass\\\") === getValue(\\\"n_pass\\\"))\\n        return showInfoToast(\\\"\\u65B0\\u65E7\\u5BC6\\u7801\\u4E0D\\u80FD\\u4E00\\u81F4\\\");\\n      if (getValue(\\\"n_pass\\\") !== getValue(\\\"c_pass\\\"))\\n        return showInfoToast(\\\"\\u4E24\\u6B21\\u5BC6\\u7801\\u4E0D\\u4E00\\u81F4\\\");\\n      try {\\n        isLoading.value = true;\\n        const res = await userLoginPassUpdateApi({\\n          oldpasswd: getValue(\\\"o_pass\\\"),\\n          newpasswd: getValue(\\\"n_pass\\\"),\\n          newpasswdck: getValue(\\\"c_pass\\\")\\n          // mobile: '+8613259583728',\\n          // code: '12345'\\n        });\\n        if (res.code === 0) {\\n          showSuceedToast(\\\"\\u767B\\u5F55\\u5BC6\\u7801\\u4FEE\\u6539\\u6210\\u529F\\\");\\n          setTimeout(async () => {\\n            await authStore.getUserInfo();\\n            router.back();\\n          }, 1e3);\\n        }\\n      } catch (error) {\\n        console.error(error);\\n      } finally {\\n        isLoading.value = false;\\n      }\\n    };\\n    onMounted(() => {\\n      mitt.emit(\\\"number-keyboard-show\\\");\\n    });\\n    return (_ctx, _cache) => {\\n      const _component_nav_bar = _resolveComponent(\\\"nav-bar\\\");\\n      const _component_van_button = _resolveComponent(\\\"van-button\\\");\\n      return _openBlock(), _createElementBlock(\\\"div\\\", _hoisted_1, [\\n        _createVNode(_component_nav_bar, {\\n          title: title.value,\\n          mode: \\\"white\\\"\\n        }, null, 8, [\\\"title\\\"]),\\n        _createCommentVNode(' <div class=\\\"order-content p-[22px] pt-0 bg-[#fff] flex items-center flex-wrap justify-center\\\">\\\\n      <van-field v-model=\\\"pass\\\" placeholder=\\\"\\u8BF7\\u8F93\\u51656\\u4F4D\\u767B\\u5F55\\u5BC6\\u7801\\\" right-icon=\\\"eye-o\\\" left-icon=\\\"eye-o\\\" />\\\\n      <van-field v-model=\\\"n_pass\\\" placeholder=\\\"\\u65B06\\u4F4D\\u767B\\u5F55\\u5BC6\\u7801\\\" right-icon=\\\"eye-o\\\" left-icon=\\\"eye-o\\\" />\\\\n      <van-field v-model=\\\"c_pass\\\" placeholder=\\\"\\u786E\\u8BA46\\u4F4D\\u767B\\u5F55\\u65B0\\u5BC6\\u7801\\\" right-icon=\\\"eye-o\\\" left-icon=\\\"eye-o\\\" />\\\\n      <div class=\\\"text-[var(--van-button-primary-background)] text-[30px] mb-2\\\">\\\\n        \\u5FD8\\u8BB0\\u767B\\u5F55\\u5BC6\\u7801\\uFF1F\\\\n      </div>\\\\n      <van-button size=\\\"large\\\" color=\\\"var(--van-button-primary-background)\\\">\\u786E\\u8BA4</van-button>\\\\n    </div> '),\\n        _createElementVNode(\\\"div\\\", _hoisted_2, [\\n          (_openBlock(true), _createElementBlock(\\n            _Fragment,\\n            null,\\n            _renderList(_unref(fieldList), (item, index) => {\\n              return _openBlock(), _createElementBlock(\\\"div\\\", {\\n                key: item.key + index,\\n                class: \\\"input-content w-[96%]\\\"\\n              }, [\\n                _createElementVNode(\\\"div\\\", _hoisted_3, [\\n                  _createElementVNode(\\\"div\\\", _hoisted_4, [\\n                    _createElementVNode(\\n                      \\\"i\\\",\\n                      {\\n                        class: _normalizeClass([\\\"block\\\", item.icon])\\n                      },\\n                      null,\\n                      2\\n                      /* CLASS */\\n                    ),\\n                    _withDirectives(_createElementVNode(\\\"input\\\", {\\n                      value: item.value,\\n                      type: item.type,\\n                      placeholder: item.placeholder,\\n                      \\\"onUpdate:modelValue\\\": ($event) => item.value = $event\\n                    }, null, 8, _hoisted_5), [\\n                      [_vModelDynamic, item.value]\\n                    ]),\\n                    item.key.toLowerCase().includes(\\\"pass\\\") ? (_openBlock(), _createElementBlock(\\\"i\\\", {\\n                      key: 0,\\n                      class: _normalizeClass(item.type === \\\"password\\\" ? \\\"eye-close\\\" : \\\"eye-open\\\"),\\n                      onClick: ($event) => togglePasswordStatus(index)\\n                    }, null, 10, _hoisted_6)) : _createCommentVNode(\\\"v-if\\\", true)\\n                  ])\\n                ])\\n              ]);\\n            }),\\n            128\\n            /* KEYED_FRAGMENT */\\n          )),\\n          _unref(isSetPass) && !isForgetPass.value ? (_openBlock(), _createBlock(_component_van_button, {\\n            key: 0,\\n            size: \\\"large\\\",\\n            color: \\\"var(--van-button-primary-background)\\\",\\n            onClick: editPayPass\\n          }, {\\n            default: _withCtx(() => [\\n              _createTextVNode(\\\" \\u786E\\u8BA4 \\\")\\n            ]),\\n            _: 1\\n            /* STABLE */\\n          })) : _createCommentVNode(\\\"v-if\\\", true),\\n          _createCommentVNode(' <van-button\\\\n        size=\\\"large\\\"\\\\n        color=\\\"var(--van-button-primary-background)\\\"\\\\n        v-if=\\\"isSetPass && isForgetPass\\\"\\\\n        @click=\\\"resetPayPass\\\"\\\\n      >\\\\n        \\u786E\\u8BA4\\\\n      </van-button> ')\\n        ])\\n      ]);\\n    };\\n  }\\n});\\n\"],\n  \"mappings\": \"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\",\n  \"names\": []\n}\n"
    },
    {
      "name": "vite:define",
      "start": 1714699771158,
      "end": 1714699771158,
      "order": "normal"
    },
    {
      "name": "vite:css-post",
      "start": 1714699771158,
      "end": 1714699771158,
      "order": "normal"
    },
    {
      "name": "vite:build-html",
      "start": 1714699771158,
      "end": 1714699771158,
      "order": "normal"
    },
    {
      "name": "vite:worker-import-meta-url",
      "start": 1714699771158,
      "end": 1714699771158,
      "order": "normal"
    },
    {
      "name": "vite:asset-import-meta-url",
      "start": 1714699771158,
      "end": 1714699771158,
      "order": "normal"
    },
    {
      "name": "commonjs",
      "start": 1714699771158,
      "end": 1714699771158,
      "order": "normal"
    },
    {
      "name": "vite:dynamic-import-vars",
      "start": 1714699771158,
      "end": 1714699771158,
      "order": "normal"
    },
    {
      "name": "vite:import-glob",
      "start": 1714699771158,
      "end": 1714699771158,
      "order": "normal"
    },
    {
      "name": "unplugin-auto-import",
      "start": 1714699771158,
      "end": 1714699771160,
      "order": "post"
    },
    {
      "name": "unplugin-vue-components",
      "result": "/* unplugin-vue-components disabled */import { Button as __unplugin_components_1 } from 'vant/es';import 'vant/es/button/style/index';\nimport __unplugin_components_0 from '/Users/afeng/Desktop/work/gdpayh5-web/src/components/Common/NavBar.vue';\n\"use strict\";\nimport { defineComponent as _defineComponent } from \"vue\";\nimport { resolveComponent as _resolveComponent, createVNode as _createVNode, createCommentVNode as _createCommentVNode, unref as _unref, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, normalizeClass as _normalizeClass, createElementVNode as _createElementVNode, vModelDynamic as _vModelDynamic, withDirectives as _withDirectives, createTextVNode as _createTextVNode, withCtx as _withCtx, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = (n) => (_pushScopeId(\"data-v-7ab62f23\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = { class: \"password w-100 bg-white\" };\nconst _hoisted_2 = { class: \"order-content p-[22px] bg-[#fff] text-center h-[calc(100vh-100px)] overflow-y-scroll\" };\nconst _hoisted_3 = { class: \"input-content-view\" };\nconst _hoisted_4 = { class: \"input-view flex items-center\" };\nconst _hoisted_5 = [\"value\", \"type\", \"placeholder\", \"onUpdate:modelValue\"];\nconst _hoisted_6 = [\"onClick\"];\nimport { userLoginPassUpdateApi } from \"@/apis/user\";\nimport info from \"@/assets/images/common/info.png\";\nimport success from \"@/assets/images/common/success.png\";\nimport { useEntryStore } from \"@/store\";\nimport { useAuthStore } from \"@/store/modules/auth\";\nimport mitt from \"@/utils/mitt\";\nimport { showToast } from \"vant\";\nimport { computed, onMounted, reactive, ref } from \"vue\";\nimport { useRouter } from \"vue-router\";\nexport default /* @__PURE__ */ _defineComponent({\n  __name: \"login_password\",\n  setup(__props) {\n    const authStore = useAuthStore();\n    const entryStore = useEntryStore();\n    const imgServerUrl = entryStore.imgServerUrl;\n    const router = useRouter();\n    const title = computed(() => {\n      if (isSetPass && !isForgetPass.value) {\n        return \"\\u4FEE\\u6539\\u767B\\u5F55\\u5BC6\\u7801\";\n      }\n      if (!isSetPass) {\n        return \"\\u8BBE\\u7F6E\\u767B\\u5F55\\u5BC6\\u7801\";\n      }\n      if (isSetPass && isForgetPass.value) {\n        return \"\\u5FD8\\u8BB0\\u767B\\u5F55\\u5BC6\\u7801\";\n      }\n      return \"\";\n    });\n    const showInfoToast = (title2) => {\n      return showToast({\n        message: title2,\n        icon: info\n      });\n    };\n    const showSuceedToast = (title2) => {\n      return showToast({\n        message: title2,\n        icon: success\n      });\n    };\n    const isForgetPass = ref(false);\n    const isSetPass = authStore.isSetPayPassword;\n    const isLoading = ref(false);\n    const forgetPassImg = ref(\"\");\n    const readed = ref(false);\n    let fieldList = reactive(\n      // !isSetPass\n      // ?\n      // [\n      //     {\n      //       key: 'pass',\n      //       placeholder: '请输入6-18位数字字母登录密码',\n      //       typeKey: 'pass',\n      //       icon: 'lock',\n      //       value: '',\n      //       type: 'password',\n      //       require: '请输入6-18位数字字母登录密码',\n      //       formatError: '登录密码仅支持6-18位数字字母格式',\n      //       showKeyboard: false\n      //     },\n      //     {\n      //       key: 'c_pass',\n      //       placeholder: '确认6-18位数字字母的登录新密码',\n      //       typeKey: 'c_pass',\n      //       icon: 'lock',\n      //       value: '',\n      //       type: 'password',\n      //       require: '请输入确认6-18位数字字母登录密码',\n      //       formatError: '登录密码仅支持6-18位数字字母格式',\n      //       showKeyboard: false\n      //     }\n      //   ]\n      // :\n      [\n        {\n          key: \"o_pass\",\n          placeholder: \"\\u8BF7\\u8F93\\u5165\\u65E7\\u5BC6\\u7801\",\n          typeKey: \"o_pass\",\n          icon: \"lock\",\n          value: \"\",\n          type: \"password\",\n          require: \"\\u8BF7\\u8F93\\u5165\\u65E7\\u5BC6\\u7801\",\n          formatError: \"\\u767B\\u5F55\\u5BC6\\u7801\\u4EC5\\u652F\\u63016-18\\u4F4D\\u6570\\u5B57\\u5B57\\u6BCD\\u683C\\u5F0F\",\n          showKeyboard: false\n        },\n        {\n          key: \"n_pass\",\n          placeholder: \"\\u8BF7\\u8F93\\u5165\\u65B0\\u5BC6\\u7801\",\n          typeKey: \"n_pass\",\n          icon: \"lock\",\n          value: \"\",\n          type: \"password\",\n          require: \"\\u8BF7\\u8F93\\u5165\\u65B06-18\\u4F4D\\u6570\\u5B57\\u5B57\\u6BCD\\u767B\\u5F55\\u5BC6\\u7801\",\n          formatError: \"\\u767B\\u5F55\\u5BC6\\u7801\\u4EC5\\u652F\\u63016-18\\u4F4D\\u6570\\u5B57\\u5B57\\u6BCD\\u683C\\u5F0F\",\n          showKeyboard: false\n        },\n        {\n          key: \"c_pass\",\n          placeholder: \"\\u518D\\u6B21\\u8F93\\u5165\\u65B0\\u5BC6\\u7801\",\n          typeKey: \"c_pass\",\n          icon: \"lock\",\n          value: \"\",\n          type: \"password\",\n          require: \"\\u8BF7\\u518D\\u6B21\\u8F93\\u5165\\u65B06-18\\u4F4D\\u6570\\u5B57\\u5B57\\u6BCD\\u767B\\u5F55\\u5BC6\\u7801\",\n          formatError: \"\\u767B\\u5F55\\u5BC6\\u7801\\u4EC5\\u652F\\u63016-18\\u4F4D\\u6570\\u5B57\\u5B57\\u6BCD\\u683C\\u5F0F\",\n          showKeyboard: false\n        }\n      ]\n    );\n    const handleInput = (key, inputValue) => {\n      const itemIndex = fieldList.findIndex((item) => item.key === key);\n      console.log(inputValue.length);\n      if (itemIndex > -1 && inputValue.length <= 6) {\n        fieldList[itemIndex].value = inputValue;\n      }\n    };\n    const clearInput = (key) => {\n      const itemIndex = fieldList.findIndex((item) => item.key === key);\n      if (itemIndex > -1) {\n        fieldList[itemIndex].value = \"\";\n      }\n    };\n    const forgetPass = () => {\n      var _a;\n      if (((_a = authStore == null ? void 0 : authStore.userInfo) == null ? void 0 : _a.verified_status) !== 1)\n        return showInfoToast(\"\\u8BF7\\u5B9E\\u540D\\u8BA4\\u8BC1\\u540E\\u7EE7\\u7EED\\u6B64\\u64CD\\u4F5C\");\n      fieldList = fieldList.filter((item) => item.key !== \"o_pass\");\n      isForgetPass.value = true;\n    };\n    const togglePasswordStatus = (index) => {\n      fieldList[index].type = fieldList[index].type === \"password\" ? \"text\" : \"password\";\n    };\n    const getValue = (key) => {\n      const item = fieldList.find((item2) => item2.key === key);\n      return item ? item.value : \"\";\n    };\n    const getItem = (key) => {\n      const item = fieldList.find((item2) => item2.key === key);\n      return item;\n    };\n    const onlyNumberKey = (evt) => {\n      let ASCIICode = evt.which ? evt.which : evt.keyCode;\n      if (ASCIICode > 31 && (ASCIICode < 48 || ASCIICode > 57))\n        return false;\n      return true;\n    };\n    const regPayPass = /^[a-zA-Z0-9]{6,18}$/;\n    const editPayPass = async () => {\n      var _a, _b, _c, _d, _e, _f;\n      if (isLoading.value)\n        return;\n      console.log(getItem(\"c_pass\"), `getItem('c_pass')`);\n      if (!getValue(\"o_pass\"))\n        return showInfoToast(((_a = getItem(\"o_pass\")) == null ? void 0 : _a.require) || \"\");\n      if (!regPayPass.test(getValue(\"o_pass\")))\n        return showInfoToast(((_b = getItem(\"o_pass\")) == null ? void 0 : _b.formatError) || \"\");\n      if (!getValue(\"n_pass\"))\n        return showInfoToast(((_c = getItem(\"n_pass\")) == null ? void 0 : _c.require) || \"\");\n      if (!regPayPass.test(getValue(\"n_pass\")))\n        return showInfoToast(((_d = getItem(\"n_pass\")) == null ? void 0 : _d.formatError) || \"\");\n      if (!getValue(\"c_pass\"))\n        return showInfoToast(((_e = getItem(\"c_pass\")) == null ? void 0 : _e.require) || \"\");\n      if (!regPayPass.test(getValue(\"c_pass\")))\n        return showInfoToast(((_f = getItem(\"c_pass\")) == null ? void 0 : _f.formatError) || \"\");\n      if (getValue(\"o_pass\") === getValue(\"n_pass\"))\n        return showInfoToast(\"\\u65B0\\u65E7\\u5BC6\\u7801\\u4E0D\\u80FD\\u4E00\\u81F4\");\n      if (getValue(\"n_pass\") !== getValue(\"c_pass\"))\n        return showInfoToast(\"\\u4E24\\u6B21\\u5BC6\\u7801\\u4E0D\\u4E00\\u81F4\");\n      try {\n        isLoading.value = true;\n        const res = await userLoginPassUpdateApi({\n          oldpasswd: getValue(\"o_pass\"),\n          newpasswd: getValue(\"n_pass\"),\n          newpasswdck: getValue(\"c_pass\")\n          // mobile: '+8613259583728',\n          // code: '12345'\n        });\n        if (res.code === 0) {\n          showSuceedToast(\"\\u767B\\u5F55\\u5BC6\\u7801\\u4FEE\\u6539\\u6210\\u529F\");\n          setTimeout(async () => {\n            await authStore.getUserInfo();\n            router.back();\n          }, 1e3);\n        }\n      } catch (error) {\n        console.error(error);\n      } finally {\n        isLoading.value = false;\n      }\n    };\n    onMounted(() => {\n      mitt.emit(\"number-keyboard-show\");\n    });\n    return (_ctx, _cache) => {\n      const _component_nav_bar = __unplugin_components_0;\n      const _component_van_button = __unplugin_components_1;\n      return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n        _createVNode(_component_nav_bar, {\n          title: title.value,\n          mode: \"white\"\n        }, null, 8, [\"title\"]),\n        _createCommentVNode(' <div class=\"order-content p-[22px] pt-0 bg-[#fff] flex items-center flex-wrap justify-center\">\\n      <van-field v-model=\"pass\" placeholder=\"\\u8BF7\\u8F93\\u51656\\u4F4D\\u767B\\u5F55\\u5BC6\\u7801\" right-icon=\"eye-o\" left-icon=\"eye-o\" />\\n      <van-field v-model=\"n_pass\" placeholder=\"\\u65B06\\u4F4D\\u767B\\u5F55\\u5BC6\\u7801\" right-icon=\"eye-o\" left-icon=\"eye-o\" />\\n      <van-field v-model=\"c_pass\" placeholder=\"\\u786E\\u8BA46\\u4F4D\\u767B\\u5F55\\u65B0\\u5BC6\\u7801\" right-icon=\"eye-o\" left-icon=\"eye-o\" />\\n      <div class=\"text-[var(--van-button-primary-background)] text-[30px] mb-2\">\\n        \\u5FD8\\u8BB0\\u767B\\u5F55\\u5BC6\\u7801\\uFF1F\\n      </div>\\n      <van-button size=\"large\" color=\"var(--van-button-primary-background)\">\\u786E\\u8BA4</van-button>\\n    </div> '),\n        _createElementVNode(\"div\", _hoisted_2, [\n          (_openBlock(true), _createElementBlock(\n            _Fragment,\n            null,\n            _renderList(_unref(fieldList), (item, index) => {\n              return _openBlock(), _createElementBlock(\"div\", {\n                key: item.key + index,\n                class: \"input-content w-[96%]\"\n              }, [\n                _createElementVNode(\"div\", _hoisted_3, [\n                  _createElementVNode(\"div\", _hoisted_4, [\n                    _createElementVNode(\n                      \"i\",\n                      {\n                        class: _normalizeClass([\"block\", item.icon])\n                      },\n                      null,\n                      2\n                      /* CLASS */\n                    ),\n                    _withDirectives(_createElementVNode(\"input\", {\n                      value: item.value,\n                      type: item.type,\n                      placeholder: item.placeholder,\n                      \"onUpdate:modelValue\": ($event) => item.value = $event\n                    }, null, 8, _hoisted_5), [\n                      [_vModelDynamic, item.value]\n                    ]),\n                    item.key.toLowerCase().includes(\"pass\") ? (_openBlock(), _createElementBlock(\"i\", {\n                      key: 0,\n                      class: _normalizeClass(item.type === \"password\" ? \"eye-close\" : \"eye-open\"),\n                      onClick: ($event) => togglePasswordStatus(index)\n                    }, null, 10, _hoisted_6)) : _createCommentVNode(\"v-if\", true)\n                  ])\n                ])\n              ]);\n            }),\n            128\n            /* KEYED_FRAGMENT */\n          )),\n          _unref(isSetPass) && !isForgetPass.value ? (_openBlock(), _createBlock(_component_van_button, {\n            key: 0,\n            size: \"large\",\n            color: \"var(--van-button-primary-background)\",\n            onClick: editPayPass\n          }, {\n            default: _withCtx(() => [\n              _createTextVNode(\" \\u786E\\u8BA4 \")\n            ]),\n            _: 1\n            /* STABLE */\n          })) : _createCommentVNode(\"v-if\", true),\n          _createCommentVNode(' <van-button\\n        size=\"large\"\\n        color=\"var(--van-button-primary-background)\"\\n        v-if=\"isSetPass && isForgetPass\"\\n        @click=\"resetPayPass\"\\n      >\\n        \\u786E\\u8BA4\\n      </van-button> ')\n        ])\n      ]);\n    };\n  }\n});\n",
      "start": 1714699771160,
      "end": 1714699771160,
      "order": "post",
      "sourcemaps": {
        "version": 3,
        "sources": [
          "/Users/afeng/Desktop/work/gdpayh5-web/src/pages/Mine/login_password.vue?vue&type=script&setup=true&lang.ts"
        ],
        "sourcesContent": [
          "\"use strict\";\nimport { defineComponent as _defineComponent } from \"vue\";\nimport { resolveComponent as _resolveComponent, createVNode as _createVNode, createCommentVNode as _createCommentVNode, unref as _unref, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, normalizeClass as _normalizeClass, createElementVNode as _createElementVNode, vModelDynamic as _vModelDynamic, withDirectives as _withDirectives, createTextVNode as _createTextVNode, withCtx as _withCtx, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = (n) => (_pushScopeId(\"data-v-7ab62f23\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = { class: \"password w-100 bg-white\" };\nconst _hoisted_2 = { class: \"order-content p-[22px] bg-[#fff] text-center h-[calc(100vh-100px)] overflow-y-scroll\" };\nconst _hoisted_3 = { class: \"input-content-view\" };\nconst _hoisted_4 = { class: \"input-view flex items-center\" };\nconst _hoisted_5 = [\"value\", \"type\", \"placeholder\", \"onUpdate:modelValue\"];\nconst _hoisted_6 = [\"onClick\"];\nimport { userLoginPassUpdateApi } from \"@/apis/user\";\nimport info from \"@/assets/images/common/info.png\";\nimport success from \"@/assets/images/common/success.png\";\nimport { useEntryStore } from \"@/store\";\nimport { useAuthStore } from \"@/store/modules/auth\";\nimport mitt from \"@/utils/mitt\";\nimport { showToast } from \"vant\";\nimport { computed, onMounted, reactive, ref } from \"vue\";\nimport { useRouter } from \"vue-router\";\nexport default /* @__PURE__ */ _defineComponent({\n  __name: \"login_password\",\n  setup(__props) {\n    const authStore = useAuthStore();\n    const entryStore = useEntryStore();\n    const imgServerUrl = entryStore.imgServerUrl;\n    const router = useRouter();\n    const title = computed(() => {\n      if (isSetPass && !isForgetPass.value) {\n        return \"\\u4FEE\\u6539\\u767B\\u5F55\\u5BC6\\u7801\";\n      }\n      if (!isSetPass) {\n        return \"\\u8BBE\\u7F6E\\u767B\\u5F55\\u5BC6\\u7801\";\n      }\n      if (isSetPass && isForgetPass.value) {\n        return \"\\u5FD8\\u8BB0\\u767B\\u5F55\\u5BC6\\u7801\";\n      }\n      return \"\";\n    });\n    const showInfoToast = (title2) => {\n      return showToast({\n        message: title2,\n        icon: info\n      });\n    };\n    const showSuceedToast = (title2) => {\n      return showToast({\n        message: title2,\n        icon: success\n      });\n    };\n    const isForgetPass = ref(false);\n    const isSetPass = authStore.isSetPayPassword;\n    const isLoading = ref(false);\n    const forgetPassImg = ref(\"\");\n    const readed = ref(false);\n    let fieldList = reactive(\n      // !isSetPass\n      // ?\n      // [\n      //     {\n      //       key: 'pass',\n      //       placeholder: '请输入6-18位数字字母登录密码',\n      //       typeKey: 'pass',\n      //       icon: 'lock',\n      //       value: '',\n      //       type: 'password',\n      //       require: '请输入6-18位数字字母登录密码',\n      //       formatError: '登录密码仅支持6-18位数字字母格式',\n      //       showKeyboard: false\n      //     },\n      //     {\n      //       key: 'c_pass',\n      //       placeholder: '确认6-18位数字字母的登录新密码',\n      //       typeKey: 'c_pass',\n      //       icon: 'lock',\n      //       value: '',\n      //       type: 'password',\n      //       require: '请输入确认6-18位数字字母登录密码',\n      //       formatError: '登录密码仅支持6-18位数字字母格式',\n      //       showKeyboard: false\n      //     }\n      //   ]\n      // :\n      [\n        {\n          key: \"o_pass\",\n          placeholder: \"\\u8BF7\\u8F93\\u5165\\u65E7\\u5BC6\\u7801\",\n          typeKey: \"o_pass\",\n          icon: \"lock\",\n          value: \"\",\n          type: \"password\",\n          require: \"\\u8BF7\\u8F93\\u5165\\u65E7\\u5BC6\\u7801\",\n          formatError: \"\\u767B\\u5F55\\u5BC6\\u7801\\u4EC5\\u652F\\u63016-18\\u4F4D\\u6570\\u5B57\\u5B57\\u6BCD\\u683C\\u5F0F\",\n          showKeyboard: false\n        },\n        {\n          key: \"n_pass\",\n          placeholder: \"\\u8BF7\\u8F93\\u5165\\u65B0\\u5BC6\\u7801\",\n          typeKey: \"n_pass\",\n          icon: \"lock\",\n          value: \"\",\n          type: \"password\",\n          require: \"\\u8BF7\\u8F93\\u5165\\u65B06-18\\u4F4D\\u6570\\u5B57\\u5B57\\u6BCD\\u767B\\u5F55\\u5BC6\\u7801\",\n          formatError: \"\\u767B\\u5F55\\u5BC6\\u7801\\u4EC5\\u652F\\u63016-18\\u4F4D\\u6570\\u5B57\\u5B57\\u6BCD\\u683C\\u5F0F\",\n          showKeyboard: false\n        },\n        {\n          key: \"c_pass\",\n          placeholder: \"\\u518D\\u6B21\\u8F93\\u5165\\u65B0\\u5BC6\\u7801\",\n          typeKey: \"c_pass\",\n          icon: \"lock\",\n          value: \"\",\n          type: \"password\",\n          require: \"\\u8BF7\\u518D\\u6B21\\u8F93\\u5165\\u65B06-18\\u4F4D\\u6570\\u5B57\\u5B57\\u6BCD\\u767B\\u5F55\\u5BC6\\u7801\",\n          formatError: \"\\u767B\\u5F55\\u5BC6\\u7801\\u4EC5\\u652F\\u63016-18\\u4F4D\\u6570\\u5B57\\u5B57\\u6BCD\\u683C\\u5F0F\",\n          showKeyboard: false\n        }\n      ]\n    );\n    const handleInput = (key, inputValue) => {\n      const itemIndex = fieldList.findIndex((item) => item.key === key);\n      console.log(inputValue.length);\n      if (itemIndex > -1 && inputValue.length <= 6) {\n        fieldList[itemIndex].value = inputValue;\n      }\n    };\n    const clearInput = (key) => {\n      const itemIndex = fieldList.findIndex((item) => item.key === key);\n      if (itemIndex > -1) {\n        fieldList[itemIndex].value = \"\";\n      }\n    };\n    const forgetPass = () => {\n      var _a;\n      if (((_a = authStore == null ? void 0 : authStore.userInfo) == null ? void 0 : _a.verified_status) !== 1)\n        return showInfoToast(\"\\u8BF7\\u5B9E\\u540D\\u8BA4\\u8BC1\\u540E\\u7EE7\\u7EED\\u6B64\\u64CD\\u4F5C\");\n      fieldList = fieldList.filter((item) => item.key !== \"o_pass\");\n      isForgetPass.value = true;\n    };\n    const togglePasswordStatus = (index) => {\n      fieldList[index].type = fieldList[index].type === \"password\" ? \"text\" : \"password\";\n    };\n    const getValue = (key) => {\n      const item = fieldList.find((item2) => item2.key === key);\n      return item ? item.value : \"\";\n    };\n    const getItem = (key) => {\n      const item = fieldList.find((item2) => item2.key === key);\n      return item;\n    };\n    const onlyNumberKey = (evt) => {\n      let ASCIICode = evt.which ? evt.which : evt.keyCode;\n      if (ASCIICode > 31 && (ASCIICode < 48 || ASCIICode > 57))\n        return false;\n      return true;\n    };\n    const regPayPass = /^[a-zA-Z0-9]{6,18}$/;\n    const editPayPass = async () => {\n      var _a, _b, _c, _d, _e, _f;\n      if (isLoading.value)\n        return;\n      console.log(getItem(\"c_pass\"), `getItem('c_pass')`);\n      if (!getValue(\"o_pass\"))\n        return showInfoToast(((_a = getItem(\"o_pass\")) == null ? void 0 : _a.require) || \"\");\n      if (!regPayPass.test(getValue(\"o_pass\")))\n        return showInfoToast(((_b = getItem(\"o_pass\")) == null ? void 0 : _b.formatError) || \"\");\n      if (!getValue(\"n_pass\"))\n        return showInfoToast(((_c = getItem(\"n_pass\")) == null ? void 0 : _c.require) || \"\");\n      if (!regPayPass.test(getValue(\"n_pass\")))\n        return showInfoToast(((_d = getItem(\"n_pass\")) == null ? void 0 : _d.formatError) || \"\");\n      if (!getValue(\"c_pass\"))\n        return showInfoToast(((_e = getItem(\"c_pass\")) == null ? void 0 : _e.require) || \"\");\n      if (!regPayPass.test(getValue(\"c_pass\")))\n        return showInfoToast(((_f = getItem(\"c_pass\")) == null ? void 0 : _f.formatError) || \"\");\n      if (getValue(\"o_pass\") === getValue(\"n_pass\"))\n        return showInfoToast(\"\\u65B0\\u65E7\\u5BC6\\u7801\\u4E0D\\u80FD\\u4E00\\u81F4\");\n      if (getValue(\"n_pass\") !== getValue(\"c_pass\"))\n        return showInfoToast(\"\\u4E24\\u6B21\\u5BC6\\u7801\\u4E0D\\u4E00\\u81F4\");\n      try {\n        isLoading.value = true;\n        const res = await userLoginPassUpdateApi({\n          oldpasswd: getValue(\"o_pass\"),\n          newpasswd: getValue(\"n_pass\"),\n          newpasswdck: getValue(\"c_pass\")\n          // mobile: '+8613259583728',\n          // code: '12345'\n        });\n        if (res.code === 0) {\n          showSuceedToast(\"\\u767B\\u5F55\\u5BC6\\u7801\\u4FEE\\u6539\\u6210\\u529F\");\n          setTimeout(async () => {\n            await authStore.getUserInfo();\n            router.back();\n          }, 1e3);\n        }\n      } catch (error) {\n        console.error(error);\n      } finally {\n        isLoading.value = false;\n      }\n    };\n    onMounted(() => {\n      mitt.emit(\"number-keyboard-show\");\n    });\n    return (_ctx, _cache) => {\n      const _component_nav_bar = _resolveComponent(\"nav-bar\");\n      const _component_van_button = _resolveComponent(\"van-button\");\n      return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n        _createVNode(_component_nav_bar, {\n          title: title.value,\n          mode: \"white\"\n        }, null, 8, [\"title\"]),\n        _createCommentVNode(' <div class=\"order-content p-[22px] pt-0 bg-[#fff] flex items-center flex-wrap justify-center\">\\n      <van-field v-model=\"pass\" placeholder=\"\\u8BF7\\u8F93\\u51656\\u4F4D\\u767B\\u5F55\\u5BC6\\u7801\" right-icon=\"eye-o\" left-icon=\"eye-o\" />\\n      <van-field v-model=\"n_pass\" placeholder=\"\\u65B06\\u4F4D\\u767B\\u5F55\\u5BC6\\u7801\" right-icon=\"eye-o\" left-icon=\"eye-o\" />\\n      <van-field v-model=\"c_pass\" placeholder=\"\\u786E\\u8BA46\\u4F4D\\u767B\\u5F55\\u65B0\\u5BC6\\u7801\" right-icon=\"eye-o\" left-icon=\"eye-o\" />\\n      <div class=\"text-[var(--van-button-primary-background)] text-[30px] mb-2\">\\n        \\u5FD8\\u8BB0\\u767B\\u5F55\\u5BC6\\u7801\\uFF1F\\n      </div>\\n      <van-button size=\"large\" color=\"var(--van-button-primary-background)\">\\u786E\\u8BA4</van-button>\\n    </div> '),\n        _createElementVNode(\"div\", _hoisted_2, [\n          (_openBlock(true), _createElementBlock(\n            _Fragment,\n            null,\n            _renderList(_unref(fieldList), (item, index) => {\n              return _openBlock(), _createElementBlock(\"div\", {\n                key: item.key + index,\n                class: \"input-content w-[96%]\"\n              }, [\n                _createElementVNode(\"div\", _hoisted_3, [\n                  _createElementVNode(\"div\", _hoisted_4, [\n                    _createElementVNode(\n                      \"i\",\n                      {\n                        class: _normalizeClass([\"block\", item.icon])\n                      },\n                      null,\n                      2\n                      /* CLASS */\n                    ),\n                    _withDirectives(_createElementVNode(\"input\", {\n                      value: item.value,\n                      type: item.type,\n                      placeholder: item.placeholder,\n                      \"onUpdate:modelValue\": ($event) => item.value = $event\n                    }, null, 8, _hoisted_5), [\n                      [_vModelDynamic, item.value]\n                    ]),\n                    item.key.toLowerCase().includes(\"pass\") ? (_openBlock(), _createElementBlock(\"i\", {\n                      key: 0,\n                      class: _normalizeClass(item.type === \"password\" ? \"eye-close\" : \"eye-open\"),\n                      onClick: ($event) => togglePasswordStatus(index)\n                    }, null, 10, _hoisted_6)) : _createCommentVNode(\"v-if\", true)\n                  ])\n                ])\n              ]);\n            }),\n            128\n            /* KEYED_FRAGMENT */\n          )),\n          _unref(isSetPass) && !isForgetPass.value ? (_openBlock(), _createBlock(_component_van_button, {\n            key: 0,\n            size: \"large\",\n            color: \"var(--van-button-primary-background)\",\n            onClick: editPayPass\n          }, {\n            default: _withCtx(() => [\n              _createTextVNode(\" \\u786E\\u8BA4 \")\n            ]),\n            _: 1\n            /* STABLE */\n          })) : _createCommentVNode(\"v-if\", true),\n          _createCommentVNode(' <van-button\\n        size=\"large\"\\n        color=\"var(--van-button-primary-background)\"\\n        v-if=\"isSetPass && isForgetPass\"\\n        @click=\"resetPayPass\"\\n      >\\n        \\u786E\\u8BA4\\n      </van-button> ')\n        ])\n      ]);\n    };\n  }\n});\n"
        ],
        "names": [],
        "mappings": ";;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,uBAA4B;AAC7D,oCAAoC,uBAA+B;AACnE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;"
      }
    },
    {
      "name": "vite:style-import",
      "start": 1714699771160,
      "end": 1714699771160,
      "order": "post"
    },
    {
      "name": "vite:build-import-analysis",
      "start": 1714699771160,
      "end": 1714699771160,
      "order": "normal"
    },
    {
      "name": "vite:reporter",
      "start": 1714699771160,
      "end": 1714699771160,
      "order": "normal"
    }
  ]
}
