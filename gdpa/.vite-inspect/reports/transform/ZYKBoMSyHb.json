{
  "resolvedId": "/Users/afeng/Desktop/work/gdpayh5-web/src/pages/Mine/payment_list.vue",
  "transforms": [
    {
      "name": "vite:load-fallback",
      "result": "<template>\n  <div class=\"rmb w-100 bg-white\">\n    <nav-bar\n      :title=\"`${title}列表`\"\n      mode=\"blue\"\n      :hideLeft=\"false\"\n      gopath=\"/payments\"\n    />\n    <div class=\"blue-bg w-full h-[30px] bg-[var(--van-button-primary-background)]\"></div>\n    <div\n      class=\"order-content py-[30px] px-[20px] bg-[#fff] mt-[-30px] rounded-t-[15px] h-[calc(100%-50px)] safe-area-inset-bottom overflow-y-scroll\"\n    >\n      <div\n        :class=\"`w-full ${card_height} mb-[20px] relative`\"\n        v-for=\"(payment, index) in payment_list\"\n        :key=\"payment.title\"\n      >\n        <img\n          :src=\"payment.bg\"\n          alt=\"\"\n          class=\"absolute w-full h-full\"\n          @click=\"handle_select_payment(index)\"\n        />\n        <!-- @click=\"payment.to\" -->\n        <!-- <img\n          :src=\"imgServerUrl + payment?.code_imgurl\"\n          alt=\"\"\n          class=\"absolute w-[140px] h-[140px] left-[20px] top-[40px]\"\n          v-if=\"payment.status !== 2 && payment?.code_imgurl\"\n        /> -->\n        <img\n          :src=\"\n            payment?.account_bankcode === 'ZDYYH'\n              ? payment?.icon\n              : imgServerUrl +\n                bankList.find(b => b.bank_code === payment.account_bankcode)?.bank_logo\n          \"\n          alt=\"\"\n          class=\"absolute w-[140px] h-[140px] left-[20px] top-[40px]\"\n          v-if=\"payment.coin_protocol === 'BANK'\"\n        />\n        <img\n          :src=\"payment?.icon\"\n          alt=\"\"\n          class=\"absolute w-[145px] h-[145px] left-[20px] top-[40px] bg-white rounded-[10px] p-[10px]\"\n          @click=\"handleShowIconDialog(payment)\"\n          v-else-if=\"payment.coin_protocol === 'WXPAY' || payment.coin_protocol === 'ALIPAY'\"\n        />\n        <img\n          :src=\"payment?.icon\"\n          alt=\"\"\n          class=\"absolute w-[145px] h-[145px] left-[20px] top-[40px]\"\n          @click=\"handleShowIconDialog(payment)\"\n          v-else\n        />\n        <!-- <div class=\"title absolute text-white text-[30px] left-[180px] top-[35px] font-bold\">\n          {{ payment?.coin_protocol === 'BANK' ? payment?.account_bankname : payment?.title }}\n        </div> -->\n        <div class=\"info absolute text-white text-[24px] left-[180px] top-[30px] font-normal\">\n          <div v-if=\"payment?.account_bankcode === 'SZRMB'\">\n            <div class=\"name\">姓名：{{ payment?.account_bank_realname }}</div>\n            <div class=\"name font-normal\">钱包编号：{{ payment?.coin_address }}</div>\n          </div>\n          <div v-if=\"payment?.account_bankname === 'USDT'\">\n            <div class=\"name\">昵称：{{ payment?.account_bank_realname }}</div>\n            <div class=\"name font-normal\">协议：{{ payment?.coin_protocol }}</div>\n            <div class=\"name font-normal\">\n              地址：{{ payment?.coin_address }}\n              <div\n                class=\"copy-01 ml-[5px] inline-block\"\n                @click=\"onCopy(payment?.coin_address)\"\n              ></div>\n            </div>\n          </div>\n          <div\n            v-if=\"payment?.account_bankcode === 'WXPAY' || payment?.account_bankcode === 'ALIPAY'\"\n          >\n            <div class=\"name\">姓名：{{ payment?.account_bank_realname }}</div>\n            <div class=\"name font-normal\">账号：{{ payment?.coin_address }}</div>\n          </div>\n          <div v-if=\"payment?.coin_protocol === 'BANK'\">\n            <div class=\"name\">姓名：{{ payment?.account_bank_realname }}</div>\n            <div class=\"name font-normal\">卡号：{{ payment?.coin_address }}</div>\n            <div class=\"name font-normal\">银行名称：{{ payment?.account_bankname }}</div>\n          </div>\n          <div class=\"address text-[#ccc] text-[20px]\">添加时间：{{ payment?.add_time }}</div>\n          <div\n            class=\"name font-normal flex items-center text-[20px] mt-[15px]\"\n            @click=\"set_default_payment(payment)\"\n          >\n            <img\n              :src=\"payment?.def_card === 1 ? default_payment_check : default_payment_uncheck\"\n              alt=\"\"\n              class=\"w-[30px] mr-[10px]\"\n            />\n            默认卡\n          </div>\n        </div>\n        <img\n          :src=\"payment_select_index === index ? payment_check : payment_uncheck\"\n          alt=\"\"\n          class=\"absolute w-[40px] right-[20px] top-[20px]\"\n          @click=\"handle_select_payment(index)\"\n        />\n        <div\n          v-if=\"payment.status === -1\"\n          class=\"text-white absolute z-10 bg-black bg-opacity-40 w-[100%] h-[100%] flex items-center justify-center\"\n          @click=\"handle_select_payment(index)\"\n        >\n          <div class=\"text-[28px] text-center\">\n            <img\n              :src=\"shz\"\n              alt=\"\"\n              class=\"w-[100px] mb-[10px] block mx-auto\"\n            />\n\n            审核中\n          </div>\n        </div>\n        <div\n          v-if=\"payment.status === 2\"\n          class=\"text-white absolute z-10 bg-black bg-opacity-40 w-[100%] h-[100%] flex items-center justify-center\"\n          @click=\"handle_select_payment(index)\"\n        >\n          <div class=\"text-[28px] text-center\">\n            <img\n              :src=\"jy\"\n              alt=\"\"\n              class=\"w-[100px] mb-[10px] block mx-auto\"\n            />\n\n            已禁用\n          </div>\n        </div>\n        <!-- <div\n          :class=\"`status absolute ${payment.status?.color} text-[24px] right-[20px] top-[35px] font-bold`\"\n        >\n          {{ payment.status?.text }}\n          &nbsp; ({{ payment.amount }})\n        </div> -->\n        <!-- <van-icon name=\"delete-o\" color=\"white\" size=\"20\" /> -->\n      </div>\n      <div\n        class=\"w-full h-[100px] mb-[10px] text-[32px] text-black relative\"\n        @click=\"payment_tos[payment_way_to_type?.[route?.query?.way]]\"\n        v-if=\"payment_list.length < bandcard_num?.[payment_way_to_type?.[route?.query?.way]]\"\n      >\n        <img\n          :src=\"addPaymentBtn\"\n          alt=\"\"\n          class=\"w-full h-[100px] mb-[40px]\"\n        />\n        <div class=\"absolute left-[38%] right-0 top-[30px] bg-white w-[50%]\">添加{{ title }}</div>\n      </div>\n      <div class=\"hint text-[#777] text-[24px] mb-[30px]\">\n        温馨提示：最多只能添加{{ bandcard_num?.[payment_way_to_type?.[route?.query?.way]] }}个{{\n          title\n        }}收款地址\n      </div>\n      <van-button\n        v-if=\"payment_select_index !== -1\"\n        class=\"!w-full !mt-[80px]\"\n        size=\"large\"\n        color=\"var(--van-button-primary-background)\"\n        @click=\"handleConfirmDialog(true)\"\n      >\n        刪除\n      </van-button>\n      <!-- <van-popup\n        v-model:show=\"show\"\n        position=\"bottom\"\n        :style=\"{\n          height: 'auto',\n          width: '100%',\n          margin: '0 auto',\n          left: 0,\n          right: 0,\n          position: 'absolute'\n        }\"\n      >\n        <div\n          class=\"popup-title text-black text-[40px] flex items-center justify-center h-[100px] font-bold tracking-widest\"\n        >\n          添加收付款方式\n        </div>\n        <div class=\"h-[1px] w-full bg-[#eee]\"></div>\n        <div class=\"overflow-y-scroll h-[520px]\">\n          <div\n            class=\"mx-auto w-[600px]\"\n            v-for=\"payment in payment_options\"\n            :key=\"payment.title\"\n            @click=\"payment.to\"\n          >\n            <div class=\"h-[100px] relative flex items-center justify-between\">\n              <div class=\"flex items-center\">\n                <div class=\"flex justify-center mr-[15px] w-[120px]\">\n                  <div\n                    v-if=\"payment.icon.sprite\"\n                    :class=\"`${payment.icon.sprite}`\"\n                  ></div>\n                  <img\n                    v-else\n                    :src=\"payment.icon.src\"\n                    alt=\"\"\n                    class=\"w-[60px] block\"\n                  />\n                </div>\n                <div class=\"title text-black text-[30px]\">\n                  {{ payment?.title }}\n                </div>\n              </div>\n              <div\n                :class=\"`status ${payment.status_text?.color} text-[24px] right-[20px] top-[35px] font-bold`\"\n              >\n                {{ payment.status_text?.text }}\n              </div>\n            </div>\n            <div class=\"h-[1px] w-full bg-[#f7f7f7]\"></div>\n          </div>\n        </div>\n      </van-popup> -->\n      <van-dialog\n        v-model:show=\"isShowIconDialog\"\n        title=\"\"\n        className=\"dialog-qrcode\"\n        closeOnClickOverlay\n      >\n        <i\n          class=\"icon-close close-white block\"\n          @click=\"isShowIconDialog = false\"\n        ></i>\n        <img\n          :src=\"imgServerUrl + dialogPayment?.code_imgurl\"\n          alt=\"\"\n        />\n      </van-dialog>\n      <van-dialog\n        v-model:show=\"isConfirmDialog\"\n        title=\"身份验证\"\n        confirmButtonText=\"提交\"\n        theme=\"round-button\"\n        className=\"dialog-bulletin\"\n        @confirm=\"() => deletePayment()\"\n      >\n        <i\n          class=\"icon-close close-dark block\"\n          @click=\"handleConfirmDialog(false)\"\n        ></i>\n        <div>\n          <van-field\n            v-model=\"pay_pass\"\n            placeholder=\"请输入支付密码\"\n            type=\"number\"\n            :maxlength=\"6\"\n            clickable\n            @touchstart.stop=\"showKeyboard = true\"\n            @focus=\"showKeyboard = true\"\n          />\n        </div>\n      </van-dialog>\n      <!-- <van-number-keyboard\n        v-model=\"pay_pass\"\n        :show=\"showKeyboard\"\n        :maxlength=\"6\"\n        @blur=\"showKeyboard = false\"\n        class=\"!z-[3000]\"\n      /> -->\n      <!-- <van-dialog v-model:show=\"dialogContent.show\" :title=\"dialogContent.title\" theme=\"round-button\"\n        :className=\"['dialog-deal']\" :confirmButtonText=\"dialogContent.confirmButtonText\" @confirm=\"onConfirm\">\n        <i class=\"icon-close block close-dark\" @click=\"onClose\"></i>\n        <div class=\"flex flex-col items-center justify-between\">\n          <img :src=\"dialogContent.img\" :class=\"!authStore?.userInfo.verified_status ? 'verifi-id' : 'add-card'\" />\n          <div class=\"content text-center\">{{ dialogContent.content }}</div>\n        </div>\n      </van-dialog> -->\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { useAuthStore, useEntryStore } from '@/store'\nimport { useCoinBuySellStore } from '@/store/modules/coinBuySell'\n// import { showToast } from 'vant'\nimport mitt from '@/utils/mitt'\nimport { onMounted, ref } from 'vue'\nimport { useRoute, useRouter } from 'vue-router'\n// import info from '@/assets/images/common/info.png'\n// import success from '@/assets/images/common/success.png'\nimport addPaymentBtn from '@/assets/images/mine/add-payment-btn.png'\nimport zfb from '@/assets/images/mine/alipay_bg.png'\nimport yhk from '@/assets/images/mine/bank_bg.png'\nimport szrmb from '@/assets/images/mine/szrmb_bg.png'\nimport usdt from '@/assets/images/mine/usdt_bg.png'\nimport wx from '@/assets/images/mine/wx_bg.png'\n\nimport yhk_icon from '@/assets/images/mine/yhk-icon.png'\nimport usdt_icon from '@/assets/images/mine/bb.png'\nimport default_payment_check from '@/assets/images/mine/default_payment_check.png'\nimport default_payment_uncheck from '@/assets/images/mine/default_payment_uncheck.png'\nimport jy from '@/assets/images/mine/jy.png'\nimport payment_check from '@/assets/images/mine/payment_check.png'\nimport payment_uncheck from '@/assets/images/mine/payment_uncheck.png'\nimport shz from '@/assets/images/mine/shz.png'\nimport szrmb_icon from '@/assets/images/mine/sz.png'\nimport wx_icon from '@/assets/images/mine/wx_icon.png'\nimport zfb_icon from '@/assets/images/mine/zfb_icon.png'\n\n// import icon_alipay from '@/assets/images/mine/icon_alipay.png'\n// import icon_wx from '@/assets/images/mine/icon_wx.png'\n// import icon_bank from '@/assets/images/mine/icon_bank.png'\nimport info from '@/assets/images/common/info.png'\nimport success from '@/assets/images/common/success.png'\nimport verified from '@/assets/images/common/verified.png'\nimport { useAppBar } from '@/components/AppBar/useAppBar'\nimport { showToast } from 'vant'\nimport { computed } from 'vue'\nimport clipboard3 from 'vue-clipboard3'\n\nimport { bankListApi, deleteWithdrawAddressApi, setDefaultWithdrawAddressApi } from '@/apis/user'\nimport { storeToRefs } from 'pinia'\n\nuseAppBar({ mode: 'dark' })\n\nconst entryStore = useEntryStore()\nconst { config } = storeToRefs(entryStore)\n// const { Web_Set_WebReg } = config as IConfigData | Record<string, any>\n// 是否显示验证码表单\nconst bandcard_num = computed(() => {\n  return config.value.Web_Set_WebReg?.bandcard_num?.v\n    ? config.value.Web_Set_WebReg?.bandcard_num?.v\n    : {\n        v: { BANK: 5, ALIPAY: 5, WXPAY: 5, SZRMB: 5, USDT_TRC20: 5 }\n      }\n})\n\nconst imgServerUrl = entryStore.imgServerUrl\n\nconst router = useRouter()\nconst authStore = useAuthStore()\n// const entryStore = useEntryStore()\n\n// const bind_bank = ref({})\n// const bind_wechat = ref({})\n// const bind_alipay = ref({})\n// const bind_usdt = ref({})\n// const bind_rmb = ref({})\nconst route = useRoute()\nconst payment_names = ref({\n  alipay: '支付宝',\n  bank: '银行卡',\n  wxpay: '微信',\n  szrmb: '数字人民币',\n  usdt: 'USDT'\n})\n\nconst title = computed(() => payment_names.value[route?.query?.way])\n\nconst card_height = computed(() => {\n  if (payment_way_to_type[route?.query?.way] === 'USDT_TRC20') {\n    return 'h-[270px]'\n  } else if (payment_way_to_type[route?.query?.way] === 'BANK') {\n    return 'h-[240px]'\n  } else {\n    return 'h-[220px]'\n  }\n})\n\nconst { toClipboard } = clipboard3()\nconst onCopy = async (text: any) => {\n  try {\n    await toClipboard(text)\n    showToast({\n      message: '钱包地址已复制到剪切板',\n      icon: verified,\n      iconSize: '48px'\n    })\n  } catch (error) {\n    showToast({\n      message: '复制失败!!',\n      icon: verified\n    })\n  }\n}\n\nconst handleConfirmDialog = (open: boolean) => {\n  if (authStore?.userInfo?.verified_status !== 1) {\n    return showInfoToast('请先完成实名认证')\n  }\n  if (authStore?.userInfo?.is_set_paypassword !== 1) {\n    return showInfoToast('请先设置支付密码')\n  }\n  isConfirmDialog.value = open\n  // if (!bind_bank.value.coin_address) {\n  //   if (!bank.value.coin_protocol) return showInfoToast('请选择协议')\n  //   if (!coin_address.value) return showInfoToast('请输入您的提款地址')\n  //   if (coin_address.value.length < 34) return showInfoToast('提款地址长度不正确')\n  //   if (!img.value) return showInfoToast('请上传收款二维码')\n  //   isConfirmDialog.value = open\n  // } else {\n\n  // }\n}\n\nconst bankCardStatusText = (status: number) => {\n  //   status   DEFAULT '1' COMMENT '1启用  2禁用   -1审核中 ',\n  if (status === 1) {\n    return {\n      text: '已绑定',\n      color: 'text-[#fff]'\n    }\n  }\n\n  if (!status) {\n    return {\n      text: '未绑定',\n      color: 'text-[#f98434]'\n    }\n  }\n\n  if (status === 2) {\n    return {\n      text: '已禁用',\n      color: 'text-[#d5515c]'\n    }\n  }\n\n  if (status === -1) {\n    return {\n      text: '审核中',\n      color: 'text-[#f0c388]'\n    }\n  }\n}\n\nconst payment_bgs: any = {\n  ALIPAY: zfb,\n  WXPAY: wx,\n  BANK: yhk,\n  SZRMB: szrmb,\n  USDT_TRC20: usdt\n}\n\nconst payment_icons: any = {\n  ALIPAY: zfb_icon,\n  WXPAY: wx_icon,\n  BANK: yhk_icon,\n  SZRMB: szrmb_icon,\n  USDT_TRC20: usdt_icon\n}\n\nconst payment_ban_bgs: any = {\n  ALIPAY: zfb,\n  WXPAY: wx,\n  BANK: yhk,\n  SZRMB: szrmb,\n  USDT_TRC20: usdt\n}\n\nconst payment_way_to_type: any = {\n  alipay: 'ALIPAY',\n  wxpay: 'WXPAY',\n  bank: 'BANK',\n  szrmb: 'SZRMB',\n  usdt: 'USDT_TRC20'\n}\n\nconst payment_tos: any = {\n  ALIPAY: (payment: any) => {\n    if (payment.status === -1 || payment.status === 2) return\n    if (\n      payment_list.value.length >= bandcard_num?.value?.[payment_way_to_type?.[route?.query?.way]]\n    )\n      return\n    router.push('/alipay')\n  },\n  WXPAY: (payment: any) => {\n    if (payment.status === -1 || payment.status === 2) return\n    if (\n      payment_list.value.length >= bandcard_num?.value?.[payment_way_to_type?.[route?.query?.way]]\n    )\n      return\n    router.push('/wechat')\n  },\n  BANK: (payment: any) => {\n    if (payment.status === -1 || payment.status === 2) return\n    if (\n      payment_list.value.length >= bandcard_num?.value?.[payment_way_to_type?.[route?.query?.way]]\n    )\n      return\n    router.push('/bank_card')\n  },\n  SZRMB: (payment: any) => {\n    console.log(payment, 'payment')\n    if (payment.status === -1 || payment.status === 2) return\n    if (\n      payment_list.value.length >= bandcard_num?.value?.[payment_way_to_type?.[route?.query?.way]]\n    )\n      return\n    router.push('/rmb')\n  },\n  USDT_TRC20: (payment: any) => {\n    if (payment.status === -1 || payment.status === 2) return\n    if (\n      payment_list.value.length >= bandcard_num?.value?.[payment_way_to_type?.[route?.query?.way]]\n    )\n      return\n    router.push('/usdt')\n  }\n}\n\n// const payment_icons: any = {\n//   ALIPAY: {\n//     sprite: 'ali-pay'\n//   },\n//   WXPAY: {\n//     sprite: 'wechat-pay-03'\n//   },\n//   BANK: {\n//     sprite: 'bank-card'\n//   },\n//   SZRMB: {\n//     sprite: 'szrmb'\n//   },\n//   USDT_TRC20: {\n//     src: icon_usdt\n//   }\n// }\n\nconst coin = useCoinBuySellStore()\n\nconst isConfirmDialog = ref(false)\nconst pay_pass = ref('')\nconst isLoading = ref(false)\nconst regPayPass = /^[0-9]{6}$/\nconst showKeyboard = ref(false)\n\nconst deletePayment = async () => {\n  if (isLoading.value) return\n  if (authStore?.userInfo?.verified_status !== 1) {\n    return showInfoToast('请先完成实名认证')\n  }\n  if (!pay_pass.value || !regPayPass.test(pay_pass.value)) {\n    pay_pass.value = ''\n    return showInfoToast('请输入6位支付密码')\n  }\n  try {\n    const res = await deleteWithdrawAddressApi({\n      passwd: pay_pass.value,\n      id: payment_list.value[payment_select_index.value].id\n    })\n    console.log(res, 'res')\n    if (!res.code) {\n      showSuceedToast(`刪除成功`)\n      updateList()\n    }\n\n    if (res.code === 10040) {\n      setTimeout(() => {\n        router.push('/verifyList')\n      }, 1000)\n    }\n  } catch (e) {\n    console.log(e)\n  } finally {\n    pay_pass.value = ''\n    isLoading.value = false\n    isConfirmDialog.value = false\n  }\n}\n\n// const getPayment = (protocol: string) => {\n//   console.log(coin?.withdrawddresslist, 'coin?.withdrawddresslist')\n//   if (\n//     coin?.withdrawddresslist.filter(address => address.coin_protocol.includes(protocol)).length > 0\n//   ) {\n//     return coin?.withdrawddresslist.filter(address => address.coin_protocol.includes(protocol))[0]\n//   } else {\n//     console.log(2)\n//     return {}\n//   }\n// }\n\nconst payment_options: any = ref([])\nconst payment_list: any = ref([])\nconst payment_select_index: any = ref(-1)\n\nconst handle_select_payment = (index: number) => {\n  if (payment_select_index.value === index) {\n    payment_select_index.value = -1\n  } else {\n    payment_select_index.value = index\n  }\n}\nconst getPayments = (list: any) => {\n  // console.log(coin?.withdrawddresslist, 'coin?.withdrawddresslist')\n  const type = payment_way_to_type?.[route?.query?.way]\n  payment_list.value = list\n    // .filter(coin => coin.coin_protocol === type)\n    .map(payment => {\n      const bank = payment_options?.value?.find(\n        option => option.coin_protocol === payment.coin_protocol\n      )\n      return {\n        ...payment,\n        title: bank.title,\n        bg:\n          payment?.status === 2\n            ? payment_ban_bgs[payment.coin_protocol]\n            : payment_bgs[payment.coin_protocol],\n        status_text: bankCardStatusText(payment.status),\n        to: payment_tos[type],\n        icon: payment_icons[type]\n      }\n    })\n    .sort((a, b) => a.add_time.localeCompare(b.add_time))\n    .sort((a, b) => a.def_card - b.def_card)\n\n  payment_list.value = payment_list.value\n    .filter(item => item.status === 1 || item.status === -1)\n    .sort((a, b) => b.status - a.status)\n    .concat(payment_list.value.filter(item => item.status === 2))\n\n  if (\n    payment_list?.value?.length > 0 &&\n    payment_list?.value?.filter(p => p.def_card === 1)?.length === 0\n  ) {\n    // console.log(1)\n    set_default_payment(payment_list.value?.[0])\n  }\n  // payment_list.value = payment_options.value\n  //   .map(option => {\n  //     const bank = coin?.withdrawddresslist.find(\n  //       coin => coin.coin_protocol === option.coin_protocol\n  //     )\n\n  //     const amount = coin?.withdrawddresslist.filter(\n  //       coin => coin.coin_protocol === option.coin_protocol\n  //     ).length\n  //     return {\n  //       ...bank,\n  //       title: option.title,\n  //       bg:\n  //         bank?.status === 2\n  //           ? payment_ban_bgs[bank.coin_protocol]\n  //           : payment_bgs[bank.coin_protocol],\n  //       status: bankCardStatusText(bank),\n  //       to: payment_tos[type],\n  //       icon: payment_icons[type],\n  //       amount\n  //     }\n  //   })\n  //   .filter(item => !!item)\n}\n\nconst show = ref(false)\n\nconst showPopup = () => {\n  show.value = true\n}\n\nconst img = ref('')\n\nconst { getWithdrawddresslist } = coin\n\nconst showInfoToast = (title: string) => {\n  return showToast({\n    message: title,\n    icon: info\n  })\n}\nconst showSuceedToast = (title: string) => {\n  return showToast({\n    message: title,\n    icon: success\n  })\n}\n\nconst set_default_payment = async (payment: any) => {\n  try {\n    const res = await setDefaultWithdrawAddressApi({\n      id: payment.id\n    })\n    if (!res.code) {\n      showSuceedToast('设置默认成功')\n      updateList()\n    }\n  } catch (e) {\n    console.log(e)\n  }\n}\n\nconst isShowIconDialog = ref(false)\n\nconst dialogPayment = ref({})\nconst handleShowIconDialog = payment => {\n  console.log(payment, 'payment')\n  if (payment?.code_imgurl) {\n    dialogPayment.value = payment\n    isShowIconDialog.value = true\n  }\n}\n\nconst updateList = () => {\n  const params = payment_way_to_type?.[route?.query?.way]\n    ? {\n        coin_protocol: payment_way_to_type?.[route?.query?.way]\n      }\n    : {}\n  payment_select_index.value = -1\n  getWithdrawddresslist(params).then(list => {\n    payment_options.value = [\n      {\n        coin_protocol: 'BANK',\n        title: '银行卡',\n        // status: bankCardStatusText(getPayment('BANK')),\n        // to: payment_tos['BANK'],\n        icon: payment_icons['BANK']\n      },\n      {\n        coin_protocol: 'WXPAY',\n        title: '微信',\n        // status: bankCardStatusText(getPayment('WXPAY')),\n        // to: payment_tos['WXPAY'],\n        icon: payment_icons['WXPAY']\n      },\n      {\n        coin_protocol: 'ALIPAY',\n        title: '支付宝',\n        // status: bankCardStatusText(getPayment('ALIPAY')),\n        // to: payment_tos['ALIPAY'],\n        icon: payment_icons['ALIPAY']\n      },\n      {\n        coin_protocol: 'SZRMB',\n        title: '数字人民币',\n        // status: bankCardStatusText(getPayment('SZRMB')),\n        // to: payment_tos['SZRMB'],\n        icon: payment_icons['SZRMB']\n      },\n      {\n        coin_protocol: 'USDT_TRC20',\n        title: 'USDT',\n        // status: bankCardStatusText(getPayment('USDT_TRC20')),\n        // to: payment_tos['USDT_TRC20'],\n        icon: payment_icons['USDT_TRC20']\n      }\n    ]\n    getPayments(list)\n  })\n}\n\nconst bankList = ref([])\n\nonMounted(async () => {\n  await authStore.getUserInfo()\n  updateList()\n\n  if (payment_way_to_type?.[route?.query?.way] === 'BANK') {\n    const getBankList = async () => {\n      try {\n        const res = await bankListApi({\n          country_code: authStore?.userInfo?.set_country_code\n        })\n        console.log(res, 'res')\n        bankList.value = res\n      } catch (error) {\n        console.error(error)\n      } finally {\n      }\n    }\n    getBankList()\n  }\n\n  mitt.emit('number-keyboard-show')\n})\n</script>\n\n<style lang=\"scss\" scoped>\n@import '@/assets/styles/sprite-mine.scss';\n@import '@/assets/styles/sprite-home.scss';\n@import '@/assets/styles/sprite-002.scss';\n@import '@/assets/styles/sprite-001.scss';\n\n.rmb {\n  position: relative;\n  flex-direction: column;\n  width: 100%;\n  height: 100%;\n}\n\n:deep(.van-field__label) {\n  font-size: 28px;\n  color: #13161b;\n  margin-bottom: 8px;\n}\n\n:deep(.van-cell__value) {\n  height: 69px;\n  background: #ebf1f6;\n  display: flex;\n  align-items: center;\n  padding: 0 12px;\n  font-size: 25px;\n  margin-bottom: 12px;\n}\n\n:deep(.van-cell) {\n  padding-bottom: 0;\n  padding-top: 0;\n}\n\n:deep(.van-cell:after) {\n  display: none;\n}\n\n:deep(.van-button--large) {\n  width: 92%;\n  height: 80px;\n  margin: 0 auto;\n  font-size: 31px;\n}\n\n:deep(.van-field__body) {\n  width: 100%;\n}\n\n:deep(.van-field__control:disabled) {\n  color: #000;\n  -webkit-text-fill-color: #000;\n}\n\n:deep(.dialog-bulletin) {\n  width: 708px;\n  height: auto;\n  padding: 20px 30px 30px 30px;\n  border-radius: 10px;\n\n  .van-dialog__header {\n    padding: 0;\n    font-size: 29px;\n    color: #13161b;\n    font-weight: normal;\n  }\n\n  .van-dialog__content {\n    margin: 33px 0 35px 0;\n    font-size: 25px;\n    color: #787f8c;\n    text-align: justify;\n  }\n\n  .van-dialog__footer {\n    padding: 0;\n  }\n\n  .van-dialog__confirm {\n    width: 100%;\n    height: 80px;\n    font-size: 31px;\n    background: var(--van-button-primary-background);\n    border-radius: 8px;\n    border-width: 0;\n  }\n\n  .icon-close {\n    position: absolute;\n    right: 40px;\n    top: 35px;\n  }\n\n  img {\n    width: 100%;\n    margin-top: 20px;\n  }\n\n  .van-cell {\n    padding: 0;\n  }\n}\n\n:deep(.dialog-qrcode) {\n  width: 708px;\n  height: auto;\n  padding: 0 !important;\n  border-radius: 10px;\n\n  .van-dialog__header {\n    padding: 0;\n    font-size: 29px;\n    color: #13161b;\n    font-weight: normal;\n  }\n\n  .van-dialog__content {\n    margin: 0;\n    font-size: 25px;\n    color: #787f8c;\n    text-align: justify;\n  }\n\n  .van-dialog__footer {\n    padding: 0;\n    display: none;\n  }\n\n  .van-dialog__confirm {\n    width: 100%;\n    height: 80px;\n    font-size: 31px;\n    background: var(--van-button-primary-background);\n    border-radius: 8px;\n    border-width: 0;\n  }\n\n  .icon-close {\n    position: absolute;\n    right: 40px;\n    top: 35px;\n  }\n\n  img {\n    width: 100%;\n    // margin-top: 20px;\n  }\n\n  .van-cell {\n    padding: 0;\n  }\n}\n\n:deep(.van-popup) {\n  border-top-left-radius: 15px;\n  border-top-right-radius: 15px;\n  padding: 0px 20px 15px;\n}\n\n:deep(.van-overlay) {\n  position: absolute;\n  z-index: 20000;\n}\n\n:deep(.dialog-deal) {\n  width: 708px;\n  height: auto;\n  padding: 40px;\n\n  .van-dialog__header {\n    padding: 0;\n    font-size: 29px;\n    color: #13161b;\n  }\n\n  .van-dialog__content {\n    margin: 33px 0 35px 0;\n    font-size: 25px;\n    color: #787f8c;\n    text-align: justify;\n  }\n\n  .van-dialog__footer {\n    padding: 0;\n  }\n\n  .van-dialog__confirm,\n  .btn-confirm {\n    width: 100%;\n    height: 80px;\n    font-size: 31px;\n    background: var(--van-button-primary-background);\n    color: #fff;\n    border: 0;\n    border-radius: 8px;\n  }\n\n  .dialog-radio-controler {\n    margin-top: 20px;\n\n    .radio {\n      margin-right: 10px;\n    }\n\n    .radio-uncheck {\n      width: 35px;\n      height: 35px;\n      border: 1px solid #868d9a;\n      border-radius: 50%;\n    }\n\n    .radio-text {\n      font-size: 25px;\n      color: #13161b;\n    }\n  }\n\n  .icon-close {\n    position: absolute;\n    right: 40px;\n    top: 24px;\n  }\n\n  img {\n    width: 100%;\n\n    &.verifi-id {\n      width: 260px;\n    }\n\n    &.add-card {\n      width: 295px;\n    }\n  }\n\n  .content {\n    width: 380px;\n    margin-top: 24px;\n  }\n}\n.safe-area-inset-bottom {\n  padding-bottom: calc(150px + env(safe-area-inset-bottom));\n}\n</style>\n\n<style lang=\"css\">\n:root {\n  --van-field-placeholder-text-color: #787f8c;\n}\n</style>\n",
      "start": 1714699769100,
      "end": 1714699769245,
      "sourcemaps": null
    },
    {
      "name": "vite:css",
      "start": 1714699769245,
      "end": 1714699769245,
      "order": "normal"
    },
    {
      "name": "vite:esbuild",
      "start": 1714699769245,
      "end": 1714699769245,
      "order": "normal"
    },
    {
      "name": "vite:json",
      "start": 1714699769245,
      "end": 1714699769245,
      "order": "normal"
    },
    {
      "name": "vite:worker",
      "start": 1714699769245,
      "end": 1714699769245,
      "order": "normal"
    },
    {
      "name": "vite:vue",
      "result": "import _sfc_main from \"/Users/afeng/Desktop/work/gdpayh5-web/src/pages/Mine/payment_list.vue?vue&type=script&setup=true&lang.ts\";\nexport * from \"/Users/afeng/Desktop/work/gdpayh5-web/src/pages/Mine/payment_list.vue?vue&type=script&setup=true&lang.ts\";\nimport \"/Users/afeng/Desktop/work/gdpayh5-web/src/pages/Mine/payment_list.vue?vue&type=style&index=0&scoped=c67464ee&lang.scss\";\nimport \"/Users/afeng/Desktop/work/gdpayh5-web/src/pages/Mine/payment_list.vue?vue&type=style&index=1&lang.css\";\nimport _export_sfc from \"\\0plugin-vue:export-helper\";\nexport default /* @__PURE__ */ _export_sfc(_sfc_main, [[\"__scopeId\", \"data-v-c67464ee\"], [\"__file\", \"/Users/afeng/Desktop/work/gdpayh5-web/src/pages/Mine/payment_list.vue\"]]);\n",
      "start": 1714699769245,
      "end": 1714699769529,
      "order": "normal",
      "sourcemaps": {
        "mappings": ""
      }
    },
    {
      "name": "vite:vue-jsx",
      "start": 1714699769529,
      "end": 1714699769529,
      "order": "normal"
    },
    {
      "name": "vite-plugin-vconsole",
      "result": "import _sfc_main from \"/Users/afeng/Desktop/work/gdpayh5-web/src/pages/Mine/payment_list.vue?vue&type=script&setup=true&lang.ts\";\nexport * from \"/Users/afeng/Desktop/work/gdpayh5-web/src/pages/Mine/payment_list.vue?vue&type=script&setup=true&lang.ts\";\nimport \"/Users/afeng/Desktop/work/gdpayh5-web/src/pages/Mine/payment_list.vue?vue&type=style&index=0&scoped=c67464ee&lang.scss\";\nimport \"/Users/afeng/Desktop/work/gdpayh5-web/src/pages/Mine/payment_list.vue?vue&type=style&index=1&lang.css\";\nimport _export_sfc from \"\\0plugin-vue:export-helper\";\nexport default /* @__PURE__ */ _export_sfc(_sfc_main, [[\"__scopeId\", \"data-v-c67464ee\"], [\"__file\", \"/Users/afeng/Desktop/work/gdpayh5-web/src/pages/Mine/payment_list.vue\"]]);\n",
      "start": 1714699769529,
      "end": 1714699769529,
      "order": "normal",
      "sourcemaps": null
    },
    {
      "name": "esbuild",
      "result": "\"use strict\";\nimport _sfc_main from \"/Users/afeng/Desktop/work/gdpayh5-web/src/pages/Mine/payment_list.vue?vue&type=script&setup=true&lang.ts\";\nexport * from \"/Users/afeng/Desktop/work/gdpayh5-web/src/pages/Mine/payment_list.vue?vue&type=script&setup=true&lang.ts\";\nimport \"/Users/afeng/Desktop/work/gdpayh5-web/src/pages/Mine/payment_list.vue?vue&type=style&index=0&scoped=c67464ee&lang.scss\";\nimport \"/Users/afeng/Desktop/work/gdpayh5-web/src/pages/Mine/payment_list.vue?vue&type=style&index=1&lang.css\";\nimport _export_sfc from \"\\0plugin-vue:export-helper\";\nexport default /* @__PURE__ */ _export_sfc(_sfc_main, [[\"__scopeId\", \"data-v-c67464ee\"], [\"__file\", \"/Users/afeng/Desktop/work/gdpayh5-web/src/pages/Mine/payment_list.vue\"]]);\n",
      "start": 1714699769529,
      "end": 1714699769672,
      "order": "normal",
      "sourcemaps": "{\n  \"version\": 3,\n  \"sources\": [\"/Users/afeng/Desktop/work/gdpayh5-web/src/pages/Mine/payment_list.vue\"],\n  \"sourcesContent\": [\"import _sfc_main from \\\"/Users/afeng/Desktop/work/gdpayh5-web/src/pages/Mine/payment_list.vue?vue&type=script&setup=true&lang.ts\\\";\\nexport * from \\\"/Users/afeng/Desktop/work/gdpayh5-web/src/pages/Mine/payment_list.vue?vue&type=script&setup=true&lang.ts\\\";\\nimport \\\"/Users/afeng/Desktop/work/gdpayh5-web/src/pages/Mine/payment_list.vue?vue&type=style&index=0&scoped=c67464ee&lang.scss\\\";\\nimport \\\"/Users/afeng/Desktop/work/gdpayh5-web/src/pages/Mine/payment_list.vue?vue&type=style&index=1&lang.css\\\";\\nimport _export_sfc from \\\"\\\\0plugin-vue:export-helper\\\";\\nexport default /* @__PURE__ */ _export_sfc(_sfc_main, [[\\\"__scopeId\\\", \\\"data-v-c67464ee\\\"], [\\\"__file\\\", \\\"/Users/afeng/Desktop/work/gdpayh5-web/src/pages/Mine/payment_list.vue\\\"]]);\\n\"],\n  \"mappings\": \";AAAA,OAAO,eAAe;AACtB,cAAc;AACd,OAAO;AACP,OAAO;AACP,OAAO,iBAAiB;AACxB,eAA+B,4BAAY,WAAW,CAAC,CAAC,aAAa,iBAAiB,GAAG,CAAC,UAAU,uEAAuE,CAAC,CAAC;\",\n  \"names\": []\n}\n"
    },
    {
      "name": "vite:define",
      "start": 1714699769672,
      "end": 1714699769672,
      "order": "normal"
    },
    {
      "name": "vite:css-post",
      "start": 1714699769673,
      "end": 1714699769673,
      "order": "normal"
    },
    {
      "name": "vite:build-html",
      "start": 1714699769673,
      "end": 1714699769673,
      "order": "normal"
    },
    {
      "name": "vite:worker-import-meta-url",
      "start": 1714699769673,
      "end": 1714699769673,
      "order": "normal"
    },
    {
      "name": "vite:asset-import-meta-url",
      "start": 1714699769673,
      "end": 1714699769673,
      "order": "normal"
    },
    {
      "name": "commonjs",
      "start": 1714699769673,
      "end": 1714699769673,
      "order": "normal"
    },
    {
      "name": "vite:dynamic-import-vars",
      "start": 1714699769673,
      "end": 1714699769673,
      "order": "normal"
    },
    {
      "name": "vite:import-glob",
      "start": 1714699769673,
      "end": 1714699769673,
      "order": "normal"
    },
    {
      "name": "unplugin-auto-import",
      "start": 1714699769673,
      "end": 1714699769673,
      "order": "post"
    },
    {
      "name": "unplugin-vue-components",
      "result": "/* unplugin-vue-components disabled */\"use strict\";\nimport _sfc_main from \"/Users/afeng/Desktop/work/gdpayh5-web/src/pages/Mine/payment_list.vue?vue&type=script&setup=true&lang.ts\";\nexport * from \"/Users/afeng/Desktop/work/gdpayh5-web/src/pages/Mine/payment_list.vue?vue&type=script&setup=true&lang.ts\";\nimport \"/Users/afeng/Desktop/work/gdpayh5-web/src/pages/Mine/payment_list.vue?vue&type=style&index=0&scoped=c67464ee&lang.scss\";\nimport \"/Users/afeng/Desktop/work/gdpayh5-web/src/pages/Mine/payment_list.vue?vue&type=style&index=1&lang.css\";\nimport _export_sfc from \"\\0plugin-vue:export-helper\";\nexport default /* @__PURE__ */ _export_sfc(_sfc_main, [[\"__scopeId\", \"data-v-c67464ee\"], [\"__file\", \"/Users/afeng/Desktop/work/gdpayh5-web/src/pages/Mine/payment_list.vue\"]]);\n",
      "start": 1714699769673,
      "end": 1714699769673,
      "order": "post",
      "sourcemaps": {
        "version": 3,
        "sources": [
          "/Users/afeng/Desktop/work/gdpayh5-web/src/pages/Mine/payment_list.vue"
        ],
        "sourcesContent": [
          "\"use strict\";\nimport _sfc_main from \"/Users/afeng/Desktop/work/gdpayh5-web/src/pages/Mine/payment_list.vue?vue&type=script&setup=true&lang.ts\";\nexport * from \"/Users/afeng/Desktop/work/gdpayh5-web/src/pages/Mine/payment_list.vue?vue&type=script&setup=true&lang.ts\";\nimport \"/Users/afeng/Desktop/work/gdpayh5-web/src/pages/Mine/payment_list.vue?vue&type=style&index=0&scoped=c67464ee&lang.scss\";\nimport \"/Users/afeng/Desktop/work/gdpayh5-web/src/pages/Mine/payment_list.vue?vue&type=style&index=1&lang.css\";\nimport _export_sfc from \"\\0plugin-vue:export-helper\";\nexport default /* @__PURE__ */ _export_sfc(_sfc_main, [[\"__scopeId\", \"data-v-c67464ee\"], [\"__file\", \"/Users/afeng/Desktop/work/gdpayh5-web/src/pages/Mine/payment_list.vue\"]]);\n"
        ],
        "names": [],
        "mappings": "sCAAA;AACA;AACA;AACA;AACA;AACA;AACA;"
      }
    },
    {
      "name": "vite:style-import",
      "start": 1714699769673,
      "end": 1714699769673,
      "order": "post"
    },
    {
      "name": "vite:build-import-analysis",
      "start": 1714699769673,
      "end": 1714699769673,
      "order": "normal"
    },
    {
      "name": "vite:reporter",
      "start": 1714699769673,
      "end": 1714699769673,
      "order": "normal"
    }
  ]
}
