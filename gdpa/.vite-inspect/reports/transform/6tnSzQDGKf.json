{
  "resolvedId": "/Users/afeng/Desktop/work/gdpayh5-web/node_modules/.pnpm/vant@4.8.4_vue@3.4.19/node_modules/vant/es/image-preview/ImagePreview.mjs",
  "transforms": [
    {
      "name": "vite:load-fallback",
      "result": "import { mergeProps as _mergeProps, createVNode as _createVNode } from \"vue\";\nimport { ref, watch, nextTick, reactive, onMounted, defineComponent } from \"vue\";\nimport { pick, truthProp, unknownProp, windowWidth, windowHeight, makeArrayProp, makeStringProp, makeNumericProp, callInterceptor, createNamespace, HAPTICS_FEEDBACK } from \"../utils/index.mjs\";\nimport { useRect } from \"@vant/use\";\nimport { useExpose } from \"../composables/use-expose.mjs\";\nimport { Icon } from \"../icon/index.mjs\";\nimport { Swipe } from \"../swipe/index.mjs\";\nimport { Popup } from \"../popup/index.mjs\";\nimport ImagePreviewItem from \"./ImagePreviewItem.mjs\";\nconst [name, bem] = createNamespace(\"image-preview\");\nconst popupProps = [\"show\", \"teleport\", \"transition\", \"overlayStyle\", \"closeOnPopstate\"];\nconst imagePreviewProps = {\n  show: Boolean,\n  loop: truthProp,\n  images: makeArrayProp(),\n  minZoom: makeNumericProp(1 / 3),\n  maxZoom: makeNumericProp(3),\n  overlay: truthProp,\n  closeable: Boolean,\n  showIndex: truthProp,\n  className: unknownProp,\n  closeIcon: makeStringProp(\"clear\"),\n  transition: String,\n  beforeClose: Function,\n  doubleScale: truthProp,\n  overlayClass: unknownProp,\n  overlayStyle: Object,\n  swipeDuration: makeNumericProp(300),\n  startPosition: makeNumericProp(0),\n  showIndicators: Boolean,\n  closeOnPopstate: truthProp,\n  closeOnClickImage: truthProp,\n  closeOnClickOverlay: truthProp,\n  closeIconPosition: makeStringProp(\"top-right\"),\n  teleport: [String, Object]\n};\nvar stdin_default = defineComponent({\n  name,\n  props: imagePreviewProps,\n  emits: [\"scale\", \"close\", \"closed\", \"change\", \"longPress\", \"update:show\"],\n  setup(props, {\n    emit,\n    slots\n  }) {\n    const swipeRef = ref();\n    const activedPreviewItemRef = ref();\n    const state = reactive({\n      active: 0,\n      rootWidth: 0,\n      rootHeight: 0,\n      disableZoom: false\n    });\n    const resize = () => {\n      if (swipeRef.value) {\n        const rect = useRect(swipeRef.value.$el);\n        state.rootWidth = rect.width;\n        state.rootHeight = rect.height;\n        swipeRef.value.resize();\n      }\n    };\n    const emitScale = (args) => emit(\"scale\", args);\n    const updateShow = (show) => emit(\"update:show\", show);\n    const emitClose = () => {\n      callInterceptor(props.beforeClose, {\n        args: [state.active],\n        done: () => updateShow(false)\n      });\n    };\n    const setActive = (active) => {\n      if (active !== state.active) {\n        state.active = active;\n        emit(\"change\", active);\n      }\n    };\n    const renderIndex = () => {\n      if (props.showIndex) {\n        return _createVNode(\"div\", {\n          \"class\": bem(\"index\")\n        }, [slots.index ? slots.index({\n          index: state.active\n        }) : `${state.active + 1} / ${props.images.length}`]);\n      }\n    };\n    const renderCover = () => {\n      if (slots.cover) {\n        return _createVNode(\"div\", {\n          \"class\": bem(\"cover\")\n        }, [slots.cover()]);\n      }\n    };\n    const onDragStart = () => {\n      state.disableZoom = true;\n    };\n    const onDragEnd = () => {\n      state.disableZoom = false;\n    };\n    const renderImages = () => _createVNode(Swipe, {\n      \"ref\": swipeRef,\n      \"lazyRender\": true,\n      \"loop\": props.loop,\n      \"class\": bem(\"swipe\"),\n      \"duration\": props.swipeDuration,\n      \"initialSwipe\": props.startPosition,\n      \"showIndicators\": props.showIndicators,\n      \"indicatorColor\": \"white\",\n      \"onChange\": setActive,\n      \"onDragEnd\": onDragEnd,\n      \"onDragStart\": onDragStart\n    }, {\n      default: () => [props.images.map((image, index) => _createVNode(ImagePreviewItem, {\n        \"ref\": (item) => {\n          if (index === state.active) {\n            activedPreviewItemRef.value = item;\n          }\n        },\n        \"src\": image,\n        \"show\": props.show,\n        \"active\": state.active,\n        \"maxZoom\": props.maxZoom,\n        \"minZoom\": props.minZoom,\n        \"rootWidth\": state.rootWidth,\n        \"rootHeight\": state.rootHeight,\n        \"disableZoom\": state.disableZoom,\n        \"doubleScale\": props.doubleScale,\n        \"closeOnClickImage\": props.closeOnClickImage,\n        \"closeOnClickOverlay\": props.closeOnClickOverlay,\n        \"onScale\": emitScale,\n        \"onClose\": emitClose,\n        \"onLongPress\": () => emit(\"longPress\", {\n          index\n        })\n      }, {\n        image: slots.image\n      }))]\n    });\n    const renderClose = () => {\n      if (props.closeable) {\n        return _createVNode(Icon, {\n          \"role\": \"button\",\n          \"name\": props.closeIcon,\n          \"class\": [bem(\"close-icon\", props.closeIconPosition), HAPTICS_FEEDBACK],\n          \"onClick\": emitClose\n        }, null);\n      }\n    };\n    const onClosed = () => emit(\"closed\");\n    const swipeTo = (index, options) => {\n      var _a;\n      return (_a = swipeRef.value) == null ? void 0 : _a.swipeTo(index, options);\n    };\n    useExpose({\n      resetScale: () => {\n        var _a;\n        (_a = activedPreviewItemRef.value) == null ? void 0 : _a.resetScale();\n      },\n      swipeTo\n    });\n    onMounted(resize);\n    watch([windowWidth, windowHeight], resize);\n    watch(() => props.startPosition, (value) => setActive(+value));\n    watch(() => props.show, (value) => {\n      const {\n        images,\n        startPosition\n      } = props;\n      if (value) {\n        setActive(+startPosition);\n        nextTick(() => {\n          resize();\n          swipeTo(+startPosition, {\n            immediate: true\n          });\n        });\n      } else {\n        emit(\"close\", {\n          index: state.active,\n          url: images[state.active]\n        });\n      }\n    });\n    return () => _createVNode(Popup, _mergeProps({\n      \"class\": [bem(), props.className],\n      \"overlayClass\": [bem(\"overlay\"), props.overlayClass],\n      \"onClosed\": onClosed,\n      \"onUpdate:show\": updateShow\n    }, pick(props, popupProps)), {\n      default: () => [renderClose(), renderImages(), renderIndex(), renderCover()]\n    });\n  }\n});\nexport {\n  stdin_default as default,\n  imagePreviewProps\n};\n",
      "start": 1714699767290,
      "end": 1714699767311,
      "sourcemaps": null
    },
    {
      "name": "vite:css",
      "start": 1714699767311,
      "end": 1714699767311,
      "order": "normal"
    },
    {
      "name": "vite:esbuild",
      "start": 1714699767311,
      "end": 1714699767311,
      "order": "normal"
    },
    {
      "name": "vite:json",
      "start": 1714699767311,
      "end": 1714699767311,
      "order": "normal"
    },
    {
      "name": "vite:worker",
      "start": 1714699767311,
      "end": 1714699767311,
      "order": "normal"
    },
    {
      "name": "vite:vue",
      "start": 1714699767311,
      "end": 1714699767311,
      "order": "normal"
    },
    {
      "name": "vite:vue-jsx",
      "start": 1714699767311,
      "end": 1714699767311,
      "order": "normal"
    },
    {
      "name": "vite-plugin-vconsole",
      "result": "import { mergeProps as _mergeProps, createVNode as _createVNode } from \"vue\";\nimport { ref, watch, nextTick, reactive, onMounted, defineComponent } from \"vue\";\nimport { pick, truthProp, unknownProp, windowWidth, windowHeight, makeArrayProp, makeStringProp, makeNumericProp, callInterceptor, createNamespace, HAPTICS_FEEDBACK } from \"../utils/index.mjs\";\nimport { useRect } from \"@vant/use\";\nimport { useExpose } from \"../composables/use-expose.mjs\";\nimport { Icon } from \"../icon/index.mjs\";\nimport { Swipe } from \"../swipe/index.mjs\";\nimport { Popup } from \"../popup/index.mjs\";\nimport ImagePreviewItem from \"./ImagePreviewItem.mjs\";\nconst [name, bem] = createNamespace(\"image-preview\");\nconst popupProps = [\"show\", \"teleport\", \"transition\", \"overlayStyle\", \"closeOnPopstate\"];\nconst imagePreviewProps = {\n  show: Boolean,\n  loop: truthProp,\n  images: makeArrayProp(),\n  minZoom: makeNumericProp(1 / 3),\n  maxZoom: makeNumericProp(3),\n  overlay: truthProp,\n  closeable: Boolean,\n  showIndex: truthProp,\n  className: unknownProp,\n  closeIcon: makeStringProp(\"clear\"),\n  transition: String,\n  beforeClose: Function,\n  doubleScale: truthProp,\n  overlayClass: unknownProp,\n  overlayStyle: Object,\n  swipeDuration: makeNumericProp(300),\n  startPosition: makeNumericProp(0),\n  showIndicators: Boolean,\n  closeOnPopstate: truthProp,\n  closeOnClickImage: truthProp,\n  closeOnClickOverlay: truthProp,\n  closeIconPosition: makeStringProp(\"top-right\"),\n  teleport: [String, Object]\n};\nvar stdin_default = defineComponent({\n  name,\n  props: imagePreviewProps,\n  emits: [\"scale\", \"close\", \"closed\", \"change\", \"longPress\", \"update:show\"],\n  setup(props, {\n    emit,\n    slots\n  }) {\n    const swipeRef = ref();\n    const activedPreviewItemRef = ref();\n    const state = reactive({\n      active: 0,\n      rootWidth: 0,\n      rootHeight: 0,\n      disableZoom: false\n    });\n    const resize = () => {\n      if (swipeRef.value) {\n        const rect = useRect(swipeRef.value.$el);\n        state.rootWidth = rect.width;\n        state.rootHeight = rect.height;\n        swipeRef.value.resize();\n      }\n    };\n    const emitScale = (args) => emit(\"scale\", args);\n    const updateShow = (show) => emit(\"update:show\", show);\n    const emitClose = () => {\n      callInterceptor(props.beforeClose, {\n        args: [state.active],\n        done: () => updateShow(false)\n      });\n    };\n    const setActive = (active) => {\n      if (active !== state.active) {\n        state.active = active;\n        emit(\"change\", active);\n      }\n    };\n    const renderIndex = () => {\n      if (props.showIndex) {\n        return _createVNode(\"div\", {\n          \"class\": bem(\"index\")\n        }, [slots.index ? slots.index({\n          index: state.active\n        }) : `${state.active + 1} / ${props.images.length}`]);\n      }\n    };\n    const renderCover = () => {\n      if (slots.cover) {\n        return _createVNode(\"div\", {\n          \"class\": bem(\"cover\")\n        }, [slots.cover()]);\n      }\n    };\n    const onDragStart = () => {\n      state.disableZoom = true;\n    };\n    const onDragEnd = () => {\n      state.disableZoom = false;\n    };\n    const renderImages = () => _createVNode(Swipe, {\n      \"ref\": swipeRef,\n      \"lazyRender\": true,\n      \"loop\": props.loop,\n      \"class\": bem(\"swipe\"),\n      \"duration\": props.swipeDuration,\n      \"initialSwipe\": props.startPosition,\n      \"showIndicators\": props.showIndicators,\n      \"indicatorColor\": \"white\",\n      \"onChange\": setActive,\n      \"onDragEnd\": onDragEnd,\n      \"onDragStart\": onDragStart\n    }, {\n      default: () => [props.images.map((image, index) => _createVNode(ImagePreviewItem, {\n        \"ref\": (item) => {\n          if (index === state.active) {\n            activedPreviewItemRef.value = item;\n          }\n        },\n        \"src\": image,\n        \"show\": props.show,\n        \"active\": state.active,\n        \"maxZoom\": props.maxZoom,\n        \"minZoom\": props.minZoom,\n        \"rootWidth\": state.rootWidth,\n        \"rootHeight\": state.rootHeight,\n        \"disableZoom\": state.disableZoom,\n        \"doubleScale\": props.doubleScale,\n        \"closeOnClickImage\": props.closeOnClickImage,\n        \"closeOnClickOverlay\": props.closeOnClickOverlay,\n        \"onScale\": emitScale,\n        \"onClose\": emitClose,\n        \"onLongPress\": () => emit(\"longPress\", {\n          index\n        })\n      }, {\n        image: slots.image\n      }))]\n    });\n    const renderClose = () => {\n      if (props.closeable) {\n        return _createVNode(Icon, {\n          \"role\": \"button\",\n          \"name\": props.closeIcon,\n          \"class\": [bem(\"close-icon\", props.closeIconPosition), HAPTICS_FEEDBACK],\n          \"onClick\": emitClose\n        }, null);\n      }\n    };\n    const onClosed = () => emit(\"closed\");\n    const swipeTo = (index, options) => {\n      var _a;\n      return (_a = swipeRef.value) == null ? void 0 : _a.swipeTo(index, options);\n    };\n    useExpose({\n      resetScale: () => {\n        var _a;\n        (_a = activedPreviewItemRef.value) == null ? void 0 : _a.resetScale();\n      },\n      swipeTo\n    });\n    onMounted(resize);\n    watch([windowWidth, windowHeight], resize);\n    watch(() => props.startPosition, (value) => setActive(+value));\n    watch(() => props.show, (value) => {\n      const {\n        images,\n        startPosition\n      } = props;\n      if (value) {\n        setActive(+startPosition);\n        nextTick(() => {\n          resize();\n          swipeTo(+startPosition, {\n            immediate: true\n          });\n        });\n      } else {\n        emit(\"close\", {\n          index: state.active,\n          url: images[state.active]\n        });\n      }\n    });\n    return () => _createVNode(Popup, _mergeProps({\n      \"class\": [bem(), props.className],\n      \"overlayClass\": [bem(\"overlay\"), props.overlayClass],\n      \"onClosed\": onClosed,\n      \"onUpdate:show\": updateShow\n    }, pick(props, popupProps)), {\n      default: () => [renderClose(), renderImages(), renderIndex(), renderCover()]\n    });\n  }\n});\nexport {\n  stdin_default as default,\n  imagePreviewProps\n};\n",
      "start": 1714699767311,
      "end": 1714699767311,
      "order": "normal",
      "sourcemaps": null
    },
    {
      "name": "esbuild",
      "start": 1714699767311,
      "end": 1714699767311,
      "order": "normal"
    },
    {
      "name": "vite:define",
      "start": 1714699767311,
      "end": 1714699767311,
      "order": "normal"
    },
    {
      "name": "vite:css-post",
      "start": 1714699767311,
      "end": 1714699767311,
      "order": "normal"
    },
    {
      "name": "vite:build-html",
      "start": 1714699767311,
      "end": 1714699767311,
      "order": "normal"
    },
    {
      "name": "vite:worker-import-meta-url",
      "start": 1714699767311,
      "end": 1714699767311,
      "order": "normal"
    },
    {
      "name": "vite:asset-import-meta-url",
      "start": 1714699767311,
      "end": 1714699767311,
      "order": "normal"
    },
    {
      "name": "commonjs",
      "start": 1714699767311,
      "end": 1714699767311,
      "order": "normal"
    },
    {
      "name": "vite:dynamic-import-vars",
      "start": 1714699767311,
      "end": 1714699767311,
      "order": "normal"
    },
    {
      "name": "vite:import-glob",
      "start": 1714699767311,
      "end": 1714699767311,
      "order": "normal"
    },
    {
      "name": "unplugin-auto-import",
      "start": 1714699767311,
      "end": 1714699767311,
      "order": "post"
    },
    {
      "name": "unplugin-vue-components",
      "start": 1714699767311,
      "end": 1714699767311,
      "order": "post"
    },
    {
      "name": "vite:style-import",
      "start": 1714699767311,
      "end": 1714699767311,
      "order": "post"
    },
    {
      "name": "vite:build-import-analysis",
      "start": 1714699767311,
      "end": 1714699767311,
      "order": "normal"
    },
    {
      "name": "vite:reporter",
      "start": 1714699767311,
      "end": 1714699767311,
      "order": "normal"
    }
  ]
}
