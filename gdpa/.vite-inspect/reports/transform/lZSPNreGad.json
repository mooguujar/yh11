{
  "resolvedId": "/Users/afeng/Desktop/work/gdpayh5-web/src/pages/Activity/RankingList.vue?vue&type=script&setup=true&lang.ts",
  "transforms": [
    {
      "name": "vite:vue",
      "result": "import { defineComponent as _defineComponent } from 'vue'\nimport { resolveComponent as _resolveComponent, vShow as _vShow, createVNode as _createVNode, withDirectives as _withDirectives, createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, withCtx as _withCtx, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, renderList as _renderList, unref as _unref, normalizeClass as _normalizeClass, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-cef08ad0\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"ranking-list-container\" }\nconst _hoisted_2 = { class: \"prize-pool-bg\" }\nconst _hoisted_3 = { class: \"prize-pool-money\" }\nconst _hoisted_4 = { class: \"ranking-content\" }\nconst _hoisted_5 = { class: \"title-bg flex flex-col justify-center items-center text-[#f1d188]\" }\nconst _hoisted_6 = { class: \"text-[34px] font-bold\" }\nconst _hoisted_7 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"sub-title text-[21px] text-[#fb967f] whitespace-nowrap\" }, [\n  /*#__PURE__*/_createTextVNode(\" 排行榜豪礼每周一派奖，最高可得 \"),\n  /*#__PURE__*/_createElementVNode(\"span\", { class: \"text-[#f1d188]\" }, \"1888\"),\n  /*#__PURE__*/_createTextVNode(\" 大奖 \")\n], -1 /* HOISTED */))\nconst _hoisted_8 = { class: \"podium-bg\" }\nconst _hoisted_9 = { class: \"rank-2nd flex flex-col justify-between items-center\" }\nconst _hoisted_10 = { class: \"flex justify-between items-center text-[21px] text-[#f3aaae]\" }\nconst _hoisted_11 = { class: \"nickname truncate\" }\nconst _hoisted_12 = { class: \"text-[21px] text-[#fee902]\" }\nconst _hoisted_13 = [\"src\"]\nconst _hoisted_14 = { class: \"rank-1st flex flex-col justify-between items-center\" }\nconst _hoisted_15 = { class: \"flex justify-between items-center text-[21px] text-[#f3aaae]\" }\nconst _hoisted_16 = { class: \"nickname truncate\" }\nconst _hoisted_17 = { class: \"text-[21px] text-[#fee902]\" }\nconst _hoisted_18 = [\"src\"]\nconst _hoisted_19 = { class: \"rank-3rd flex flex-col justify-between items-center\" }\nconst _hoisted_20 = { class: \"flex justify-between items-center text-[21px] text-[#f3aaae]\" }\nconst _hoisted_21 = { class: \"nickname truncate\" }\nconst _hoisted_22 = { class: \"text-[21px] text-[#fee902]\" }\nconst _hoisted_23 = [\"src\"]\nconst _hoisted_24 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"list-bg-top\" }, [\n  /*#__PURE__*/_createElementVNode(\"div\", { class: \"list-th flex justify-between items-end\" }, [\n    /*#__PURE__*/_createElementVNode(\"div\", null, \"会员信息\"),\n    /*#__PURE__*/_createElementVNode(\"div\", null, \"排名\"),\n    /*#__PURE__*/_createElementVNode(\"div\", null, \"合成卡数\")\n  ])\n], -1 /* HOISTED */))\nconst _hoisted_25 = { class: \"list-bg-middle\" }\nconst _hoisted_26 = { class: \"item-content flex justify-between items-center\" }\nconst _hoisted_27 = { class: \"user-info flex items-center\" }\nconst _hoisted_28 = [\"src\"]\nconst _hoisted_29 = { class: \"ml-[15px] line-clamp-2\" }\nconst _hoisted_30 = { class: \"rank-num flex justify-center\" }\nconst _hoisted_31 = { class: \"card-num flex justify-center\" }\nconst _hoisted_32 = { class: \"list-bg-bottom flex justify-center items-center\" }\n\nimport { gameInfoDataApi, gameRankApi } from '@/apis/taskActivity'\nimport { useAuthStore } from '@/store/modules/auth'\nimport { useEntryStore } from '@/store/modules/entry'\nimport { IGameRankData } from '@/store/types/taskActivity'\nimport { getRandomNumber } from '@/utils/tools'\nimport { storeToRefs } from 'pinia'\nimport { computed, onMounted, onUnmounted, ref } from 'vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'RankingList',\n  setup(__props) {\n\nconst EntryStore = useEntryStore()\nconst { config } = storeToRefs(EntryStore)\n\nconst authStore = useAuthStore()\nconst { userInfo } = storeToRefs(authStore)\n\nconst week = ref(1)\nconst weekOption = ref([\n  { text: '本周', value: 1 },\n  { text: '上周', value: -1 }\n])\nconst ranks = ref<IGameRankData[]>([] as IGameRankData[])\nconst showMax = ref(true)\nconst prizePoolMoney = ref('0')\n\nconst appUserInfo = JSON.parse(localStorage.getItem('app_user_info') ?? '{}')\n\nconst handleToggle = () => {\n  showMax.value = !showMax.value\n}\n\nconst hasMore = computed(() => ranks.value.length > 10)\nconst visibleRanks = computed(() => ranks.value.slice(0, showMax.value ? 10 : ranks.value.length))\n// 图片资源域名\nconst imgserver_url = computed(() => {\n  return (config.value.Web_Set_DefaultInfo?.imgserver_url as any)?.v || ''\n})\nconst userNickName = computed(() => userInfo.value?.nickname || '')\n\nconst onWeekChange = (week: number) => {\n  getRankData()\n}\n\nconst filterNickName = (nickname: string) => {\n  if (!nickname) return ''\n  if (nickname.length === 1) return nickname + '**'\n  if (nickname.length > 1 && nickname.length < 4)\n    return nickname.slice(0, 1) + '**' + nickname.slice(1)\n  return nickname.slice(0, 1) + '**' + nickname.slice(-2)\n}\n\nconst getRankData = async () => {\n  try {\n    const res = await gameRankApi({ week: week.value })\n    window.log('排行榜', res, userInfo.value?.nickname, userNickName.value)\n\n    ranks.value = res\n  } catch (err) {\n    console.error(err)\n  }\n}\n\nconst getGameInfoData = async () => {\n  try {\n    const res = await gameInfoDataApi({})\n    window.log('个人游戏信息', res)\n    if (res.pools && Math.floor(res.pools) !== Math.floor(+prizePoolMoney.value)) {\n      prizePoolMoney.value = Math.floor(res.pools).toString().replace(/\\d/g, '0')\n      setTimeout(() => {\n        prizePoolMoney.value = Math.floor(res.pools).toString()\n      }, 20)\n    }\n  } catch (err) {\n    console.error(err)\n  }\n}\ngetGameInfoData().then(() => {\n  poolIncrease()\n})\n\nlet poolIncreaseTimer: NodeJS.Timeout | null\n// 3至5秒内随机增加奖池金额\nconst poolIncrease = () => {\n  const randomSec = getRandomNumber(3000, 5000)\n\n  poolIncreaseTimer && clearTimeout(poolIncreaseTimer)\n  poolIncreaseTimer = setTimeout(() => {\n    getGameInfoData()\n    poolIncrease()\n  }, randomSec)\n}\n\nonMounted(() => {\n  getRankData()\n})\nonUnmounted(() => {\n  poolIncreaseTimer && clearTimeout(poolIncreaseTimer)\n  poolIncreaseTimer = null\n})\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_CountTo = _resolveComponent(\"CountTo\")!\n  const _component_van_dropdown_item = _resolveComponent(\"van-dropdown-item\")!\n  const _component_van_dropdown_menu = _resolveComponent(\"van-dropdown-menu\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createElementVNode(\"div\", _hoisted_3, [\n        _withDirectives(_createVNode(_component_CountTo, { count: prizePoolMoney.value }, null, 8 /* PROPS */, [\"count\"]), [\n          [_vShow, prizePoolMoney.value.length > 1]\n        ])\n      ])\n    ]),\n    _createCommentVNode(\" 排行榜内容 \"),\n    _createElementVNode(\"div\", _hoisted_4, [\n      _createVNode(_component_van_dropdown_menu, { overlay: false }, {\n        default: _withCtx(() => [\n          _createVNode(_component_van_dropdown_item, {\n            modelValue: week.value,\n            \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((week).value = $event)),\n            options: weekOption.value,\n            onChange: onWeekChange\n          }, null, 8 /* PROPS */, [\"modelValue\", \"options\"])\n        ]),\n        _: 1 /* STABLE */\n      }),\n      _createElementVNode(\"div\", _hoisted_5, [\n        _createElementVNode(\"div\", _hoisted_6, _toDisplayString(week.value === 1 ? '本周' : '上周') + \"合成数量排行榜\", 1 /* TEXT */),\n        _hoisted_7\n      ]),\n      _createElementVNode(\"div\", _hoisted_8, [\n        (ranks.value.length)\n          ? (_openBlock(), _createElementBlock(_Fragment, { key: 0 }, [\n              _createElementVNode(\"div\", _hoisted_9, [\n                _createElementVNode(\"div\", _hoisted_10, [\n                  _createCommentVNode(\" <span>{{ ranks[1].nickname.slice(0, 2) }}**{{ ranks[1].nickname.slice(-2) }}</span> \"),\n                  _createElementVNode(\"span\", _hoisted_11, _toDisplayString(filterNickName(ranks.value[1].nickname)), 1 /* TEXT */),\n                  _createElementVNode(\"span\", null, [\n                    _createElementVNode(\"span\", _hoisted_12, _toDisplayString(ranks.value[1].daily_num), 1 /* TEXT */),\n                    _createTextVNode(\" 张 \")\n                  ])\n                ]),\n                _createElementVNode(\"img\", {\n                  src: imgserver_url.value + ranks.value[1].headimg\n                }, null, 8 /* PROPS */, _hoisted_13)\n              ]),\n              _createElementVNode(\"div\", _hoisted_14, [\n                _createElementVNode(\"div\", _hoisted_15, [\n                  _createCommentVNode(\" <span>{{ ranks[0].nickname.slice(0, 2) }}**{{ ranks[0].nickname.slice(-2) }}</span> \"),\n                  _createElementVNode(\"span\", _hoisted_16, _toDisplayString(filterNickName(ranks.value[0].nickname)), 1 /* TEXT */),\n                  _createElementVNode(\"span\", null, [\n                    _createElementVNode(\"span\", _hoisted_17, _toDisplayString(ranks.value[0].daily_num), 1 /* TEXT */),\n                    _createTextVNode(\" 张 \")\n                  ])\n                ]),\n                _createElementVNode(\"img\", {\n                  src: imgserver_url.value + ranks.value[0].headimg\n                }, null, 8 /* PROPS */, _hoisted_18)\n              ]),\n              _createElementVNode(\"div\", _hoisted_19, [\n                _createElementVNode(\"div\", _hoisted_20, [\n                  _createCommentVNode(\" <span>{{ ranks[2].nickname.slice(0, 2) }}**{{ ranks[2].nickname.slice(-2) }}</span> \"),\n                  _createElementVNode(\"span\", _hoisted_21, _toDisplayString(filterNickName(ranks.value[2].nickname)), 1 /* TEXT */),\n                  _createElementVNode(\"span\", null, [\n                    _createElementVNode(\"span\", _hoisted_22, _toDisplayString(ranks.value[2].daily_num), 1 /* TEXT */),\n                    _createTextVNode(\" 张 \")\n                  ])\n                ]),\n                _createElementVNode(\"img\", {\n                  src: imgserver_url.value + ranks.value[2].headimg\n                }, null, 8 /* PROPS */, _hoisted_23)\n              ])\n            ], 64 /* STABLE_FRAGMENT */))\n          : _createCommentVNode(\"v-if\", true)\n      ]),\n      _hoisted_24,\n      _createElementVNode(\"div\", _hoisted_25, [\n        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(visibleRanks.value.slice(3), (item, index) => {\n          return (_openBlock(), _createElementBlock(\"div\", {\n            key: item.nickname,\n            class: _normalizeClass([\"item-row\", { 'item-row-self': item.nickname === (userNickName.value || _unref(appUserInfo).nickname) }])\n          }, [\n            _createElementVNode(\"div\", _hoisted_26, [\n              _createElementVNode(\"div\", _hoisted_27, [\n                _createElementVNode(\"img\", {\n                  src: imgserver_url.value + item.headimg\n                }, null, 8 /* PROPS */, _hoisted_28),\n                _createElementVNode(\"div\", _hoisted_29, [\n                  _createCommentVNode(\" {{ item.nickname.slice(0, 2) }}***{{ item.nickname.slice(-2) }} \"),\n                  _createTextVNode(\" \" + _toDisplayString(filterNickName(item.nickname)), 1 /* TEXT */)\n                ])\n              ]),\n              _createElementVNode(\"div\", _hoisted_30, _toDisplayString(item.rank_num > 99 ? '99+' : item.rank_num), 1 /* TEXT */),\n              _createElementVNode(\"div\", _hoisted_31, _toDisplayString(item.daily_num), 1 /* TEXT */)\n            ])\n          ], 2 /* CLASS */))\n        }), 128 /* KEYED_FRAGMENT */))\n      ]),\n      _createElementVNode(\"div\", _hoisted_32, [\n        (hasMore.value)\n          ? (_openBlock(), _createElementBlock(\"div\", {\n              key: 0,\n              class: \"text-[25px] text-[#eb8f6f]\",\n              onClick: handleToggle\n            }, _toDisplayString(showMax.value ? '展示更多' : '收起'), 1 /* TEXT */))\n          : _createCommentVNode(\"v-if\", true)\n      ])\n    ])\n  ]))\n}\n}\n\n})",
      "start": 1714699770586,
      "end": 1714699770586
    },
    {
      "name": "vite:css",
      "start": 1714699770586,
      "end": 1714699770586,
      "order": "normal"
    },
    {
      "name": "vite:esbuild",
      "result": "import { defineComponent as _defineComponent } from \"vue\";\nimport { resolveComponent as _resolveComponent, vShow as _vShow, createVNode as _createVNode, withDirectives as _withDirectives, createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, withCtx as _withCtx, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, renderList as _renderList, unref as _unref, normalizeClass as _normalizeClass, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = (n) => (_pushScopeId(\"data-v-cef08ad0\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = { class: \"ranking-list-container\" };\nconst _hoisted_2 = { class: \"prize-pool-bg\" };\nconst _hoisted_3 = { class: \"prize-pool-money\" };\nconst _hoisted_4 = { class: \"ranking-content\" };\nconst _hoisted_5 = { class: \"title-bg flex flex-col justify-center items-center text-[#f1d188]\" };\nconst _hoisted_6 = { class: \"text-[34px] font-bold\" };\nconst _hoisted_7 = /* @__PURE__ */ _withScopeId(() => /* @__PURE__ */ _createElementVNode(\n  \"div\",\n  { class: \"sub-title text-[21px] text-[#fb967f] whitespace-nowrap\" },\n  [\n    /* @__PURE__ */ _createTextVNode(\" 排行榜豪礼每周一派奖，最高可得 \"),\n    /* @__PURE__ */ _createElementVNode(\"span\", { class: \"text-[#f1d188]\" }, \"1888\"),\n    /* @__PURE__ */ _createTextVNode(\" 大奖 \")\n  ],\n  -1\n  /* HOISTED */\n));\nconst _hoisted_8 = { class: \"podium-bg\" };\nconst _hoisted_9 = { class: \"rank-2nd flex flex-col justify-between items-center\" };\nconst _hoisted_10 = { class: \"flex justify-between items-center text-[21px] text-[#f3aaae]\" };\nconst _hoisted_11 = { class: \"nickname truncate\" };\nconst _hoisted_12 = { class: \"text-[21px] text-[#fee902]\" };\nconst _hoisted_13 = [\"src\"];\nconst _hoisted_14 = { class: \"rank-1st flex flex-col justify-between items-center\" };\nconst _hoisted_15 = { class: \"flex justify-between items-center text-[21px] text-[#f3aaae]\" };\nconst _hoisted_16 = { class: \"nickname truncate\" };\nconst _hoisted_17 = { class: \"text-[21px] text-[#fee902]\" };\nconst _hoisted_18 = [\"src\"];\nconst _hoisted_19 = { class: \"rank-3rd flex flex-col justify-between items-center\" };\nconst _hoisted_20 = { class: \"flex justify-between items-center text-[21px] text-[#f3aaae]\" };\nconst _hoisted_21 = { class: \"nickname truncate\" };\nconst _hoisted_22 = { class: \"text-[21px] text-[#fee902]\" };\nconst _hoisted_23 = [\"src\"];\nconst _hoisted_24 = /* @__PURE__ */ _withScopeId(() => /* @__PURE__ */ _createElementVNode(\n  \"div\",\n  { class: \"list-bg-top\" },\n  [\n    /* @__PURE__ */ _createElementVNode(\"div\", { class: \"list-th flex justify-between items-end\" }, [\n      /* @__PURE__ */ _createElementVNode(\"div\", null, \"会员信息\"),\n      /* @__PURE__ */ _createElementVNode(\"div\", null, \"排名\"),\n      /* @__PURE__ */ _createElementVNode(\"div\", null, \"合成卡数\")\n    ])\n  ],\n  -1\n  /* HOISTED */\n));\nconst _hoisted_25 = { class: \"list-bg-middle\" };\nconst _hoisted_26 = { class: \"item-content flex justify-between items-center\" };\nconst _hoisted_27 = { class: \"user-info flex items-center\" };\nconst _hoisted_28 = [\"src\"];\nconst _hoisted_29 = { class: \"ml-[15px] line-clamp-2\" };\nconst _hoisted_30 = { class: \"rank-num flex justify-center\" };\nconst _hoisted_31 = { class: \"card-num flex justify-center\" };\nconst _hoisted_32 = { class: \"list-bg-bottom flex justify-center items-center\" };\nimport { gameInfoDataApi, gameRankApi } from \"@/apis/taskActivity\";\nimport { useAuthStore } from \"@/store/modules/auth\";\nimport { useEntryStore } from \"@/store/modules/entry\";\nimport { getRandomNumber } from \"@/utils/tools\";\nimport { storeToRefs } from \"pinia\";\nimport { computed, onMounted, onUnmounted, ref } from \"vue\";\nexport default /* @__PURE__ */ _defineComponent({\n  __name: \"RankingList\",\n  setup(__props) {\n    const EntryStore = useEntryStore();\n    const { config } = storeToRefs(EntryStore);\n    const authStore = useAuthStore();\n    const { userInfo } = storeToRefs(authStore);\n    const week = ref(1);\n    const weekOption = ref([\n      { text: \"本周\", value: 1 },\n      { text: \"上周\", value: -1 }\n    ]);\n    const ranks = ref([]);\n    const showMax = ref(true);\n    const prizePoolMoney = ref(\"0\");\n    const appUserInfo = JSON.parse(localStorage.getItem(\"app_user_info\") ?? \"{}\");\n    const handleToggle = () => {\n      showMax.value = !showMax.value;\n    };\n    const hasMore = computed(() => ranks.value.length > 10);\n    const visibleRanks = computed(() => ranks.value.slice(0, showMax.value ? 10 : ranks.value.length));\n    const imgserver_url = computed(() => {\n      return config.value.Web_Set_DefaultInfo?.imgserver_url?.v || \"\";\n    });\n    const userNickName = computed(() => userInfo.value?.nickname || \"\");\n    const onWeekChange = (week2) => {\n      getRankData();\n    };\n    const filterNickName = (nickname) => {\n      if (!nickname)\n        return \"\";\n      if (nickname.length === 1)\n        return nickname + \"**\";\n      if (nickname.length > 1 && nickname.length < 4)\n        return nickname.slice(0, 1) + \"**\" + nickname.slice(1);\n      return nickname.slice(0, 1) + \"**\" + nickname.slice(-2);\n    };\n    const getRankData = async () => {\n      try {\n        const res = await gameRankApi({ week: week.value });\n        window.log(\"排行榜\", res, userInfo.value?.nickname, userNickName.value);\n        ranks.value = res;\n      } catch (err) {\n        console.error(err);\n      }\n    };\n    const getGameInfoData = async () => {\n      try {\n        const res = await gameInfoDataApi({});\n        window.log(\"个人游戏信息\", res);\n        if (res.pools && Math.floor(res.pools) !== Math.floor(+prizePoolMoney.value)) {\n          prizePoolMoney.value = Math.floor(res.pools).toString().replace(/\\d/g, \"0\");\n          setTimeout(() => {\n            prizePoolMoney.value = Math.floor(res.pools).toString();\n          }, 20);\n        }\n      } catch (err) {\n        console.error(err);\n      }\n    };\n    getGameInfoData().then(() => {\n      poolIncrease();\n    });\n    let poolIncreaseTimer;\n    const poolIncrease = () => {\n      const randomSec = getRandomNumber(3e3, 5e3);\n      poolIncreaseTimer && clearTimeout(poolIncreaseTimer);\n      poolIncreaseTimer = setTimeout(() => {\n        getGameInfoData();\n        poolIncrease();\n      }, randomSec);\n    };\n    onMounted(() => {\n      getRankData();\n    });\n    onUnmounted(() => {\n      poolIncreaseTimer && clearTimeout(poolIncreaseTimer);\n      poolIncreaseTimer = null;\n    });\n    return (_ctx, _cache) => {\n      const _component_CountTo = _resolveComponent(\"CountTo\");\n      const _component_van_dropdown_item = _resolveComponent(\"van-dropdown-item\");\n      const _component_van_dropdown_menu = _resolveComponent(\"van-dropdown-menu\");\n      return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n        _createElementVNode(\"div\", _hoisted_2, [\n          _createElementVNode(\"div\", _hoisted_3, [\n            _withDirectives(_createVNode(_component_CountTo, { count: prizePoolMoney.value }, null, 8, [\"count\"]), [\n              [_vShow, prizePoolMoney.value.length > 1]\n            ])\n          ])\n        ]),\n        _createCommentVNode(\" 排行榜内容 \"),\n        _createElementVNode(\"div\", _hoisted_4, [\n          _createVNode(_component_van_dropdown_menu, { overlay: false }, {\n            default: _withCtx(() => [\n              _createVNode(_component_van_dropdown_item, {\n                modelValue: week.value,\n                \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event) => week.value = $event),\n                options: weekOption.value,\n                onChange: onWeekChange\n              }, null, 8, [\"modelValue\", \"options\"])\n            ]),\n            _: 1\n            /* STABLE */\n          }),\n          _createElementVNode(\"div\", _hoisted_5, [\n            _createElementVNode(\n              \"div\",\n              _hoisted_6,\n              _toDisplayString(week.value === 1 ? \"本周\" : \"上周\") + \"合成数量排行榜\",\n              1\n              /* TEXT */\n            ),\n            _hoisted_7\n          ]),\n          _createElementVNode(\"div\", _hoisted_8, [\n            ranks.value.length ? (_openBlock(), _createElementBlock(\n              _Fragment,\n              { key: 0 },\n              [\n                _createElementVNode(\"div\", _hoisted_9, [\n                  _createElementVNode(\"div\", _hoisted_10, [\n                    _createCommentVNode(\" <span>{{ ranks[1].nickname.slice(0, 2) }}**{{ ranks[1].nickname.slice(-2) }}</span> \"),\n                    _createElementVNode(\n                      \"span\",\n                      _hoisted_11,\n                      _toDisplayString(filterNickName(ranks.value[1].nickname)),\n                      1\n                      /* TEXT */\n                    ),\n                    _createElementVNode(\"span\", null, [\n                      _createElementVNode(\n                        \"span\",\n                        _hoisted_12,\n                        _toDisplayString(ranks.value[1].daily_num),\n                        1\n                        /* TEXT */\n                      ),\n                      _createTextVNode(\" 张 \")\n                    ])\n                  ]),\n                  _createElementVNode(\"img\", {\n                    src: imgserver_url.value + ranks.value[1].headimg\n                  }, null, 8, _hoisted_13)\n                ]),\n                _createElementVNode(\"div\", _hoisted_14, [\n                  _createElementVNode(\"div\", _hoisted_15, [\n                    _createCommentVNode(\" <span>{{ ranks[0].nickname.slice(0, 2) }}**{{ ranks[0].nickname.slice(-2) }}</span> \"),\n                    _createElementVNode(\n                      \"span\",\n                      _hoisted_16,\n                      _toDisplayString(filterNickName(ranks.value[0].nickname)),\n                      1\n                      /* TEXT */\n                    ),\n                    _createElementVNode(\"span\", null, [\n                      _createElementVNode(\n                        \"span\",\n                        _hoisted_17,\n                        _toDisplayString(ranks.value[0].daily_num),\n                        1\n                        /* TEXT */\n                      ),\n                      _createTextVNode(\" 张 \")\n                    ])\n                  ]),\n                  _createElementVNode(\"img\", {\n                    src: imgserver_url.value + ranks.value[0].headimg\n                  }, null, 8, _hoisted_18)\n                ]),\n                _createElementVNode(\"div\", _hoisted_19, [\n                  _createElementVNode(\"div\", _hoisted_20, [\n                    _createCommentVNode(\" <span>{{ ranks[2].nickname.slice(0, 2) }}**{{ ranks[2].nickname.slice(-2) }}</span> \"),\n                    _createElementVNode(\n                      \"span\",\n                      _hoisted_21,\n                      _toDisplayString(filterNickName(ranks.value[2].nickname)),\n                      1\n                      /* TEXT */\n                    ),\n                    _createElementVNode(\"span\", null, [\n                      _createElementVNode(\n                        \"span\",\n                        _hoisted_22,\n                        _toDisplayString(ranks.value[2].daily_num),\n                        1\n                        /* TEXT */\n                      ),\n                      _createTextVNode(\" 张 \")\n                    ])\n                  ]),\n                  _createElementVNode(\"img\", {\n                    src: imgserver_url.value + ranks.value[2].headimg\n                  }, null, 8, _hoisted_23)\n                ])\n              ],\n              64\n              /* STABLE_FRAGMENT */\n            )) : _createCommentVNode(\"v-if\", true)\n          ]),\n          _hoisted_24,\n          _createElementVNode(\"div\", _hoisted_25, [\n            (_openBlock(true), _createElementBlock(\n              _Fragment,\n              null,\n              _renderList(visibleRanks.value.slice(3), (item, index) => {\n                return _openBlock(), _createElementBlock(\n                  \"div\",\n                  {\n                    key: item.nickname,\n                    class: _normalizeClass([\"item-row\", { \"item-row-self\": item.nickname === (userNickName.value || _unref(appUserInfo).nickname) }])\n                  },\n                  [\n                    _createElementVNode(\"div\", _hoisted_26, [\n                      _createElementVNode(\"div\", _hoisted_27, [\n                        _createElementVNode(\"img\", {\n                          src: imgserver_url.value + item.headimg\n                        }, null, 8, _hoisted_28),\n                        _createElementVNode(\"div\", _hoisted_29, [\n                          _createCommentVNode(\" {{ item.nickname.slice(0, 2) }}***{{ item.nickname.slice(-2) }} \"),\n                          _createTextVNode(\n                            \" \" + _toDisplayString(filterNickName(item.nickname)),\n                            1\n                            /* TEXT */\n                          )\n                        ])\n                      ]),\n                      _createElementVNode(\n                        \"div\",\n                        _hoisted_30,\n                        _toDisplayString(item.rank_num > 99 ? \"99+\" : item.rank_num),\n                        1\n                        /* TEXT */\n                      ),\n                      _createElementVNode(\n                        \"div\",\n                        _hoisted_31,\n                        _toDisplayString(item.daily_num),\n                        1\n                        /* TEXT */\n                      )\n                    ])\n                  ],\n                  2\n                  /* CLASS */\n                );\n              }),\n              128\n              /* KEYED_FRAGMENT */\n            ))\n          ]),\n          _createElementVNode(\"div\", _hoisted_32, [\n            hasMore.value ? (_openBlock(), _createElementBlock(\n              \"div\",\n              {\n                key: 0,\n                class: \"text-[25px] text-[#eb8f6f]\",\n                onClick: handleToggle\n              },\n              _toDisplayString(showMax.value ? \"展示更多\" : \"收起\"),\n              1\n              /* TEXT */\n            )) : _createCommentVNode(\"v-if\", true)\n          ])\n        ])\n      ]);\n    };\n  }\n});\n",
      "start": 1714699770587,
      "end": 1714699770718,
      "order": "normal",
      "sourcemaps": {
        "version": 3,
        "sources": [
          "/Users/afeng/Desktop/work/gdpayh5-web/src/pages/Activity/RankingList.vue?vue&type=script&setup=true&lang.ts"
        ],
        "sourcesContent": [
          "import { defineComponent as _defineComponent } from 'vue'\nimport { resolveComponent as _resolveComponent, vShow as _vShow, createVNode as _createVNode, withDirectives as _withDirectives, createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, withCtx as _withCtx, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, renderList as _renderList, unref as _unref, normalizeClass as _normalizeClass, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-cef08ad0\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"ranking-list-container\" }\nconst _hoisted_2 = { class: \"prize-pool-bg\" }\nconst _hoisted_3 = { class: \"prize-pool-money\" }\nconst _hoisted_4 = { class: \"ranking-content\" }\nconst _hoisted_5 = { class: \"title-bg flex flex-col justify-center items-center text-[#f1d188]\" }\nconst _hoisted_6 = { class: \"text-[34px] font-bold\" }\nconst _hoisted_7 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"sub-title text-[21px] text-[#fb967f] whitespace-nowrap\" }, [\n  /*#__PURE__*/_createTextVNode(\" 排行榜豪礼每周一派奖，最高可得 \"),\n  /*#__PURE__*/_createElementVNode(\"span\", { class: \"text-[#f1d188]\" }, \"1888\"),\n  /*#__PURE__*/_createTextVNode(\" 大奖 \")\n], -1 /* HOISTED */))\nconst _hoisted_8 = { class: \"podium-bg\" }\nconst _hoisted_9 = { class: \"rank-2nd flex flex-col justify-between items-center\" }\nconst _hoisted_10 = { class: \"flex justify-between items-center text-[21px] text-[#f3aaae]\" }\nconst _hoisted_11 = { class: \"nickname truncate\" }\nconst _hoisted_12 = { class: \"text-[21px] text-[#fee902]\" }\nconst _hoisted_13 = [\"src\"]\nconst _hoisted_14 = { class: \"rank-1st flex flex-col justify-between items-center\" }\nconst _hoisted_15 = { class: \"flex justify-between items-center text-[21px] text-[#f3aaae]\" }\nconst _hoisted_16 = { class: \"nickname truncate\" }\nconst _hoisted_17 = { class: \"text-[21px] text-[#fee902]\" }\nconst _hoisted_18 = [\"src\"]\nconst _hoisted_19 = { class: \"rank-3rd flex flex-col justify-between items-center\" }\nconst _hoisted_20 = { class: \"flex justify-between items-center text-[21px] text-[#f3aaae]\" }\nconst _hoisted_21 = { class: \"nickname truncate\" }\nconst _hoisted_22 = { class: \"text-[21px] text-[#fee902]\" }\nconst _hoisted_23 = [\"src\"]\nconst _hoisted_24 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"list-bg-top\" }, [\n  /*#__PURE__*/_createElementVNode(\"div\", { class: \"list-th flex justify-between items-end\" }, [\n    /*#__PURE__*/_createElementVNode(\"div\", null, \"会员信息\"),\n    /*#__PURE__*/_createElementVNode(\"div\", null, \"排名\"),\n    /*#__PURE__*/_createElementVNode(\"div\", null, \"合成卡数\")\n  ])\n], -1 /* HOISTED */))\nconst _hoisted_25 = { class: \"list-bg-middle\" }\nconst _hoisted_26 = { class: \"item-content flex justify-between items-center\" }\nconst _hoisted_27 = { class: \"user-info flex items-center\" }\nconst _hoisted_28 = [\"src\"]\nconst _hoisted_29 = { class: \"ml-[15px] line-clamp-2\" }\nconst _hoisted_30 = { class: \"rank-num flex justify-center\" }\nconst _hoisted_31 = { class: \"card-num flex justify-center\" }\nconst _hoisted_32 = { class: \"list-bg-bottom flex justify-center items-center\" }\n\nimport { gameInfoDataApi, gameRankApi } from '@/apis/taskActivity'\nimport { useAuthStore } from '@/store/modules/auth'\nimport { useEntryStore } from '@/store/modules/entry'\nimport { IGameRankData } from '@/store/types/taskActivity'\nimport { getRandomNumber } from '@/utils/tools'\nimport { storeToRefs } from 'pinia'\nimport { computed, onMounted, onUnmounted, ref } from 'vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'RankingList',\n  setup(__props) {\n\nconst EntryStore = useEntryStore()\nconst { config } = storeToRefs(EntryStore)\n\nconst authStore = useAuthStore()\nconst { userInfo } = storeToRefs(authStore)\n\nconst week = ref(1)\nconst weekOption = ref([\n  { text: '本周', value: 1 },\n  { text: '上周', value: -1 }\n])\nconst ranks = ref<IGameRankData[]>([] as IGameRankData[])\nconst showMax = ref(true)\nconst prizePoolMoney = ref('0')\n\nconst appUserInfo = JSON.parse(localStorage.getItem('app_user_info') ?? '{}')\n\nconst handleToggle = () => {\n  showMax.value = !showMax.value\n}\n\nconst hasMore = computed(() => ranks.value.length > 10)\nconst visibleRanks = computed(() => ranks.value.slice(0, showMax.value ? 10 : ranks.value.length))\n// 图片资源域名\nconst imgserver_url = computed(() => {\n  return (config.value.Web_Set_DefaultInfo?.imgserver_url as any)?.v || ''\n})\nconst userNickName = computed(() => userInfo.value?.nickname || '')\n\nconst onWeekChange = (week: number) => {\n  getRankData()\n}\n\nconst filterNickName = (nickname: string) => {\n  if (!nickname) return ''\n  if (nickname.length === 1) return nickname + '**'\n  if (nickname.length > 1 && nickname.length < 4)\n    return nickname.slice(0, 1) + '**' + nickname.slice(1)\n  return nickname.slice(0, 1) + '**' + nickname.slice(-2)\n}\n\nconst getRankData = async () => {\n  try {\n    const res = await gameRankApi({ week: week.value })\n    window.log('排行榜', res, userInfo.value?.nickname, userNickName.value)\n\n    ranks.value = res\n  } catch (err) {\n    console.error(err)\n  }\n}\n\nconst getGameInfoData = async () => {\n  try {\n    const res = await gameInfoDataApi({})\n    window.log('个人游戏信息', res)\n    if (res.pools && Math.floor(res.pools) !== Math.floor(+prizePoolMoney.value)) {\n      prizePoolMoney.value = Math.floor(res.pools).toString().replace(/\\d/g, '0')\n      setTimeout(() => {\n        prizePoolMoney.value = Math.floor(res.pools).toString()\n      }, 20)\n    }\n  } catch (err) {\n    console.error(err)\n  }\n}\ngetGameInfoData().then(() => {\n  poolIncrease()\n})\n\nlet poolIncreaseTimer: NodeJS.Timeout | null\n// 3至5秒内随机增加奖池金额\nconst poolIncrease = () => {\n  const randomSec = getRandomNumber(3000, 5000)\n\n  poolIncreaseTimer && clearTimeout(poolIncreaseTimer)\n  poolIncreaseTimer = setTimeout(() => {\n    getGameInfoData()\n    poolIncrease()\n  }, randomSec)\n}\n\nonMounted(() => {\n  getRankData()\n})\nonUnmounted(() => {\n  poolIncreaseTimer && clearTimeout(poolIncreaseTimer)\n  poolIncreaseTimer = null\n})\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_CountTo = _resolveComponent(\"CountTo\")!\n  const _component_van_dropdown_item = _resolveComponent(\"van-dropdown-item\")!\n  const _component_van_dropdown_menu = _resolveComponent(\"van-dropdown-menu\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createElementVNode(\"div\", _hoisted_3, [\n        _withDirectives(_createVNode(_component_CountTo, { count: prizePoolMoney.value }, null, 8 /* PROPS */, [\"count\"]), [\n          [_vShow, prizePoolMoney.value.length > 1]\n        ])\n      ])\n    ]),\n    _createCommentVNode(\" 排行榜内容 \"),\n    _createElementVNode(\"div\", _hoisted_4, [\n      _createVNode(_component_van_dropdown_menu, { overlay: false }, {\n        default: _withCtx(() => [\n          _createVNode(_component_van_dropdown_item, {\n            modelValue: week.value,\n            \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((week).value = $event)),\n            options: weekOption.value,\n            onChange: onWeekChange\n          }, null, 8 /* PROPS */, [\"modelValue\", \"options\"])\n        ]),\n        _: 1 /* STABLE */\n      }),\n      _createElementVNode(\"div\", _hoisted_5, [\n        _createElementVNode(\"div\", _hoisted_6, _toDisplayString(week.value === 1 ? '本周' : '上周') + \"合成数量排行榜\", 1 /* TEXT */),\n        _hoisted_7\n      ]),\n      _createElementVNode(\"div\", _hoisted_8, [\n        (ranks.value.length)\n          ? (_openBlock(), _createElementBlock(_Fragment, { key: 0 }, [\n              _createElementVNode(\"div\", _hoisted_9, [\n                _createElementVNode(\"div\", _hoisted_10, [\n                  _createCommentVNode(\" <span>{{ ranks[1].nickname.slice(0, 2) }}**{{ ranks[1].nickname.slice(-2) }}</span> \"),\n                  _createElementVNode(\"span\", _hoisted_11, _toDisplayString(filterNickName(ranks.value[1].nickname)), 1 /* TEXT */),\n                  _createElementVNode(\"span\", null, [\n                    _createElementVNode(\"span\", _hoisted_12, _toDisplayString(ranks.value[1].daily_num), 1 /* TEXT */),\n                    _createTextVNode(\" 张 \")\n                  ])\n                ]),\n                _createElementVNode(\"img\", {\n                  src: imgserver_url.value + ranks.value[1].headimg\n                }, null, 8 /* PROPS */, _hoisted_13)\n              ]),\n              _createElementVNode(\"div\", _hoisted_14, [\n                _createElementVNode(\"div\", _hoisted_15, [\n                  _createCommentVNode(\" <span>{{ ranks[0].nickname.slice(0, 2) }}**{{ ranks[0].nickname.slice(-2) }}</span> \"),\n                  _createElementVNode(\"span\", _hoisted_16, _toDisplayString(filterNickName(ranks.value[0].nickname)), 1 /* TEXT */),\n                  _createElementVNode(\"span\", null, [\n                    _createElementVNode(\"span\", _hoisted_17, _toDisplayString(ranks.value[0].daily_num), 1 /* TEXT */),\n                    _createTextVNode(\" 张 \")\n                  ])\n                ]),\n                _createElementVNode(\"img\", {\n                  src: imgserver_url.value + ranks.value[0].headimg\n                }, null, 8 /* PROPS */, _hoisted_18)\n              ]),\n              _createElementVNode(\"div\", _hoisted_19, [\n                _createElementVNode(\"div\", _hoisted_20, [\n                  _createCommentVNode(\" <span>{{ ranks[2].nickname.slice(0, 2) }}**{{ ranks[2].nickname.slice(-2) }}</span> \"),\n                  _createElementVNode(\"span\", _hoisted_21, _toDisplayString(filterNickName(ranks.value[2].nickname)), 1 /* TEXT */),\n                  _createElementVNode(\"span\", null, [\n                    _createElementVNode(\"span\", _hoisted_22, _toDisplayString(ranks.value[2].daily_num), 1 /* TEXT */),\n                    _createTextVNode(\" 张 \")\n                  ])\n                ]),\n                _createElementVNode(\"img\", {\n                  src: imgserver_url.value + ranks.value[2].headimg\n                }, null, 8 /* PROPS */, _hoisted_23)\n              ])\n            ], 64 /* STABLE_FRAGMENT */))\n          : _createCommentVNode(\"v-if\", true)\n      ]),\n      _hoisted_24,\n      _createElementVNode(\"div\", _hoisted_25, [\n        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(visibleRanks.value.slice(3), (item, index) => {\n          return (_openBlock(), _createElementBlock(\"div\", {\n            key: item.nickname,\n            class: _normalizeClass([\"item-row\", { 'item-row-self': item.nickname === (userNickName.value || _unref(appUserInfo).nickname) }])\n          }, [\n            _createElementVNode(\"div\", _hoisted_26, [\n              _createElementVNode(\"div\", _hoisted_27, [\n                _createElementVNode(\"img\", {\n                  src: imgserver_url.value + item.headimg\n                }, null, 8 /* PROPS */, _hoisted_28),\n                _createElementVNode(\"div\", _hoisted_29, [\n                  _createCommentVNode(\" {{ item.nickname.slice(0, 2) }}***{{ item.nickname.slice(-2) }} \"),\n                  _createTextVNode(\" \" + _toDisplayString(filterNickName(item.nickname)), 1 /* TEXT */)\n                ])\n              ]),\n              _createElementVNode(\"div\", _hoisted_30, _toDisplayString(item.rank_num > 99 ? '99+' : item.rank_num), 1 /* TEXT */),\n              _createElementVNode(\"div\", _hoisted_31, _toDisplayString(item.daily_num), 1 /* TEXT */)\n            ])\n          ], 2 /* CLASS */))\n        }), 128 /* KEYED_FRAGMENT */))\n      ]),\n      _createElementVNode(\"div\", _hoisted_32, [\n        (hasMore.value)\n          ? (_openBlock(), _createElementBlock(\"div\", {\n              key: 0,\n              class: \"text-[25px] text-[#eb8f6f]\",\n              onClick: handleToggle\n            }, _toDisplayString(showMax.value ? '展示更多' : '收起'), 1 /* TEXT */))\n          : _createCommentVNode(\"v-if\", true)\n      ])\n    ])\n  ]))\n}\n}\n\n})"
        ],
        "mappings": "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",
        "names": [
          "week"
        ]
      }
    },
    {
      "name": "vite:json",
      "start": 1714699770718,
      "end": 1714699770718,
      "order": "normal"
    },
    {
      "name": "vite:worker",
      "start": 1714699770718,
      "end": 1714699770718,
      "order": "normal"
    },
    {
      "name": "vite:vue",
      "start": 1714699770718,
      "end": 1714699770718,
      "order": "normal"
    },
    {
      "name": "vite:vue-jsx",
      "start": 1714699770718,
      "end": 1714699770718,
      "order": "normal"
    },
    {
      "name": "vite-plugin-vconsole",
      "result": "import { defineComponent as _defineComponent } from \"vue\";\nimport { resolveComponent as _resolveComponent, vShow as _vShow, createVNode as _createVNode, withDirectives as _withDirectives, createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, withCtx as _withCtx, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, renderList as _renderList, unref as _unref, normalizeClass as _normalizeClass, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = (n) => (_pushScopeId(\"data-v-cef08ad0\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = { class: \"ranking-list-container\" };\nconst _hoisted_2 = { class: \"prize-pool-bg\" };\nconst _hoisted_3 = { class: \"prize-pool-money\" };\nconst _hoisted_4 = { class: \"ranking-content\" };\nconst _hoisted_5 = { class: \"title-bg flex flex-col justify-center items-center text-[#f1d188]\" };\nconst _hoisted_6 = { class: \"text-[34px] font-bold\" };\nconst _hoisted_7 = /* @__PURE__ */ _withScopeId(() => /* @__PURE__ */ _createElementVNode(\n  \"div\",\n  { class: \"sub-title text-[21px] text-[#fb967f] whitespace-nowrap\" },\n  [\n    /* @__PURE__ */ _createTextVNode(\" 排行榜豪礼每周一派奖，最高可得 \"),\n    /* @__PURE__ */ _createElementVNode(\"span\", { class: \"text-[#f1d188]\" }, \"1888\"),\n    /* @__PURE__ */ _createTextVNode(\" 大奖 \")\n  ],\n  -1\n  /* HOISTED */\n));\nconst _hoisted_8 = { class: \"podium-bg\" };\nconst _hoisted_9 = { class: \"rank-2nd flex flex-col justify-between items-center\" };\nconst _hoisted_10 = { class: \"flex justify-between items-center text-[21px] text-[#f3aaae]\" };\nconst _hoisted_11 = { class: \"nickname truncate\" };\nconst _hoisted_12 = { class: \"text-[21px] text-[#fee902]\" };\nconst _hoisted_13 = [\"src\"];\nconst _hoisted_14 = { class: \"rank-1st flex flex-col justify-between items-center\" };\nconst _hoisted_15 = { class: \"flex justify-between items-center text-[21px] text-[#f3aaae]\" };\nconst _hoisted_16 = { class: \"nickname truncate\" };\nconst _hoisted_17 = { class: \"text-[21px] text-[#fee902]\" };\nconst _hoisted_18 = [\"src\"];\nconst _hoisted_19 = { class: \"rank-3rd flex flex-col justify-between items-center\" };\nconst _hoisted_20 = { class: \"flex justify-between items-center text-[21px] text-[#f3aaae]\" };\nconst _hoisted_21 = { class: \"nickname truncate\" };\nconst _hoisted_22 = { class: \"text-[21px] text-[#fee902]\" };\nconst _hoisted_23 = [\"src\"];\nconst _hoisted_24 = /* @__PURE__ */ _withScopeId(() => /* @__PURE__ */ _createElementVNode(\n  \"div\",\n  { class: \"list-bg-top\" },\n  [\n    /* @__PURE__ */ _createElementVNode(\"div\", { class: \"list-th flex justify-between items-end\" }, [\n      /* @__PURE__ */ _createElementVNode(\"div\", null, \"会员信息\"),\n      /* @__PURE__ */ _createElementVNode(\"div\", null, \"排名\"),\n      /* @__PURE__ */ _createElementVNode(\"div\", null, \"合成卡数\")\n    ])\n  ],\n  -1\n  /* HOISTED */\n));\nconst _hoisted_25 = { class: \"list-bg-middle\" };\nconst _hoisted_26 = { class: \"item-content flex justify-between items-center\" };\nconst _hoisted_27 = { class: \"user-info flex items-center\" };\nconst _hoisted_28 = [\"src\"];\nconst _hoisted_29 = { class: \"ml-[15px] line-clamp-2\" };\nconst _hoisted_30 = { class: \"rank-num flex justify-center\" };\nconst _hoisted_31 = { class: \"card-num flex justify-center\" };\nconst _hoisted_32 = { class: \"list-bg-bottom flex justify-center items-center\" };\nimport { gameInfoDataApi, gameRankApi } from \"@/apis/taskActivity\";\nimport { useAuthStore } from \"@/store/modules/auth\";\nimport { useEntryStore } from \"@/store/modules/entry\";\nimport { getRandomNumber } from \"@/utils/tools\";\nimport { storeToRefs } from \"pinia\";\nimport { computed, onMounted, onUnmounted, ref } from \"vue\";\nexport default /* @__PURE__ */ _defineComponent({\n  __name: \"RankingList\",\n  setup(__props) {\n    const EntryStore = useEntryStore();\n    const { config } = storeToRefs(EntryStore);\n    const authStore = useAuthStore();\n    const { userInfo } = storeToRefs(authStore);\n    const week = ref(1);\n    const weekOption = ref([\n      { text: \"本周\", value: 1 },\n      { text: \"上周\", value: -1 }\n    ]);\n    const ranks = ref([]);\n    const showMax = ref(true);\n    const prizePoolMoney = ref(\"0\");\n    const appUserInfo = JSON.parse(localStorage.getItem(\"app_user_info\") ?? \"{}\");\n    const handleToggle = () => {\n      showMax.value = !showMax.value;\n    };\n    const hasMore = computed(() => ranks.value.length > 10);\n    const visibleRanks = computed(() => ranks.value.slice(0, showMax.value ? 10 : ranks.value.length));\n    const imgserver_url = computed(() => {\n      return config.value.Web_Set_DefaultInfo?.imgserver_url?.v || \"\";\n    });\n    const userNickName = computed(() => userInfo.value?.nickname || \"\");\n    const onWeekChange = (week2) => {\n      getRankData();\n    };\n    const filterNickName = (nickname) => {\n      if (!nickname)\n        return \"\";\n      if (nickname.length === 1)\n        return nickname + \"**\";\n      if (nickname.length > 1 && nickname.length < 4)\n        return nickname.slice(0, 1) + \"**\" + nickname.slice(1);\n      return nickname.slice(0, 1) + \"**\" + nickname.slice(-2);\n    };\n    const getRankData = async () => {\n      try {\n        const res = await gameRankApi({ week: week.value });\n        window.log(\"排行榜\", res, userInfo.value?.nickname, userNickName.value);\n        ranks.value = res;\n      } catch (err) {\n        console.error(err);\n      }\n    };\n    const getGameInfoData = async () => {\n      try {\n        const res = await gameInfoDataApi({});\n        window.log(\"个人游戏信息\", res);\n        if (res.pools && Math.floor(res.pools) !== Math.floor(+prizePoolMoney.value)) {\n          prizePoolMoney.value = Math.floor(res.pools).toString().replace(/\\d/g, \"0\");\n          setTimeout(() => {\n            prizePoolMoney.value = Math.floor(res.pools).toString();\n          }, 20);\n        }\n      } catch (err) {\n        console.error(err);\n      }\n    };\n    getGameInfoData().then(() => {\n      poolIncrease();\n    });\n    let poolIncreaseTimer;\n    const poolIncrease = () => {\n      const randomSec = getRandomNumber(3e3, 5e3);\n      poolIncreaseTimer && clearTimeout(poolIncreaseTimer);\n      poolIncreaseTimer = setTimeout(() => {\n        getGameInfoData();\n        poolIncrease();\n      }, randomSec);\n    };\n    onMounted(() => {\n      getRankData();\n    });\n    onUnmounted(() => {\n      poolIncreaseTimer && clearTimeout(poolIncreaseTimer);\n      poolIncreaseTimer = null;\n    });\n    return (_ctx, _cache) => {\n      const _component_CountTo = _resolveComponent(\"CountTo\");\n      const _component_van_dropdown_item = _resolveComponent(\"van-dropdown-item\");\n      const _component_van_dropdown_menu = _resolveComponent(\"van-dropdown-menu\");\n      return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n        _createElementVNode(\"div\", _hoisted_2, [\n          _createElementVNode(\"div\", _hoisted_3, [\n            _withDirectives(_createVNode(_component_CountTo, { count: prizePoolMoney.value }, null, 8, [\"count\"]), [\n              [_vShow, prizePoolMoney.value.length > 1]\n            ])\n          ])\n        ]),\n        _createCommentVNode(\" 排行榜内容 \"),\n        _createElementVNode(\"div\", _hoisted_4, [\n          _createVNode(_component_van_dropdown_menu, { overlay: false }, {\n            default: _withCtx(() => [\n              _createVNode(_component_van_dropdown_item, {\n                modelValue: week.value,\n                \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event) => week.value = $event),\n                options: weekOption.value,\n                onChange: onWeekChange\n              }, null, 8, [\"modelValue\", \"options\"])\n            ]),\n            _: 1\n            /* STABLE */\n          }),\n          _createElementVNode(\"div\", _hoisted_5, [\n            _createElementVNode(\n              \"div\",\n              _hoisted_6,\n              _toDisplayString(week.value === 1 ? \"本周\" : \"上周\") + \"合成数量排行榜\",\n              1\n              /* TEXT */\n            ),\n            _hoisted_7\n          ]),\n          _createElementVNode(\"div\", _hoisted_8, [\n            ranks.value.length ? (_openBlock(), _createElementBlock(\n              _Fragment,\n              { key: 0 },\n              [\n                _createElementVNode(\"div\", _hoisted_9, [\n                  _createElementVNode(\"div\", _hoisted_10, [\n                    _createCommentVNode(\" <span>{{ ranks[1].nickname.slice(0, 2) }}**{{ ranks[1].nickname.slice(-2) }}</span> \"),\n                    _createElementVNode(\n                      \"span\",\n                      _hoisted_11,\n                      _toDisplayString(filterNickName(ranks.value[1].nickname)),\n                      1\n                      /* TEXT */\n                    ),\n                    _createElementVNode(\"span\", null, [\n                      _createElementVNode(\n                        \"span\",\n                        _hoisted_12,\n                        _toDisplayString(ranks.value[1].daily_num),\n                        1\n                        /* TEXT */\n                      ),\n                      _createTextVNode(\" 张 \")\n                    ])\n                  ]),\n                  _createElementVNode(\"img\", {\n                    src: imgserver_url.value + ranks.value[1].headimg\n                  }, null, 8, _hoisted_13)\n                ]),\n                _createElementVNode(\"div\", _hoisted_14, [\n                  _createElementVNode(\"div\", _hoisted_15, [\n                    _createCommentVNode(\" <span>{{ ranks[0].nickname.slice(0, 2) }}**{{ ranks[0].nickname.slice(-2) }}</span> \"),\n                    _createElementVNode(\n                      \"span\",\n                      _hoisted_16,\n                      _toDisplayString(filterNickName(ranks.value[0].nickname)),\n                      1\n                      /* TEXT */\n                    ),\n                    _createElementVNode(\"span\", null, [\n                      _createElementVNode(\n                        \"span\",\n                        _hoisted_17,\n                        _toDisplayString(ranks.value[0].daily_num),\n                        1\n                        /* TEXT */\n                      ),\n                      _createTextVNode(\" 张 \")\n                    ])\n                  ]),\n                  _createElementVNode(\"img\", {\n                    src: imgserver_url.value + ranks.value[0].headimg\n                  }, null, 8, _hoisted_18)\n                ]),\n                _createElementVNode(\"div\", _hoisted_19, [\n                  _createElementVNode(\"div\", _hoisted_20, [\n                    _createCommentVNode(\" <span>{{ ranks[2].nickname.slice(0, 2) }}**{{ ranks[2].nickname.slice(-2) }}</span> \"),\n                    _createElementVNode(\n                      \"span\",\n                      _hoisted_21,\n                      _toDisplayString(filterNickName(ranks.value[2].nickname)),\n                      1\n                      /* TEXT */\n                    ),\n                    _createElementVNode(\"span\", null, [\n                      _createElementVNode(\n                        \"span\",\n                        _hoisted_22,\n                        _toDisplayString(ranks.value[2].daily_num),\n                        1\n                        /* TEXT */\n                      ),\n                      _createTextVNode(\" 张 \")\n                    ])\n                  ]),\n                  _createElementVNode(\"img\", {\n                    src: imgserver_url.value + ranks.value[2].headimg\n                  }, null, 8, _hoisted_23)\n                ])\n              ],\n              64\n              /* STABLE_FRAGMENT */\n            )) : _createCommentVNode(\"v-if\", true)\n          ]),\n          _hoisted_24,\n          _createElementVNode(\"div\", _hoisted_25, [\n            (_openBlock(true), _createElementBlock(\n              _Fragment,\n              null,\n              _renderList(visibleRanks.value.slice(3), (item, index) => {\n                return _openBlock(), _createElementBlock(\n                  \"div\",\n                  {\n                    key: item.nickname,\n                    class: _normalizeClass([\"item-row\", { \"item-row-self\": item.nickname === (userNickName.value || _unref(appUserInfo).nickname) }])\n                  },\n                  [\n                    _createElementVNode(\"div\", _hoisted_26, [\n                      _createElementVNode(\"div\", _hoisted_27, [\n                        _createElementVNode(\"img\", {\n                          src: imgserver_url.value + item.headimg\n                        }, null, 8, _hoisted_28),\n                        _createElementVNode(\"div\", _hoisted_29, [\n                          _createCommentVNode(\" {{ item.nickname.slice(0, 2) }}***{{ item.nickname.slice(-2) }} \"),\n                          _createTextVNode(\n                            \" \" + _toDisplayString(filterNickName(item.nickname)),\n                            1\n                            /* TEXT */\n                          )\n                        ])\n                      ]),\n                      _createElementVNode(\n                        \"div\",\n                        _hoisted_30,\n                        _toDisplayString(item.rank_num > 99 ? \"99+\" : item.rank_num),\n                        1\n                        /* TEXT */\n                      ),\n                      _createElementVNode(\n                        \"div\",\n                        _hoisted_31,\n                        _toDisplayString(item.daily_num),\n                        1\n                        /* TEXT */\n                      )\n                    ])\n                  ],\n                  2\n                  /* CLASS */\n                );\n              }),\n              128\n              /* KEYED_FRAGMENT */\n            ))\n          ]),\n          _createElementVNode(\"div\", _hoisted_32, [\n            hasMore.value ? (_openBlock(), _createElementBlock(\n              \"div\",\n              {\n                key: 0,\n                class: \"text-[25px] text-[#eb8f6f]\",\n                onClick: handleToggle\n              },\n              _toDisplayString(showMax.value ? \"展示更多\" : \"收起\"),\n              1\n              /* TEXT */\n            )) : _createCommentVNode(\"v-if\", true)\n          ])\n        ])\n      ]);\n    };\n  }\n});\n",
      "start": 1714699770718,
      "end": 1714699770718,
      "order": "normal",
      "sourcemaps": null
    },
    {
      "name": "esbuild",
      "result": "\"use strict\";\nimport { defineComponent as _defineComponent } from \"vue\";\nimport { resolveComponent as _resolveComponent, vShow as _vShow, createVNode as _createVNode, withDirectives as _withDirectives, createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, withCtx as _withCtx, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, renderList as _renderList, unref as _unref, normalizeClass as _normalizeClass, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = (n) => (_pushScopeId(\"data-v-cef08ad0\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = { class: \"ranking-list-container\" };\nconst _hoisted_2 = { class: \"prize-pool-bg\" };\nconst _hoisted_3 = { class: \"prize-pool-money\" };\nconst _hoisted_4 = { class: \"ranking-content\" };\nconst _hoisted_5 = { class: \"title-bg flex flex-col justify-center items-center text-[#f1d188]\" };\nconst _hoisted_6 = { class: \"text-[34px] font-bold\" };\nconst _hoisted_7 = /* @__PURE__ */ _withScopeId(() => /* @__PURE__ */ _createElementVNode(\n  \"div\",\n  { class: \"sub-title text-[21px] text-[#fb967f] whitespace-nowrap\" },\n  [\n    /* @__PURE__ */ _createTextVNode(\" \\u6392\\u884C\\u699C\\u8C6A\\u793C\\u6BCF\\u5468\\u4E00\\u6D3E\\u5956\\uFF0C\\u6700\\u9AD8\\u53EF\\u5F97 \"),\n    /* @__PURE__ */ _createElementVNode(\"span\", { class: \"text-[#f1d188]\" }, \"1888\"),\n    /* @__PURE__ */ _createTextVNode(\" \\u5927\\u5956 \")\n  ],\n  -1\n  /* HOISTED */\n));\nconst _hoisted_8 = { class: \"podium-bg\" };\nconst _hoisted_9 = { class: \"rank-2nd flex flex-col justify-between items-center\" };\nconst _hoisted_10 = { class: \"flex justify-between items-center text-[21px] text-[#f3aaae]\" };\nconst _hoisted_11 = { class: \"nickname truncate\" };\nconst _hoisted_12 = { class: \"text-[21px] text-[#fee902]\" };\nconst _hoisted_13 = [\"src\"];\nconst _hoisted_14 = { class: \"rank-1st flex flex-col justify-between items-center\" };\nconst _hoisted_15 = { class: \"flex justify-between items-center text-[21px] text-[#f3aaae]\" };\nconst _hoisted_16 = { class: \"nickname truncate\" };\nconst _hoisted_17 = { class: \"text-[21px] text-[#fee902]\" };\nconst _hoisted_18 = [\"src\"];\nconst _hoisted_19 = { class: \"rank-3rd flex flex-col justify-between items-center\" };\nconst _hoisted_20 = { class: \"flex justify-between items-center text-[21px] text-[#f3aaae]\" };\nconst _hoisted_21 = { class: \"nickname truncate\" };\nconst _hoisted_22 = { class: \"text-[21px] text-[#fee902]\" };\nconst _hoisted_23 = [\"src\"];\nconst _hoisted_24 = /* @__PURE__ */ _withScopeId(() => /* @__PURE__ */ _createElementVNode(\n  \"div\",\n  { class: \"list-bg-top\" },\n  [\n    /* @__PURE__ */ _createElementVNode(\"div\", { class: \"list-th flex justify-between items-end\" }, [\n      /* @__PURE__ */ _createElementVNode(\"div\", null, \"\\u4F1A\\u5458\\u4FE1\\u606F\"),\n      /* @__PURE__ */ _createElementVNode(\"div\", null, \"\\u6392\\u540D\"),\n      /* @__PURE__ */ _createElementVNode(\"div\", null, \"\\u5408\\u6210\\u5361\\u6570\")\n    ])\n  ],\n  -1\n  /* HOISTED */\n));\nconst _hoisted_25 = { class: \"list-bg-middle\" };\nconst _hoisted_26 = { class: \"item-content flex justify-between items-center\" };\nconst _hoisted_27 = { class: \"user-info flex items-center\" };\nconst _hoisted_28 = [\"src\"];\nconst _hoisted_29 = { class: \"ml-[15px] line-clamp-2\" };\nconst _hoisted_30 = { class: \"rank-num flex justify-center\" };\nconst _hoisted_31 = { class: \"card-num flex justify-center\" };\nconst _hoisted_32 = { class: \"list-bg-bottom flex justify-center items-center\" };\nimport { gameInfoDataApi, gameRankApi } from \"@/apis/taskActivity\";\nimport { useAuthStore } from \"@/store/modules/auth\";\nimport { useEntryStore } from \"@/store/modules/entry\";\nimport { getRandomNumber } from \"@/utils/tools\";\nimport { storeToRefs } from \"pinia\";\nimport { computed, onMounted, onUnmounted, ref } from \"vue\";\nexport default /* @__PURE__ */ _defineComponent({\n  __name: \"RankingList\",\n  setup(__props) {\n    var _a;\n    const EntryStore = useEntryStore();\n    const { config } = storeToRefs(EntryStore);\n    const authStore = useAuthStore();\n    const { userInfo } = storeToRefs(authStore);\n    const week = ref(1);\n    const weekOption = ref([\n      { text: \"\\u672C\\u5468\", value: 1 },\n      { text: \"\\u4E0A\\u5468\", value: -1 }\n    ]);\n    const ranks = ref([]);\n    const showMax = ref(true);\n    const prizePoolMoney = ref(\"0\");\n    const appUserInfo = JSON.parse((_a = localStorage.getItem(\"app_user_info\")) != null ? _a : \"{}\");\n    const handleToggle = () => {\n      showMax.value = !showMax.value;\n    };\n    const hasMore = computed(() => ranks.value.length > 10);\n    const visibleRanks = computed(() => ranks.value.slice(0, showMax.value ? 10 : ranks.value.length));\n    const imgserver_url = computed(() => {\n      var _a2, _b;\n      return ((_b = (_a2 = config.value.Web_Set_DefaultInfo) == null ? void 0 : _a2.imgserver_url) == null ? void 0 : _b.v) || \"\";\n    });\n    const userNickName = computed(() => {\n      var _a2;\n      return ((_a2 = userInfo.value) == null ? void 0 : _a2.nickname) || \"\";\n    });\n    const onWeekChange = (week2) => {\n      getRankData();\n    };\n    const filterNickName = (nickname) => {\n      if (!nickname)\n        return \"\";\n      if (nickname.length === 1)\n        return nickname + \"**\";\n      if (nickname.length > 1 && nickname.length < 4)\n        return nickname.slice(0, 1) + \"**\" + nickname.slice(1);\n      return nickname.slice(0, 1) + \"**\" + nickname.slice(-2);\n    };\n    const getRankData = async () => {\n      var _a2;\n      try {\n        const res = await gameRankApi({ week: week.value });\n        window.log(\"\\u6392\\u884C\\u699C\", res, (_a2 = userInfo.value) == null ? void 0 : _a2.nickname, userNickName.value);\n        ranks.value = res;\n      } catch (err) {\n        console.error(err);\n      }\n    };\n    const getGameInfoData = async () => {\n      try {\n        const res = await gameInfoDataApi({});\n        window.log(\"\\u4E2A\\u4EBA\\u6E38\\u620F\\u4FE1\\u606F\", res);\n        if (res.pools && Math.floor(res.pools) !== Math.floor(+prizePoolMoney.value)) {\n          prizePoolMoney.value = Math.floor(res.pools).toString().replace(/\\d/g, \"0\");\n          setTimeout(() => {\n            prizePoolMoney.value = Math.floor(res.pools).toString();\n          }, 20);\n        }\n      } catch (err) {\n        console.error(err);\n      }\n    };\n    getGameInfoData().then(() => {\n      poolIncrease();\n    });\n    let poolIncreaseTimer;\n    const poolIncrease = () => {\n      const randomSec = getRandomNumber(3e3, 5e3);\n      poolIncreaseTimer && clearTimeout(poolIncreaseTimer);\n      poolIncreaseTimer = setTimeout(() => {\n        getGameInfoData();\n        poolIncrease();\n      }, randomSec);\n    };\n    onMounted(() => {\n      getRankData();\n    });\n    onUnmounted(() => {\n      poolIncreaseTimer && clearTimeout(poolIncreaseTimer);\n      poolIncreaseTimer = null;\n    });\n    return (_ctx, _cache) => {\n      const _component_CountTo = _resolveComponent(\"CountTo\");\n      const _component_van_dropdown_item = _resolveComponent(\"van-dropdown-item\");\n      const _component_van_dropdown_menu = _resolveComponent(\"van-dropdown-menu\");\n      return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n        _createElementVNode(\"div\", _hoisted_2, [\n          _createElementVNode(\"div\", _hoisted_3, [\n            _withDirectives(_createVNode(_component_CountTo, { count: prizePoolMoney.value }, null, 8, [\"count\"]), [\n              [_vShow, prizePoolMoney.value.length > 1]\n            ])\n          ])\n        ]),\n        _createCommentVNode(\" \\u6392\\u884C\\u699C\\u5185\\u5BB9 \"),\n        _createElementVNode(\"div\", _hoisted_4, [\n          _createVNode(_component_van_dropdown_menu, { overlay: false }, {\n            default: _withCtx(() => [\n              _createVNode(_component_van_dropdown_item, {\n                modelValue: week.value,\n                \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event) => week.value = $event),\n                options: weekOption.value,\n                onChange: onWeekChange\n              }, null, 8, [\"modelValue\", \"options\"])\n            ]),\n            _: 1\n            /* STABLE */\n          }),\n          _createElementVNode(\"div\", _hoisted_5, [\n            _createElementVNode(\n              \"div\",\n              _hoisted_6,\n              _toDisplayString(week.value === 1 ? \"\\u672C\\u5468\" : \"\\u4E0A\\u5468\") + \"\\u5408\\u6210\\u6570\\u91CF\\u6392\\u884C\\u699C\",\n              1\n              /* TEXT */\n            ),\n            _hoisted_7\n          ]),\n          _createElementVNode(\"div\", _hoisted_8, [\n            ranks.value.length ? (_openBlock(), _createElementBlock(\n              _Fragment,\n              { key: 0 },\n              [\n                _createElementVNode(\"div\", _hoisted_9, [\n                  _createElementVNode(\"div\", _hoisted_10, [\n                    _createCommentVNode(\" <span>{{ ranks[1].nickname.slice(0, 2) }}**{{ ranks[1].nickname.slice(-2) }}</span> \"),\n                    _createElementVNode(\n                      \"span\",\n                      _hoisted_11,\n                      _toDisplayString(filterNickName(ranks.value[1].nickname)),\n                      1\n                      /* TEXT */\n                    ),\n                    _createElementVNode(\"span\", null, [\n                      _createElementVNode(\n                        \"span\",\n                        _hoisted_12,\n                        _toDisplayString(ranks.value[1].daily_num),\n                        1\n                        /* TEXT */\n                      ),\n                      _createTextVNode(\" \\u5F20 \")\n                    ])\n                  ]),\n                  _createElementVNode(\"img\", {\n                    src: imgserver_url.value + ranks.value[1].headimg\n                  }, null, 8, _hoisted_13)\n                ]),\n                _createElementVNode(\"div\", _hoisted_14, [\n                  _createElementVNode(\"div\", _hoisted_15, [\n                    _createCommentVNode(\" <span>{{ ranks[0].nickname.slice(0, 2) }}**{{ ranks[0].nickname.slice(-2) }}</span> \"),\n                    _createElementVNode(\n                      \"span\",\n                      _hoisted_16,\n                      _toDisplayString(filterNickName(ranks.value[0].nickname)),\n                      1\n                      /* TEXT */\n                    ),\n                    _createElementVNode(\"span\", null, [\n                      _createElementVNode(\n                        \"span\",\n                        _hoisted_17,\n                        _toDisplayString(ranks.value[0].daily_num),\n                        1\n                        /* TEXT */\n                      ),\n                      _createTextVNode(\" \\u5F20 \")\n                    ])\n                  ]),\n                  _createElementVNode(\"img\", {\n                    src: imgserver_url.value + ranks.value[0].headimg\n                  }, null, 8, _hoisted_18)\n                ]),\n                _createElementVNode(\"div\", _hoisted_19, [\n                  _createElementVNode(\"div\", _hoisted_20, [\n                    _createCommentVNode(\" <span>{{ ranks[2].nickname.slice(0, 2) }}**{{ ranks[2].nickname.slice(-2) }}</span> \"),\n                    _createElementVNode(\n                      \"span\",\n                      _hoisted_21,\n                      _toDisplayString(filterNickName(ranks.value[2].nickname)),\n                      1\n                      /* TEXT */\n                    ),\n                    _createElementVNode(\"span\", null, [\n                      _createElementVNode(\n                        \"span\",\n                        _hoisted_22,\n                        _toDisplayString(ranks.value[2].daily_num),\n                        1\n                        /* TEXT */\n                      ),\n                      _createTextVNode(\" \\u5F20 \")\n                    ])\n                  ]),\n                  _createElementVNode(\"img\", {\n                    src: imgserver_url.value + ranks.value[2].headimg\n                  }, null, 8, _hoisted_23)\n                ])\n              ],\n              64\n              /* STABLE_FRAGMENT */\n            )) : _createCommentVNode(\"v-if\", true)\n          ]),\n          _hoisted_24,\n          _createElementVNode(\"div\", _hoisted_25, [\n            (_openBlock(true), _createElementBlock(\n              _Fragment,\n              null,\n              _renderList(visibleRanks.value.slice(3), (item, index) => {\n                return _openBlock(), _createElementBlock(\n                  \"div\",\n                  {\n                    key: item.nickname,\n                    class: _normalizeClass([\"item-row\", { \"item-row-self\": item.nickname === (userNickName.value || _unref(appUserInfo).nickname) }])\n                  },\n                  [\n                    _createElementVNode(\"div\", _hoisted_26, [\n                      _createElementVNode(\"div\", _hoisted_27, [\n                        _createElementVNode(\"img\", {\n                          src: imgserver_url.value + item.headimg\n                        }, null, 8, _hoisted_28),\n                        _createElementVNode(\"div\", _hoisted_29, [\n                          _createCommentVNode(\" {{ item.nickname.slice(0, 2) }}***{{ item.nickname.slice(-2) }} \"),\n                          _createTextVNode(\n                            \" \" + _toDisplayString(filterNickName(item.nickname)),\n                            1\n                            /* TEXT */\n                          )\n                        ])\n                      ]),\n                      _createElementVNode(\n                        \"div\",\n                        _hoisted_30,\n                        _toDisplayString(item.rank_num > 99 ? \"99+\" : item.rank_num),\n                        1\n                        /* TEXT */\n                      ),\n                      _createElementVNode(\n                        \"div\",\n                        _hoisted_31,\n                        _toDisplayString(item.daily_num),\n                        1\n                        /* TEXT */\n                      )\n                    ])\n                  ],\n                  2\n                  /* CLASS */\n                );\n              }),\n              128\n              /* KEYED_FRAGMENT */\n            ))\n          ]),\n          _createElementVNode(\"div\", _hoisted_32, [\n            hasMore.value ? (_openBlock(), _createElementBlock(\n              \"div\",\n              {\n                key: 0,\n                class: \"text-[25px] text-[#eb8f6f]\",\n                onClick: handleToggle\n              },\n              _toDisplayString(showMax.value ? \"\\u5C55\\u793A\\u66F4\\u591A\" : \"\\u6536\\u8D77\"),\n              1\n              /* TEXT */\n            )) : _createCommentVNode(\"v-if\", true)\n          ])\n        ])\n      ]);\n    };\n  }\n});\n",
      "start": 1714699770718,
      "end": 1714699771730,
      "order": "normal",
      "sourcemaps": "{\n  \"version\": 3,\n  \"sources\": [\"/Users/afeng/Desktop/work/gdpayh5-web/src/pages/Activity/RankingList.vue?vue&type=script&setup=true&lang.ts\"],\n  \"sourcesContent\": [\"import { defineComponent as _defineComponent } from \\\"vue\\\";\\nimport { resolveComponent as _resolveComponent, vShow as _vShow, createVNode as _createVNode, withDirectives as _withDirectives, createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, withCtx as _withCtx, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, renderList as _renderList, unref as _unref, normalizeClass as _normalizeClass, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \\\"vue\\\";\\nconst _withScopeId = (n) => (_pushScopeId(\\\"data-v-cef08ad0\\\"), n = n(), _popScopeId(), n);\\nconst _hoisted_1 = { class: \\\"ranking-list-container\\\" };\\nconst _hoisted_2 = { class: \\\"prize-pool-bg\\\" };\\nconst _hoisted_3 = { class: \\\"prize-pool-money\\\" };\\nconst _hoisted_4 = { class: \\\"ranking-content\\\" };\\nconst _hoisted_5 = { class: \\\"title-bg flex flex-col justify-center items-center text-[#f1d188]\\\" };\\nconst _hoisted_6 = { class: \\\"text-[34px] font-bold\\\" };\\nconst _hoisted_7 = /* @__PURE__ */ _withScopeId(() => /* @__PURE__ */ _createElementVNode(\\n  \\\"div\\\",\\n  { class: \\\"sub-title text-[21px] text-[#fb967f] whitespace-nowrap\\\" },\\n  [\\n    /* @__PURE__ */ _createTextVNode(\\\" \\u6392\\u884C\\u699C\\u8C6A\\u793C\\u6BCF\\u5468\\u4E00\\u6D3E\\u5956\\uFF0C\\u6700\\u9AD8\\u53EF\\u5F97 \\\"),\\n    /* @__PURE__ */ _createElementVNode(\\\"span\\\", { class: \\\"text-[#f1d188]\\\" }, \\\"1888\\\"),\\n    /* @__PURE__ */ _createTextVNode(\\\" \\u5927\\u5956 \\\")\\n  ],\\n  -1\\n  /* HOISTED */\\n));\\nconst _hoisted_8 = { class: \\\"podium-bg\\\" };\\nconst _hoisted_9 = { class: \\\"rank-2nd flex flex-col justify-between items-center\\\" };\\nconst _hoisted_10 = { class: \\\"flex justify-between items-center text-[21px] text-[#f3aaae]\\\" };\\nconst _hoisted_11 = { class: \\\"nickname truncate\\\" };\\nconst _hoisted_12 = { class: \\\"text-[21px] text-[#fee902]\\\" };\\nconst _hoisted_13 = [\\\"src\\\"];\\nconst _hoisted_14 = { class: \\\"rank-1st flex flex-col justify-between items-center\\\" };\\nconst _hoisted_15 = { class: \\\"flex justify-between items-center text-[21px] text-[#f3aaae]\\\" };\\nconst _hoisted_16 = { class: \\\"nickname truncate\\\" };\\nconst _hoisted_17 = { class: \\\"text-[21px] text-[#fee902]\\\" };\\nconst _hoisted_18 = [\\\"src\\\"];\\nconst _hoisted_19 = { class: \\\"rank-3rd flex flex-col justify-between items-center\\\" };\\nconst _hoisted_20 = { class: \\\"flex justify-between items-center text-[21px] text-[#f3aaae]\\\" };\\nconst _hoisted_21 = { class: \\\"nickname truncate\\\" };\\nconst _hoisted_22 = { class: \\\"text-[21px] text-[#fee902]\\\" };\\nconst _hoisted_23 = [\\\"src\\\"];\\nconst _hoisted_24 = /* @__PURE__ */ _withScopeId(() => /* @__PURE__ */ _createElementVNode(\\n  \\\"div\\\",\\n  { class: \\\"list-bg-top\\\" },\\n  [\\n    /* @__PURE__ */ _createElementVNode(\\\"div\\\", { class: \\\"list-th flex justify-between items-end\\\" }, [\\n      /* @__PURE__ */ _createElementVNode(\\\"div\\\", null, \\\"\\u4F1A\\u5458\\u4FE1\\u606F\\\"),\\n      /* @__PURE__ */ _createElementVNode(\\\"div\\\", null, \\\"\\u6392\\u540D\\\"),\\n      /* @__PURE__ */ _createElementVNode(\\\"div\\\", null, \\\"\\u5408\\u6210\\u5361\\u6570\\\")\\n    ])\\n  ],\\n  -1\\n  /* HOISTED */\\n));\\nconst _hoisted_25 = { class: \\\"list-bg-middle\\\" };\\nconst _hoisted_26 = { class: \\\"item-content flex justify-between items-center\\\" };\\nconst _hoisted_27 = { class: \\\"user-info flex items-center\\\" };\\nconst _hoisted_28 = [\\\"src\\\"];\\nconst _hoisted_29 = { class: \\\"ml-[15px] line-clamp-2\\\" };\\nconst _hoisted_30 = { class: \\\"rank-num flex justify-center\\\" };\\nconst _hoisted_31 = { class: \\\"card-num flex justify-center\\\" };\\nconst _hoisted_32 = { class: \\\"list-bg-bottom flex justify-center items-center\\\" };\\nimport { gameInfoDataApi, gameRankApi } from \\\"@/apis/taskActivity\\\";\\nimport { useAuthStore } from \\\"@/store/modules/auth\\\";\\nimport { useEntryStore } from \\\"@/store/modules/entry\\\";\\nimport { getRandomNumber } from \\\"@/utils/tools\\\";\\nimport { storeToRefs } from \\\"pinia\\\";\\nimport { computed, onMounted, onUnmounted, ref } from \\\"vue\\\";\\nexport default /* @__PURE__ */ _defineComponent({\\n  __name: \\\"RankingList\\\",\\n  setup(__props) {\\n    const EntryStore = useEntryStore();\\n    const { config } = storeToRefs(EntryStore);\\n    const authStore = useAuthStore();\\n    const { userInfo } = storeToRefs(authStore);\\n    const week = ref(1);\\n    const weekOption = ref([\\n      { text: \\\"\\u672C\\u5468\\\", value: 1 },\\n      { text: \\\"\\u4E0A\\u5468\\\", value: -1 }\\n    ]);\\n    const ranks = ref([]);\\n    const showMax = ref(true);\\n    const prizePoolMoney = ref(\\\"0\\\");\\n    const appUserInfo = JSON.parse(localStorage.getItem(\\\"app_user_info\\\") ?? \\\"{}\\\");\\n    const handleToggle = () => {\\n      showMax.value = !showMax.value;\\n    };\\n    const hasMore = computed(() => ranks.value.length > 10);\\n    const visibleRanks = computed(() => ranks.value.slice(0, showMax.value ? 10 : ranks.value.length));\\n    const imgserver_url = computed(() => {\\n      return config.value.Web_Set_DefaultInfo?.imgserver_url?.v || \\\"\\\";\\n    });\\n    const userNickName = computed(() => userInfo.value?.nickname || \\\"\\\");\\n    const onWeekChange = (week2) => {\\n      getRankData();\\n    };\\n    const filterNickName = (nickname) => {\\n      if (!nickname)\\n        return \\\"\\\";\\n      if (nickname.length === 1)\\n        return nickname + \\\"**\\\";\\n      if (nickname.length > 1 && nickname.length < 4)\\n        return nickname.slice(0, 1) + \\\"**\\\" + nickname.slice(1);\\n      return nickname.slice(0, 1) + \\\"**\\\" + nickname.slice(-2);\\n    };\\n    const getRankData = async () => {\\n      try {\\n        const res = await gameRankApi({ week: week.value });\\n        window.log(\\\"\\u6392\\u884C\\u699C\\\", res, userInfo.value?.nickname, userNickName.value);\\n        ranks.value = res;\\n      } catch (err) {\\n        console.error(err);\\n      }\\n    };\\n    const getGameInfoData = async () => {\\n      try {\\n        const res = await gameInfoDataApi({});\\n        window.log(\\\"\\u4E2A\\u4EBA\\u6E38\\u620F\\u4FE1\\u606F\\\", res);\\n        if (res.pools && Math.floor(res.pools) !== Math.floor(+prizePoolMoney.value)) {\\n          prizePoolMoney.value = Math.floor(res.pools).toString().replace(/\\\\d/g, \\\"0\\\");\\n          setTimeout(() => {\\n            prizePoolMoney.value = Math.floor(res.pools).toString();\\n          }, 20);\\n        }\\n      } catch (err) {\\n        console.error(err);\\n      }\\n    };\\n    getGameInfoData().then(() => {\\n      poolIncrease();\\n    });\\n    let poolIncreaseTimer;\\n    const poolIncrease = () => {\\n      const randomSec = getRandomNumber(3e3, 5e3);\\n      poolIncreaseTimer && clearTimeout(poolIncreaseTimer);\\n      poolIncreaseTimer = setTimeout(() => {\\n        getGameInfoData();\\n        poolIncrease();\\n      }, randomSec);\\n    };\\n    onMounted(() => {\\n      getRankData();\\n    });\\n    onUnmounted(() => {\\n      poolIncreaseTimer && clearTimeout(poolIncreaseTimer);\\n      poolIncreaseTimer = null;\\n    });\\n    return (_ctx, _cache) => {\\n      const _component_CountTo = _resolveComponent(\\\"CountTo\\\");\\n      const _component_van_dropdown_item = _resolveComponent(\\\"van-dropdown-item\\\");\\n      const _component_van_dropdown_menu = _resolveComponent(\\\"van-dropdown-menu\\\");\\n      return _openBlock(), _createElementBlock(\\\"div\\\", _hoisted_1, [\\n        _createElementVNode(\\\"div\\\", _hoisted_2, [\\n          _createElementVNode(\\\"div\\\", _hoisted_3, [\\n            _withDirectives(_createVNode(_component_CountTo, { count: prizePoolMoney.value }, null, 8, [\\\"count\\\"]), [\\n              [_vShow, prizePoolMoney.value.length > 1]\\n            ])\\n          ])\\n        ]),\\n        _createCommentVNode(\\\" \\u6392\\u884C\\u699C\\u5185\\u5BB9 \\\"),\\n        _createElementVNode(\\\"div\\\", _hoisted_4, [\\n          _createVNode(_component_van_dropdown_menu, { overlay: false }, {\\n            default: _withCtx(() => [\\n              _createVNode(_component_van_dropdown_item, {\\n                modelValue: week.value,\\n                \\\"onUpdate:modelValue\\\": _cache[0] || (_cache[0] = ($event) => week.value = $event),\\n                options: weekOption.value,\\n                onChange: onWeekChange\\n              }, null, 8, [\\\"modelValue\\\", \\\"options\\\"])\\n            ]),\\n            _: 1\\n            /* STABLE */\\n          }),\\n          _createElementVNode(\\\"div\\\", _hoisted_5, [\\n            _createElementVNode(\\n              \\\"div\\\",\\n              _hoisted_6,\\n              _toDisplayString(week.value === 1 ? \\\"\\u672C\\u5468\\\" : \\\"\\u4E0A\\u5468\\\") + \\\"\\u5408\\u6210\\u6570\\u91CF\\u6392\\u884C\\u699C\\\",\\n              1\\n              /* TEXT */\\n            ),\\n            _hoisted_7\\n          ]),\\n          _createElementVNode(\\\"div\\\", _hoisted_8, [\\n            ranks.value.length ? (_openBlock(), _createElementBlock(\\n              _Fragment,\\n              { key: 0 },\\n              [\\n                _createElementVNode(\\\"div\\\", _hoisted_9, [\\n                  _createElementVNode(\\\"div\\\", _hoisted_10, [\\n                    _createCommentVNode(\\\" <span>{{ ranks[1].nickname.slice(0, 2) }}**{{ ranks[1].nickname.slice(-2) }}</span> \\\"),\\n                    _createElementVNode(\\n                      \\\"span\\\",\\n                      _hoisted_11,\\n                      _toDisplayString(filterNickName(ranks.value[1].nickname)),\\n                      1\\n                      /* TEXT */\\n                    ),\\n                    _createElementVNode(\\\"span\\\", null, [\\n                      _createElementVNode(\\n                        \\\"span\\\",\\n                        _hoisted_12,\\n                        _toDisplayString(ranks.value[1].daily_num),\\n                        1\\n                        /* TEXT */\\n                      ),\\n                      _createTextVNode(\\\" \\u5F20 \\\")\\n                    ])\\n                  ]),\\n                  _createElementVNode(\\\"img\\\", {\\n                    src: imgserver_url.value + ranks.value[1].headimg\\n                  }, null, 8, _hoisted_13)\\n                ]),\\n                _createElementVNode(\\\"div\\\", _hoisted_14, [\\n                  _createElementVNode(\\\"div\\\", _hoisted_15, [\\n                    _createCommentVNode(\\\" <span>{{ ranks[0].nickname.slice(0, 2) }}**{{ ranks[0].nickname.slice(-2) }}</span> \\\"),\\n                    _createElementVNode(\\n                      \\\"span\\\",\\n                      _hoisted_16,\\n                      _toDisplayString(filterNickName(ranks.value[0].nickname)),\\n                      1\\n                      /* TEXT */\\n                    ),\\n                    _createElementVNode(\\\"span\\\", null, [\\n                      _createElementVNode(\\n                        \\\"span\\\",\\n                        _hoisted_17,\\n                        _toDisplayString(ranks.value[0].daily_num),\\n                        1\\n                        /* TEXT */\\n                      ),\\n                      _createTextVNode(\\\" \\u5F20 \\\")\\n                    ])\\n                  ]),\\n                  _createElementVNode(\\\"img\\\", {\\n                    src: imgserver_url.value + ranks.value[0].headimg\\n                  }, null, 8, _hoisted_18)\\n                ]),\\n                _createElementVNode(\\\"div\\\", _hoisted_19, [\\n                  _createElementVNode(\\\"div\\\", _hoisted_20, [\\n                    _createCommentVNode(\\\" <span>{{ ranks[2].nickname.slice(0, 2) }}**{{ ranks[2].nickname.slice(-2) }}</span> \\\"),\\n                    _createElementVNode(\\n                      \\\"span\\\",\\n                      _hoisted_21,\\n                      _toDisplayString(filterNickName(ranks.value[2].nickname)),\\n                      1\\n                      /* TEXT */\\n                    ),\\n                    _createElementVNode(\\\"span\\\", null, [\\n                      _createElementVNode(\\n                        \\\"span\\\",\\n                        _hoisted_22,\\n                        _toDisplayString(ranks.value[2].daily_num),\\n                        1\\n                        /* TEXT */\\n                      ),\\n                      _createTextVNode(\\\" \\u5F20 \\\")\\n                    ])\\n                  ]),\\n                  _createElementVNode(\\\"img\\\", {\\n                    src: imgserver_url.value + ranks.value[2].headimg\\n                  }, null, 8, _hoisted_23)\\n                ])\\n              ],\\n              64\\n              /* STABLE_FRAGMENT */\\n            )) : _createCommentVNode(\\\"v-if\\\", true)\\n          ]),\\n          _hoisted_24,\\n          _createElementVNode(\\\"div\\\", _hoisted_25, [\\n            (_openBlock(true), _createElementBlock(\\n              _Fragment,\\n              null,\\n              _renderList(visibleRanks.value.slice(3), (item, index) => {\\n                return _openBlock(), _createElementBlock(\\n                  \\\"div\\\",\\n                  {\\n                    key: item.nickname,\\n                    class: _normalizeClass([\\\"item-row\\\", { \\\"item-row-self\\\": item.nickname === (userNickName.value || _unref(appUserInfo).nickname) }])\\n                  },\\n                  [\\n                    _createElementVNode(\\\"div\\\", _hoisted_26, [\\n                      _createElementVNode(\\\"div\\\", _hoisted_27, [\\n                        _createElementVNode(\\\"img\\\", {\\n                          src: imgserver_url.value + item.headimg\\n                        }, null, 8, _hoisted_28),\\n                        _createElementVNode(\\\"div\\\", _hoisted_29, [\\n                          _createCommentVNode(\\\" {{ item.nickname.slice(0, 2) }}***{{ item.nickname.slice(-2) }} \\\"),\\n                          _createTextVNode(\\n                            \\\" \\\" + _toDisplayString(filterNickName(item.nickname)),\\n                            1\\n                            /* TEXT */\\n                          )\\n                        ])\\n                      ]),\\n                      _createElementVNode(\\n                        \\\"div\\\",\\n                        _hoisted_30,\\n                        _toDisplayString(item.rank_num > 99 ? \\\"99+\\\" : item.rank_num),\\n                        1\\n                        /* TEXT */\\n                      ),\\n                      _createElementVNode(\\n                        \\\"div\\\",\\n                        _hoisted_31,\\n                        _toDisplayString(item.daily_num),\\n                        1\\n                        /* TEXT */\\n                      )\\n                    ])\\n                  ],\\n                  2\\n                  /* CLASS */\\n                );\\n              }),\\n              128\\n              /* KEYED_FRAGMENT */\\n            ))\\n          ]),\\n          _createElementVNode(\\\"div\\\", _hoisted_32, [\\n            hasMore.value ? (_openBlock(), _createElementBlock(\\n              \\\"div\\\",\\n              {\\n                key: 0,\\n                class: \\\"text-[25px] text-[#eb8f6f]\\\",\\n                onClick: handleToggle\\n              },\\n              _toDisplayString(showMax.value ? \\\"\\u5C55\\u793A\\u66F4\\u591A\\\" : \\\"\\u6536\\u8D77\\\"),\\n              1\\n              /* TEXT */\\n            )) : _createCommentVNode(\\\"v-if\\\", true)\\n          ])\\n        ])\\n      ]);\\n    };\\n  }\\n});\\n\"],\n  \"mappings\": \"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\",\n  \"names\": [\"_a\"]\n}\n"
    },
    {
      "name": "vite:define",
      "start": 1714699771730,
      "end": 1714699771730,
      "order": "normal"
    },
    {
      "name": "vite:css-post",
      "start": 1714699771730,
      "end": 1714699771730,
      "order": "normal"
    },
    {
      "name": "vite:build-html",
      "start": 1714699771730,
      "end": 1714699771730,
      "order": "normal"
    },
    {
      "name": "vite:worker-import-meta-url",
      "start": 1714699771730,
      "end": 1714699771730,
      "order": "normal"
    },
    {
      "name": "vite:asset-import-meta-url",
      "start": 1714699771730,
      "end": 1714699771730,
      "order": "normal"
    },
    {
      "name": "commonjs",
      "start": 1714699771730,
      "end": 1714699771730,
      "order": "normal"
    },
    {
      "name": "vite:dynamic-import-vars",
      "start": 1714699771730,
      "end": 1714699771730,
      "order": "normal"
    },
    {
      "name": "vite:import-glob",
      "start": 1714699771730,
      "end": 1714699771730,
      "order": "normal"
    },
    {
      "name": "unplugin-auto-import",
      "start": 1714699771730,
      "end": 1714699771732,
      "order": "post"
    },
    {
      "name": "unplugin-vue-components",
      "result": "/* unplugin-vue-components disabled */import { DropdownMenu as __unplugin_components_2 } from 'vant/es';import 'vant/es/dropdown-menu/style/index';\nimport { DropdownItem as __unplugin_components_1 } from 'vant/es';import 'vant/es/dropdown-item/style/index';\nimport __unplugin_components_0 from '/Users/afeng/Desktop/work/gdpayh5-web/src/components/Activity/CountTo.vue';\n\"use strict\";\nimport { defineComponent as _defineComponent } from \"vue\";\nimport { resolveComponent as _resolveComponent, vShow as _vShow, createVNode as _createVNode, withDirectives as _withDirectives, createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, withCtx as _withCtx, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, renderList as _renderList, unref as _unref, normalizeClass as _normalizeClass, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = (n) => (_pushScopeId(\"data-v-cef08ad0\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = { class: \"ranking-list-container\" };\nconst _hoisted_2 = { class: \"prize-pool-bg\" };\nconst _hoisted_3 = { class: \"prize-pool-money\" };\nconst _hoisted_4 = { class: \"ranking-content\" };\nconst _hoisted_5 = { class: \"title-bg flex flex-col justify-center items-center text-[#f1d188]\" };\nconst _hoisted_6 = { class: \"text-[34px] font-bold\" };\nconst _hoisted_7 = /* @__PURE__ */ _withScopeId(() => /* @__PURE__ */ _createElementVNode(\n  \"div\",\n  { class: \"sub-title text-[21px] text-[#fb967f] whitespace-nowrap\" },\n  [\n    /* @__PURE__ */ _createTextVNode(\" \\u6392\\u884C\\u699C\\u8C6A\\u793C\\u6BCF\\u5468\\u4E00\\u6D3E\\u5956\\uFF0C\\u6700\\u9AD8\\u53EF\\u5F97 \"),\n    /* @__PURE__ */ _createElementVNode(\"span\", { class: \"text-[#f1d188]\" }, \"1888\"),\n    /* @__PURE__ */ _createTextVNode(\" \\u5927\\u5956 \")\n  ],\n  -1\n  /* HOISTED */\n));\nconst _hoisted_8 = { class: \"podium-bg\" };\nconst _hoisted_9 = { class: \"rank-2nd flex flex-col justify-between items-center\" };\nconst _hoisted_10 = { class: \"flex justify-between items-center text-[21px] text-[#f3aaae]\" };\nconst _hoisted_11 = { class: \"nickname truncate\" };\nconst _hoisted_12 = { class: \"text-[21px] text-[#fee902]\" };\nconst _hoisted_13 = [\"src\"];\nconst _hoisted_14 = { class: \"rank-1st flex flex-col justify-between items-center\" };\nconst _hoisted_15 = { class: \"flex justify-between items-center text-[21px] text-[#f3aaae]\" };\nconst _hoisted_16 = { class: \"nickname truncate\" };\nconst _hoisted_17 = { class: \"text-[21px] text-[#fee902]\" };\nconst _hoisted_18 = [\"src\"];\nconst _hoisted_19 = { class: \"rank-3rd flex flex-col justify-between items-center\" };\nconst _hoisted_20 = { class: \"flex justify-between items-center text-[21px] text-[#f3aaae]\" };\nconst _hoisted_21 = { class: \"nickname truncate\" };\nconst _hoisted_22 = { class: \"text-[21px] text-[#fee902]\" };\nconst _hoisted_23 = [\"src\"];\nconst _hoisted_24 = /* @__PURE__ */ _withScopeId(() => /* @__PURE__ */ _createElementVNode(\n  \"div\",\n  { class: \"list-bg-top\" },\n  [\n    /* @__PURE__ */ _createElementVNode(\"div\", { class: \"list-th flex justify-between items-end\" }, [\n      /* @__PURE__ */ _createElementVNode(\"div\", null, \"\\u4F1A\\u5458\\u4FE1\\u606F\"),\n      /* @__PURE__ */ _createElementVNode(\"div\", null, \"\\u6392\\u540D\"),\n      /* @__PURE__ */ _createElementVNode(\"div\", null, \"\\u5408\\u6210\\u5361\\u6570\")\n    ])\n  ],\n  -1\n  /* HOISTED */\n));\nconst _hoisted_25 = { class: \"list-bg-middle\" };\nconst _hoisted_26 = { class: \"item-content flex justify-between items-center\" };\nconst _hoisted_27 = { class: \"user-info flex items-center\" };\nconst _hoisted_28 = [\"src\"];\nconst _hoisted_29 = { class: \"ml-[15px] line-clamp-2\" };\nconst _hoisted_30 = { class: \"rank-num flex justify-center\" };\nconst _hoisted_31 = { class: \"card-num flex justify-center\" };\nconst _hoisted_32 = { class: \"list-bg-bottom flex justify-center items-center\" };\nimport { gameInfoDataApi, gameRankApi } from \"@/apis/taskActivity\";\nimport { useAuthStore } from \"@/store/modules/auth\";\nimport { useEntryStore } from \"@/store/modules/entry\";\nimport { getRandomNumber } from \"@/utils/tools\";\nimport { storeToRefs } from \"pinia\";\nimport { computed, onMounted, onUnmounted, ref } from \"vue\";\nexport default /* @__PURE__ */ _defineComponent({\n  __name: \"RankingList\",\n  setup(__props) {\n    var _a;\n    const EntryStore = useEntryStore();\n    const { config } = storeToRefs(EntryStore);\n    const authStore = useAuthStore();\n    const { userInfo } = storeToRefs(authStore);\n    const week = ref(1);\n    const weekOption = ref([\n      { text: \"\\u672C\\u5468\", value: 1 },\n      { text: \"\\u4E0A\\u5468\", value: -1 }\n    ]);\n    const ranks = ref([]);\n    const showMax = ref(true);\n    const prizePoolMoney = ref(\"0\");\n    const appUserInfo = JSON.parse((_a = localStorage.getItem(\"app_user_info\")) != null ? _a : \"{}\");\n    const handleToggle = () => {\n      showMax.value = !showMax.value;\n    };\n    const hasMore = computed(() => ranks.value.length > 10);\n    const visibleRanks = computed(() => ranks.value.slice(0, showMax.value ? 10 : ranks.value.length));\n    const imgserver_url = computed(() => {\n      var _a2, _b;\n      return ((_b = (_a2 = config.value.Web_Set_DefaultInfo) == null ? void 0 : _a2.imgserver_url) == null ? void 0 : _b.v) || \"\";\n    });\n    const userNickName = computed(() => {\n      var _a2;\n      return ((_a2 = userInfo.value) == null ? void 0 : _a2.nickname) || \"\";\n    });\n    const onWeekChange = (week2) => {\n      getRankData();\n    };\n    const filterNickName = (nickname) => {\n      if (!nickname)\n        return \"\";\n      if (nickname.length === 1)\n        return nickname + \"**\";\n      if (nickname.length > 1 && nickname.length < 4)\n        return nickname.slice(0, 1) + \"**\" + nickname.slice(1);\n      return nickname.slice(0, 1) + \"**\" + nickname.slice(-2);\n    };\n    const getRankData = async () => {\n      var _a2;\n      try {\n        const res = await gameRankApi({ week: week.value });\n        window.log(\"\\u6392\\u884C\\u699C\", res, (_a2 = userInfo.value) == null ? void 0 : _a2.nickname, userNickName.value);\n        ranks.value = res;\n      } catch (err) {\n        console.error(err);\n      }\n    };\n    const getGameInfoData = async () => {\n      try {\n        const res = await gameInfoDataApi({});\n        window.log(\"\\u4E2A\\u4EBA\\u6E38\\u620F\\u4FE1\\u606F\", res);\n        if (res.pools && Math.floor(res.pools) !== Math.floor(+prizePoolMoney.value)) {\n          prizePoolMoney.value = Math.floor(res.pools).toString().replace(/\\d/g, \"0\");\n          setTimeout(() => {\n            prizePoolMoney.value = Math.floor(res.pools).toString();\n          }, 20);\n        }\n      } catch (err) {\n        console.error(err);\n      }\n    };\n    getGameInfoData().then(() => {\n      poolIncrease();\n    });\n    let poolIncreaseTimer;\n    const poolIncrease = () => {\n      const randomSec = getRandomNumber(3e3, 5e3);\n      poolIncreaseTimer && clearTimeout(poolIncreaseTimer);\n      poolIncreaseTimer = setTimeout(() => {\n        getGameInfoData();\n        poolIncrease();\n      }, randomSec);\n    };\n    onMounted(() => {\n      getRankData();\n    });\n    onUnmounted(() => {\n      poolIncreaseTimer && clearTimeout(poolIncreaseTimer);\n      poolIncreaseTimer = null;\n    });\n    return (_ctx, _cache) => {\n      const _component_CountTo = __unplugin_components_0;\n      const _component_van_dropdown_item = __unplugin_components_1;\n      const _component_van_dropdown_menu = __unplugin_components_2;\n      return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n        _createElementVNode(\"div\", _hoisted_2, [\n          _createElementVNode(\"div\", _hoisted_3, [\n            _withDirectives(_createVNode(_component_CountTo, { count: prizePoolMoney.value }, null, 8, [\"count\"]), [\n              [_vShow, prizePoolMoney.value.length > 1]\n            ])\n          ])\n        ]),\n        _createCommentVNode(\" \\u6392\\u884C\\u699C\\u5185\\u5BB9 \"),\n        _createElementVNode(\"div\", _hoisted_4, [\n          _createVNode(_component_van_dropdown_menu, { overlay: false }, {\n            default: _withCtx(() => [\n              _createVNode(_component_van_dropdown_item, {\n                modelValue: week.value,\n                \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event) => week.value = $event),\n                options: weekOption.value,\n                onChange: onWeekChange\n              }, null, 8, [\"modelValue\", \"options\"])\n            ]),\n            _: 1\n            /* STABLE */\n          }),\n          _createElementVNode(\"div\", _hoisted_5, [\n            _createElementVNode(\n              \"div\",\n              _hoisted_6,\n              _toDisplayString(week.value === 1 ? \"\\u672C\\u5468\" : \"\\u4E0A\\u5468\") + \"\\u5408\\u6210\\u6570\\u91CF\\u6392\\u884C\\u699C\",\n              1\n              /* TEXT */\n            ),\n            _hoisted_7\n          ]),\n          _createElementVNode(\"div\", _hoisted_8, [\n            ranks.value.length ? (_openBlock(), _createElementBlock(\n              _Fragment,\n              { key: 0 },\n              [\n                _createElementVNode(\"div\", _hoisted_9, [\n                  _createElementVNode(\"div\", _hoisted_10, [\n                    _createCommentVNode(\" <span>{{ ranks[1].nickname.slice(0, 2) }}**{{ ranks[1].nickname.slice(-2) }}</span> \"),\n                    _createElementVNode(\n                      \"span\",\n                      _hoisted_11,\n                      _toDisplayString(filterNickName(ranks.value[1].nickname)),\n                      1\n                      /* TEXT */\n                    ),\n                    _createElementVNode(\"span\", null, [\n                      _createElementVNode(\n                        \"span\",\n                        _hoisted_12,\n                        _toDisplayString(ranks.value[1].daily_num),\n                        1\n                        /* TEXT */\n                      ),\n                      _createTextVNode(\" \\u5F20 \")\n                    ])\n                  ]),\n                  _createElementVNode(\"img\", {\n                    src: imgserver_url.value + ranks.value[1].headimg\n                  }, null, 8, _hoisted_13)\n                ]),\n                _createElementVNode(\"div\", _hoisted_14, [\n                  _createElementVNode(\"div\", _hoisted_15, [\n                    _createCommentVNode(\" <span>{{ ranks[0].nickname.slice(0, 2) }}**{{ ranks[0].nickname.slice(-2) }}</span> \"),\n                    _createElementVNode(\n                      \"span\",\n                      _hoisted_16,\n                      _toDisplayString(filterNickName(ranks.value[0].nickname)),\n                      1\n                      /* TEXT */\n                    ),\n                    _createElementVNode(\"span\", null, [\n                      _createElementVNode(\n                        \"span\",\n                        _hoisted_17,\n                        _toDisplayString(ranks.value[0].daily_num),\n                        1\n                        /* TEXT */\n                      ),\n                      _createTextVNode(\" \\u5F20 \")\n                    ])\n                  ]),\n                  _createElementVNode(\"img\", {\n                    src: imgserver_url.value + ranks.value[0].headimg\n                  }, null, 8, _hoisted_18)\n                ]),\n                _createElementVNode(\"div\", _hoisted_19, [\n                  _createElementVNode(\"div\", _hoisted_20, [\n                    _createCommentVNode(\" <span>{{ ranks[2].nickname.slice(0, 2) }}**{{ ranks[2].nickname.slice(-2) }}</span> \"),\n                    _createElementVNode(\n                      \"span\",\n                      _hoisted_21,\n                      _toDisplayString(filterNickName(ranks.value[2].nickname)),\n                      1\n                      /* TEXT */\n                    ),\n                    _createElementVNode(\"span\", null, [\n                      _createElementVNode(\n                        \"span\",\n                        _hoisted_22,\n                        _toDisplayString(ranks.value[2].daily_num),\n                        1\n                        /* TEXT */\n                      ),\n                      _createTextVNode(\" \\u5F20 \")\n                    ])\n                  ]),\n                  _createElementVNode(\"img\", {\n                    src: imgserver_url.value + ranks.value[2].headimg\n                  }, null, 8, _hoisted_23)\n                ])\n              ],\n              64\n              /* STABLE_FRAGMENT */\n            )) : _createCommentVNode(\"v-if\", true)\n          ]),\n          _hoisted_24,\n          _createElementVNode(\"div\", _hoisted_25, [\n            (_openBlock(true), _createElementBlock(\n              _Fragment,\n              null,\n              _renderList(visibleRanks.value.slice(3), (item, index) => {\n                return _openBlock(), _createElementBlock(\n                  \"div\",\n                  {\n                    key: item.nickname,\n                    class: _normalizeClass([\"item-row\", { \"item-row-self\": item.nickname === (userNickName.value || _unref(appUserInfo).nickname) }])\n                  },\n                  [\n                    _createElementVNode(\"div\", _hoisted_26, [\n                      _createElementVNode(\"div\", _hoisted_27, [\n                        _createElementVNode(\"img\", {\n                          src: imgserver_url.value + item.headimg\n                        }, null, 8, _hoisted_28),\n                        _createElementVNode(\"div\", _hoisted_29, [\n                          _createCommentVNode(\" {{ item.nickname.slice(0, 2) }}***{{ item.nickname.slice(-2) }} \"),\n                          _createTextVNode(\n                            \" \" + _toDisplayString(filterNickName(item.nickname)),\n                            1\n                            /* TEXT */\n                          )\n                        ])\n                      ]),\n                      _createElementVNode(\n                        \"div\",\n                        _hoisted_30,\n                        _toDisplayString(item.rank_num > 99 ? \"99+\" : item.rank_num),\n                        1\n                        /* TEXT */\n                      ),\n                      _createElementVNode(\n                        \"div\",\n                        _hoisted_31,\n                        _toDisplayString(item.daily_num),\n                        1\n                        /* TEXT */\n                      )\n                    ])\n                  ],\n                  2\n                  /* CLASS */\n                );\n              }),\n              128\n              /* KEYED_FRAGMENT */\n            ))\n          ]),\n          _createElementVNode(\"div\", _hoisted_32, [\n            hasMore.value ? (_openBlock(), _createElementBlock(\n              \"div\",\n              {\n                key: 0,\n                class: \"text-[25px] text-[#eb8f6f]\",\n                onClick: handleToggle\n              },\n              _toDisplayString(showMax.value ? \"\\u5C55\\u793A\\u66F4\\u591A\" : \"\\u6536\\u8D77\"),\n              1\n              /* TEXT */\n            )) : _createCommentVNode(\"v-if\", true)\n          ])\n        ])\n      ]);\n    };\n  }\n});\n",
      "start": 1714699771732,
      "end": 1714699771732,
      "order": "post",
      "sourcemaps": {
        "version": 3,
        "sources": [
          "/Users/afeng/Desktop/work/gdpayh5-web/src/pages/Activity/RankingList.vue?vue&type=script&setup=true&lang.ts"
        ],
        "sourcesContent": [
          "\"use strict\";\nimport { defineComponent as _defineComponent } from \"vue\";\nimport { resolveComponent as _resolveComponent, vShow as _vShow, createVNode as _createVNode, withDirectives as _withDirectives, createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, withCtx as _withCtx, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, renderList as _renderList, unref as _unref, normalizeClass as _normalizeClass, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = (n) => (_pushScopeId(\"data-v-cef08ad0\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = { class: \"ranking-list-container\" };\nconst _hoisted_2 = { class: \"prize-pool-bg\" };\nconst _hoisted_3 = { class: \"prize-pool-money\" };\nconst _hoisted_4 = { class: \"ranking-content\" };\nconst _hoisted_5 = { class: \"title-bg flex flex-col justify-center items-center text-[#f1d188]\" };\nconst _hoisted_6 = { class: \"text-[34px] font-bold\" };\nconst _hoisted_7 = /* @__PURE__ */ _withScopeId(() => /* @__PURE__ */ _createElementVNode(\n  \"div\",\n  { class: \"sub-title text-[21px] text-[#fb967f] whitespace-nowrap\" },\n  [\n    /* @__PURE__ */ _createTextVNode(\" \\u6392\\u884C\\u699C\\u8C6A\\u793C\\u6BCF\\u5468\\u4E00\\u6D3E\\u5956\\uFF0C\\u6700\\u9AD8\\u53EF\\u5F97 \"),\n    /* @__PURE__ */ _createElementVNode(\"span\", { class: \"text-[#f1d188]\" }, \"1888\"),\n    /* @__PURE__ */ _createTextVNode(\" \\u5927\\u5956 \")\n  ],\n  -1\n  /* HOISTED */\n));\nconst _hoisted_8 = { class: \"podium-bg\" };\nconst _hoisted_9 = { class: \"rank-2nd flex flex-col justify-between items-center\" };\nconst _hoisted_10 = { class: \"flex justify-between items-center text-[21px] text-[#f3aaae]\" };\nconst _hoisted_11 = { class: \"nickname truncate\" };\nconst _hoisted_12 = { class: \"text-[21px] text-[#fee902]\" };\nconst _hoisted_13 = [\"src\"];\nconst _hoisted_14 = { class: \"rank-1st flex flex-col justify-between items-center\" };\nconst _hoisted_15 = { class: \"flex justify-between items-center text-[21px] text-[#f3aaae]\" };\nconst _hoisted_16 = { class: \"nickname truncate\" };\nconst _hoisted_17 = { class: \"text-[21px] text-[#fee902]\" };\nconst _hoisted_18 = [\"src\"];\nconst _hoisted_19 = { class: \"rank-3rd flex flex-col justify-between items-center\" };\nconst _hoisted_20 = { class: \"flex justify-between items-center text-[21px] text-[#f3aaae]\" };\nconst _hoisted_21 = { class: \"nickname truncate\" };\nconst _hoisted_22 = { class: \"text-[21px] text-[#fee902]\" };\nconst _hoisted_23 = [\"src\"];\nconst _hoisted_24 = /* @__PURE__ */ _withScopeId(() => /* @__PURE__ */ _createElementVNode(\n  \"div\",\n  { class: \"list-bg-top\" },\n  [\n    /* @__PURE__ */ _createElementVNode(\"div\", { class: \"list-th flex justify-between items-end\" }, [\n      /* @__PURE__ */ _createElementVNode(\"div\", null, \"\\u4F1A\\u5458\\u4FE1\\u606F\"),\n      /* @__PURE__ */ _createElementVNode(\"div\", null, \"\\u6392\\u540D\"),\n      /* @__PURE__ */ _createElementVNode(\"div\", null, \"\\u5408\\u6210\\u5361\\u6570\")\n    ])\n  ],\n  -1\n  /* HOISTED */\n));\nconst _hoisted_25 = { class: \"list-bg-middle\" };\nconst _hoisted_26 = { class: \"item-content flex justify-between items-center\" };\nconst _hoisted_27 = { class: \"user-info flex items-center\" };\nconst _hoisted_28 = [\"src\"];\nconst _hoisted_29 = { class: \"ml-[15px] line-clamp-2\" };\nconst _hoisted_30 = { class: \"rank-num flex justify-center\" };\nconst _hoisted_31 = { class: \"card-num flex justify-center\" };\nconst _hoisted_32 = { class: \"list-bg-bottom flex justify-center items-center\" };\nimport { gameInfoDataApi, gameRankApi } from \"@/apis/taskActivity\";\nimport { useAuthStore } from \"@/store/modules/auth\";\nimport { useEntryStore } from \"@/store/modules/entry\";\nimport { getRandomNumber } from \"@/utils/tools\";\nimport { storeToRefs } from \"pinia\";\nimport { computed, onMounted, onUnmounted, ref } from \"vue\";\nexport default /* @__PURE__ */ _defineComponent({\n  __name: \"RankingList\",\n  setup(__props) {\n    var _a;\n    const EntryStore = useEntryStore();\n    const { config } = storeToRefs(EntryStore);\n    const authStore = useAuthStore();\n    const { userInfo } = storeToRefs(authStore);\n    const week = ref(1);\n    const weekOption = ref([\n      { text: \"\\u672C\\u5468\", value: 1 },\n      { text: \"\\u4E0A\\u5468\", value: -1 }\n    ]);\n    const ranks = ref([]);\n    const showMax = ref(true);\n    const prizePoolMoney = ref(\"0\");\n    const appUserInfo = JSON.parse((_a = localStorage.getItem(\"app_user_info\")) != null ? _a : \"{}\");\n    const handleToggle = () => {\n      showMax.value = !showMax.value;\n    };\n    const hasMore = computed(() => ranks.value.length > 10);\n    const visibleRanks = computed(() => ranks.value.slice(0, showMax.value ? 10 : ranks.value.length));\n    const imgserver_url = computed(() => {\n      var _a2, _b;\n      return ((_b = (_a2 = config.value.Web_Set_DefaultInfo) == null ? void 0 : _a2.imgserver_url) == null ? void 0 : _b.v) || \"\";\n    });\n    const userNickName = computed(() => {\n      var _a2;\n      return ((_a2 = userInfo.value) == null ? void 0 : _a2.nickname) || \"\";\n    });\n    const onWeekChange = (week2) => {\n      getRankData();\n    };\n    const filterNickName = (nickname) => {\n      if (!nickname)\n        return \"\";\n      if (nickname.length === 1)\n        return nickname + \"**\";\n      if (nickname.length > 1 && nickname.length < 4)\n        return nickname.slice(0, 1) + \"**\" + nickname.slice(1);\n      return nickname.slice(0, 1) + \"**\" + nickname.slice(-2);\n    };\n    const getRankData = async () => {\n      var _a2;\n      try {\n        const res = await gameRankApi({ week: week.value });\n        window.log(\"\\u6392\\u884C\\u699C\", res, (_a2 = userInfo.value) == null ? void 0 : _a2.nickname, userNickName.value);\n        ranks.value = res;\n      } catch (err) {\n        console.error(err);\n      }\n    };\n    const getGameInfoData = async () => {\n      try {\n        const res = await gameInfoDataApi({});\n        window.log(\"\\u4E2A\\u4EBA\\u6E38\\u620F\\u4FE1\\u606F\", res);\n        if (res.pools && Math.floor(res.pools) !== Math.floor(+prizePoolMoney.value)) {\n          prizePoolMoney.value = Math.floor(res.pools).toString().replace(/\\d/g, \"0\");\n          setTimeout(() => {\n            prizePoolMoney.value = Math.floor(res.pools).toString();\n          }, 20);\n        }\n      } catch (err) {\n        console.error(err);\n      }\n    };\n    getGameInfoData().then(() => {\n      poolIncrease();\n    });\n    let poolIncreaseTimer;\n    const poolIncrease = () => {\n      const randomSec = getRandomNumber(3e3, 5e3);\n      poolIncreaseTimer && clearTimeout(poolIncreaseTimer);\n      poolIncreaseTimer = setTimeout(() => {\n        getGameInfoData();\n        poolIncrease();\n      }, randomSec);\n    };\n    onMounted(() => {\n      getRankData();\n    });\n    onUnmounted(() => {\n      poolIncreaseTimer && clearTimeout(poolIncreaseTimer);\n      poolIncreaseTimer = null;\n    });\n    return (_ctx, _cache) => {\n      const _component_CountTo = _resolveComponent(\"CountTo\");\n      const _component_van_dropdown_item = _resolveComponent(\"van-dropdown-item\");\n      const _component_van_dropdown_menu = _resolveComponent(\"van-dropdown-menu\");\n      return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n        _createElementVNode(\"div\", _hoisted_2, [\n          _createElementVNode(\"div\", _hoisted_3, [\n            _withDirectives(_createVNode(_component_CountTo, { count: prizePoolMoney.value }, null, 8, [\"count\"]), [\n              [_vShow, prizePoolMoney.value.length > 1]\n            ])\n          ])\n        ]),\n        _createCommentVNode(\" \\u6392\\u884C\\u699C\\u5185\\u5BB9 \"),\n        _createElementVNode(\"div\", _hoisted_4, [\n          _createVNode(_component_van_dropdown_menu, { overlay: false }, {\n            default: _withCtx(() => [\n              _createVNode(_component_van_dropdown_item, {\n                modelValue: week.value,\n                \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event) => week.value = $event),\n                options: weekOption.value,\n                onChange: onWeekChange\n              }, null, 8, [\"modelValue\", \"options\"])\n            ]),\n            _: 1\n            /* STABLE */\n          }),\n          _createElementVNode(\"div\", _hoisted_5, [\n            _createElementVNode(\n              \"div\",\n              _hoisted_6,\n              _toDisplayString(week.value === 1 ? \"\\u672C\\u5468\" : \"\\u4E0A\\u5468\") + \"\\u5408\\u6210\\u6570\\u91CF\\u6392\\u884C\\u699C\",\n              1\n              /* TEXT */\n            ),\n            _hoisted_7\n          ]),\n          _createElementVNode(\"div\", _hoisted_8, [\n            ranks.value.length ? (_openBlock(), _createElementBlock(\n              _Fragment,\n              { key: 0 },\n              [\n                _createElementVNode(\"div\", _hoisted_9, [\n                  _createElementVNode(\"div\", _hoisted_10, [\n                    _createCommentVNode(\" <span>{{ ranks[1].nickname.slice(0, 2) }}**{{ ranks[1].nickname.slice(-2) }}</span> \"),\n                    _createElementVNode(\n                      \"span\",\n                      _hoisted_11,\n                      _toDisplayString(filterNickName(ranks.value[1].nickname)),\n                      1\n                      /* TEXT */\n                    ),\n                    _createElementVNode(\"span\", null, [\n                      _createElementVNode(\n                        \"span\",\n                        _hoisted_12,\n                        _toDisplayString(ranks.value[1].daily_num),\n                        1\n                        /* TEXT */\n                      ),\n                      _createTextVNode(\" \\u5F20 \")\n                    ])\n                  ]),\n                  _createElementVNode(\"img\", {\n                    src: imgserver_url.value + ranks.value[1].headimg\n                  }, null, 8, _hoisted_13)\n                ]),\n                _createElementVNode(\"div\", _hoisted_14, [\n                  _createElementVNode(\"div\", _hoisted_15, [\n                    _createCommentVNode(\" <span>{{ ranks[0].nickname.slice(0, 2) }}**{{ ranks[0].nickname.slice(-2) }}</span> \"),\n                    _createElementVNode(\n                      \"span\",\n                      _hoisted_16,\n                      _toDisplayString(filterNickName(ranks.value[0].nickname)),\n                      1\n                      /* TEXT */\n                    ),\n                    _createElementVNode(\"span\", null, [\n                      _createElementVNode(\n                        \"span\",\n                        _hoisted_17,\n                        _toDisplayString(ranks.value[0].daily_num),\n                        1\n                        /* TEXT */\n                      ),\n                      _createTextVNode(\" \\u5F20 \")\n                    ])\n                  ]),\n                  _createElementVNode(\"img\", {\n                    src: imgserver_url.value + ranks.value[0].headimg\n                  }, null, 8, _hoisted_18)\n                ]),\n                _createElementVNode(\"div\", _hoisted_19, [\n                  _createElementVNode(\"div\", _hoisted_20, [\n                    _createCommentVNode(\" <span>{{ ranks[2].nickname.slice(0, 2) }}**{{ ranks[2].nickname.slice(-2) }}</span> \"),\n                    _createElementVNode(\n                      \"span\",\n                      _hoisted_21,\n                      _toDisplayString(filterNickName(ranks.value[2].nickname)),\n                      1\n                      /* TEXT */\n                    ),\n                    _createElementVNode(\"span\", null, [\n                      _createElementVNode(\n                        \"span\",\n                        _hoisted_22,\n                        _toDisplayString(ranks.value[2].daily_num),\n                        1\n                        /* TEXT */\n                      ),\n                      _createTextVNode(\" \\u5F20 \")\n                    ])\n                  ]),\n                  _createElementVNode(\"img\", {\n                    src: imgserver_url.value + ranks.value[2].headimg\n                  }, null, 8, _hoisted_23)\n                ])\n              ],\n              64\n              /* STABLE_FRAGMENT */\n            )) : _createCommentVNode(\"v-if\", true)\n          ]),\n          _hoisted_24,\n          _createElementVNode(\"div\", _hoisted_25, [\n            (_openBlock(true), _createElementBlock(\n              _Fragment,\n              null,\n              _renderList(visibleRanks.value.slice(3), (item, index) => {\n                return _openBlock(), _createElementBlock(\n                  \"div\",\n                  {\n                    key: item.nickname,\n                    class: _normalizeClass([\"item-row\", { \"item-row-self\": item.nickname === (userNickName.value || _unref(appUserInfo).nickname) }])\n                  },\n                  [\n                    _createElementVNode(\"div\", _hoisted_26, [\n                      _createElementVNode(\"div\", _hoisted_27, [\n                        _createElementVNode(\"img\", {\n                          src: imgserver_url.value + item.headimg\n                        }, null, 8, _hoisted_28),\n                        _createElementVNode(\"div\", _hoisted_29, [\n                          _createCommentVNode(\" {{ item.nickname.slice(0, 2) }}***{{ item.nickname.slice(-2) }} \"),\n                          _createTextVNode(\n                            \" \" + _toDisplayString(filterNickName(item.nickname)),\n                            1\n                            /* TEXT */\n                          )\n                        ])\n                      ]),\n                      _createElementVNode(\n                        \"div\",\n                        _hoisted_30,\n                        _toDisplayString(item.rank_num > 99 ? \"99+\" : item.rank_num),\n                        1\n                        /* TEXT */\n                      ),\n                      _createElementVNode(\n                        \"div\",\n                        _hoisted_31,\n                        _toDisplayString(item.daily_num),\n                        1\n                        /* TEXT */\n                      )\n                    ])\n                  ],\n                  2\n                  /* CLASS */\n                );\n              }),\n              128\n              /* KEYED_FRAGMENT */\n            ))\n          ]),\n          _createElementVNode(\"div\", _hoisted_32, [\n            hasMore.value ? (_openBlock(), _createElementBlock(\n              \"div\",\n              {\n                key: 0,\n                class: \"text-[25px] text-[#eb8f6f]\",\n                onClick: handleToggle\n              },\n              _toDisplayString(showMax.value ? \"\\u5C55\\u793A\\u66F4\\u591A\" : \"\\u6536\\u8D77\"),\n              1\n              /* TEXT */\n            )) : _createCommentVNode(\"v-if\", true)\n          ])\n        ])\n      ]);\n    };\n  }\n});\n"
        ],
        "names": [],
        "mappings": ";;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,uBAA4B;AAC7D,2CAA2C,uBAAsC;AACjF,2CAA2C,uBAAsC;AACjF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;"
      }
    },
    {
      "name": "vite:style-import",
      "start": 1714699771732,
      "end": 1714699771732,
      "order": "post"
    },
    {
      "name": "vite:build-import-analysis",
      "start": 1714699771732,
      "end": 1714699771732,
      "order": "normal"
    },
    {
      "name": "vite:reporter",
      "start": 1714699771732,
      "end": 1714699771732,
      "order": "normal"
    }
  ]
}
