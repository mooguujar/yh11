{
  "resolvedId": "/Users/afeng/Desktop/work/gdpayh5-web/src/pages/Order/list.vue",
  "transforms": [
    {
      "name": "vite:load-fallback",
      "result": "<template>\n  <div\n    class=\"mine w-100 bg-[#f6fbff] overflow-y-scroll\"\n    :class=\"{ 'max-w-[750px]': !wideMode }\"\n  >\n    <nav-bar\n      class=\"nav-bar\"\n      title=\"挂单详情\"\n      mode=\"blue\"\n    />\n\n    <div\n      class=\"order-content pt-[22px] bg-[#fff] rounded-md fixed w-full\"\n      :class=\"{ 'max-w-[750px]': !wideMode }\"\n    >\n      <div class=\"w-full relative bg-[#f6fbff]\">\n        <div class=\"bg-white px-[33px] pb-[20px]\">\n          <div class=\"flex items-center justify-start mb-[15px]\">\n            <div class=\"text-[#787f8c] text-[25px] mr-[20px]\">挂单编号</div>\n            <div class=\"text-[#000] text-[25px]\">{{ sumData.order_id }}</div>\n            <CardList\n              :coin-protocol=\"sumData.coin_protocol\"\n              class=\"ml-[auto]\"\n            />\n          </div>\n          <div class=\"flex items-center justify-start mb-[15px]\">\n            <div class=\"text-[#787f8c] text-[25px] mr-[20px]\">挂单金额</div>\n            <div class=\"font-bold text-[#000] text-[30px]\">\n              {{ financial(sumData.sell_num) }}\n              <span class=\"text-[#a6a6a6]\">{{ moveBrick ? 'CNY' : coin_name }}</span>\n            </div>\n          </div>\n          <div class=\"flex items-center justify-start mb-[15px]\">\n            <div class=\"text-[#787f8c] text-[25px] mr-[20px]\">剩余金额</div>\n            <div class=\"font-bold text-[#000] text-[30px]\">\n              {{ financial(sumData.remaining_num) }}\n              <span class=\"text-[#a6a6a6]\">{{ moveBrick ? 'CNY' : coin_name }}</span>\n            </div>\n          </div>\n          <div class=\"flex items-center justify-start mb-[15px]\">\n            <div class=\"text-[#787f8c] text-[25px] mr-[20px]\">\n              {{ moveBrick ? '搬砖' : '已获' }}奖励\n            </div>\n            <div class=\"font-bold text-[#000] text-[30px]\">\n              {{ (sumData.sell_gift && (+sumData.sell_gift).toTruncFixed(3)) || '0.000' }}\n              <span class=\"text-[#a6a6a6]\">{{ moveBrick ? 'CNY' : coin_name }}</span>\n            </div>\n          </div>\n        </div>\n        <div\n          class=\"order-details-list pt-[20px] w-full h-[calc(100vh-365px)] pb-[100px] overflow-scroll fixed\"\n          :class=\"{ 'max-w-[750px]': !wideMode }\"\n          v-if=\"list.length > 0\"\n        >\n          <van-list>\n            <div\n              class=\"buy-item h-[307px] mb-[20px] mx-[33px] pt-[20px] border-0 border-solid border-b border-[#d8dce8]\"\n              v-for=\"item in list\"\n              :key=\"item\"\n            >\n              <div class=\"flex items-center justify-between mb-[15px]\">\n                <div class=\"text-[#13161b] text-[25px]\">{{ item.addtime }}</div>\n                <div :class=\"`font-bold ${renderBuyStatusText(item.status).color} text-[28px]`\">\n                  {{ renderBuyStatusText(item.status).text }}\n                </div>\n              </div>\n              <div class=\"flex items-center justify-between mb-[10px]\">\n                <div class=\"text-[#787f8c] text-[20px]\">订单金额</div>\n                <div class=\"font-bold text-[#000] text-[32px]\">\n                  {{ financial(item.buy_num) }}\n                  <span class=\"text-[#a6a6a6]\">{{ moveBrick ? 'CNY' : coin_name }}</span>\n                </div>\n              </div>\n              <div class=\"flex items-center justify-between mb-[10px]\">\n                <div class=\"text-[#787f8c] text-[20px]\">订单编号</div>\n                <div class=\"text-[#13161b] text-[25px] flex items-center font-semibold\">\n                  {{ item.order_id }}\n                  <div\n                    class=\"copy ml-[10px]\"\n                    @click=\"copy(item.order_id)\"\n                  ></div>\n                </div>\n              </div>\n              <div class=\"flex items-center justify-between mb-[10px]\">\n                <div class=\"text-[#787f8c] text-[20px]\">{{ moveBrick ? '搬砖' : '额外' }}奖励</div>\n                <div class=\"text-[#13161b] text-[25px] flex items-center\">\n                  {{ financial(item.sell_gift) }}\n                  <span class=\"text-[#a6a6a6] ml-[6px]\">{{ moveBrick ? 'CNY' : coin_name }}</span>\n                </div>\n              </div>\n              <div class=\"flex items-center justify-between mb-[15px]\">\n                <div class=\"text-[#13161b] text-[25px] flex items-center\">\n                  <img\n                    class=\"w-[57px] h-[57px] block mr-[10px] rounded-sm\"\n                    :src=\"imgServerUrl + item.headimg\"\n                    alt=\"\"\n                  />\n                  <span class=\"text-[28px]\">{{ item.nickname }}</span>\n                </div>\n                <div\n                  class=\"btn bg-[var(--van-button-primary-background)] text-white text-[28px] w-[181px] h-[63px] flex items-center justify-center rounded-[7px]\"\n                  @click=\"\n                    router.push(\n                      `/${targetRoute}?order_id=${item.order_id}&sellsumData=${JSON.stringify(\n                        sumData\n                      )}`\n                    )\n                  \"\n                >\n                  订单详情\n                </div>\n              </div>\n            </div>\n          </van-list>\n          <div\n            class=\"no-data flex flex-col items-center\"\n            v-if=\"sumData?.status === 1\"\n          >\n            <van-button\n              size=\"large\"\n              color=\"var(--van-button-primary-background)\"\n              @click=\"cancelOrder\"\n            >\n              取消挂单\n            </van-button>\n          </div>\n        </div>\n        <div\n          class=\"no-data flex flex-col items-center\"\n          v-if=\"list.length == 0\"\n        >\n          <img :src=\"noData\" />\n          <div class=\"text-no-data\">暂无数据</div>\n          <van-button\n            size=\"large\"\n            color=\"var(--van-button-primary-background)\"\n            @click=\"cancelOrder\"\n            v-if=\"sumData?.status === 1\"\n          >\n            取消挂单\n          </van-button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nconst coin_name = sessionStorage.getItem('coin_name')\nimport { SellCancel, SellOrderDetail } from '@/apis/buySellCoin'\nimport noData from '@/assets/images/common/noData.png'\nimport success from '@/assets/images/common/success.png'\nimport verified from '@/assets/images/common/verified.png'\nimport { useAppBar } from '@/components/AppBar/useAppBar'\nimport { useAuthStore, useEntryStore } from '@/store'\nimport { mergeHrefParams } from '@/utils/tools'\nimport { showToast } from 'vant'\nimport { onMounted, ref } from 'vue'\nimport clipboard3 from 'vue-clipboard3'\nimport { useRoute, useRouter } from 'vue-router'\n\nconst search = new URLSearchParams(mergeHrefParams())\nconst hs = search.get('hs') || ''\nconst wideMode = hs === 'h'\nconst targetRoute = wideMode ? 'wideOrderCreate' : 'orderCreate'\n\nuseAppBar({ mode: 'dark' })\n\nconst entryStore = useEntryStore()\nconst imgServerUrl = entryStore.imgServerUrl\nconst authStore = useAuthStore()\nconst router = useRouter()\n\nconst route = useRoute()\nconst moveBrick = ref(0)\nconst { query } = route\nmoveBrick.value = +(query.moveBrick as string) == 1 ? 1 : 0\nconst financial = (x: string) => {\n  return x ? Number.parseFloat(x).toTruncFixed(2) : '0.00'\n}\n\nconst { toClipboard } = clipboard3()\nconst copy = async (text: any) => {\n  try {\n    await toClipboard(text)\n    // showToast('复制成功');\n    showToast({\n      message: '复制成功',\n      icon: verified,\n      iconSize: '48px'\n    })\n  } catch (error) {\n    // showToast('复制失败!!');\n    showToast({\n      message: '复制失败!!',\n      icon: verified\n    })\n  }\n}\n\nconst action_tabs = [\n  {\n    title: '买币'\n  },\n  {\n    title: '卖币'\n  }\n]\n\nconst action_index = ref(0)\n\nconst status_tabs = [\n  {\n    title: '进行中',\n    path: '?status=1'\n  },\n  {\n    title: '已完成',\n    path: '?status=2'\n  }\n]\n\nconst renderBuyStatusText = (status: number) => {\n  const buyStatusList = [\n    { text: '等待卖家确认', color: 'text-[var(--van-button-primary-background)]' },\n    { text: '卖家拒绝', color: 'text-[#777]' },\n    { text: '付款中', color: 'text-[#ff0000]' },\n    { text: '付款超时', color: 'text-[#777]' },\n    { text: '取消买入', color: 'text-[#777]' },\n    { text: '已付待收', color: 'text-[#ff0000]' },\n    { text: '挂起待确认', color: 'text-[#ff0000]' },\n    { text: '交易完成', color: 'text-[#58cf00]' },\n    { text: '强制失败', color: 'text-[#58cf00]' },\n    { text: '强制成功', color: 'text-[#58cf00]' }\n  ]\n  return buyStatusList[status - 1]\n}\n\nconst status_index = ref(0)\n\nconst list = ref<any[]>([])\n\nconst { coins, editreview } = authStore\nconst current_coin = ref({\n  mtype: 0,\n  coin_name: '',\n  coin_unit: 'GDB',\n  coincash: '',\n  available_coincash: '',\n  status: 0,\n  wallet_type: '',\n  service_fee: ''\n})\nconst getUserInfo = async () => {\n  try {\n    const coin = coins.filter(coin => coin?.coin_unit === 'GDB')?.[0]\n\n    current_coin.value = coin\n\n    console.log(editreview, 'editreview')\n  } catch (e) {\n    console.log(e)\n  }\n}\n\nconst sumData = ref<any>({})\nconst maping_buy_info = ref({})\nconst getSellOrderDetail = async () => {\n  try {\n    const res = await SellOrderDetail({ order_id: query.order_id as string })\n    if (!res.order_id) return console.log('Selldata数据异常')\n    sumData.value = res\n    maping_buy_info.value = res.maping_buy_info\n    list.value = res.buy_orders\n    console.log(list.value, 'list.value')\n  } catch (e) {\n    console.log(e)\n  }\n}\n\nconst cancelOrder = async () => {\n  const res: any = await SellCancel({ sell_order_id: query.order_id as string })\n  if (!res?.code) {\n    showToast({\n      message: `挂单已取消`,\n      icon: success\n    })\n  }\n  await getSellOrderDetail()\n  setTimeout(() => {\n    router.back()\n  }, 1000)\n}\n\nonMounted(() => {\n  getUserInfo()\n  getSellOrderDetail()\n})\n</script>\n\n<style lang=\"scss\" scoped>\n@import '@/assets/styles/sprite-home.scss';\n@import '@/assets/styles/sprite-mine.scss';\n\n.mine {\n  position: relative;\n  flex-direction: column;\n  width: 100%;\n  height: 100%;\n}\n\n.nav-bar {\n  padding-bottom: 45px;\n}\n\n.action-btn {\n  &:nth-child(1):after {\n    content: '';\n    height: 40px;\n    top: 5px;\n    position: absolute;\n    right: 0;\n    border-right: 1px solid #d6dce8 !important;\n  }\n}\n\n.no-data {\n  width: 300px;\n  margin: 0 auto;\n  margin-top: 120px;\n\n  img {\n    width: 180px;\n    height: 130px;\n    margin: 0 auto 20px;\n    // height: 110px;\n  }\n\n  .text-no-data {\n    width: 100%;\n    margin-bottom: 22px;\n    color: #999;\n    font-size: 28px;\n    text-align: center;\n  }\n}\n\n:deep(.van-tabs__nav) {\n  background: transparent !important;\n\n  &.active {\n    color: var(--van-button-primary-background);\n    font-weight: bold;\n  }\n}\n\n:deep(.van-tab) {\n  color: #868d9a;\n  font-weight: normal;\n}\n\n:deep(.van-tab--active) {\n  color: var(--van-button-primary-background) !important;\n  font-weight: bold !important;\n}\n\n.order-content {\n  top: calc(125px + constant(safe-area-inset-top));\n  top: calc(125px + env(safe-area-inset-top));\n}\n.order-details-list {\n  top: calc(365px + constant(safe-area-inset-top));\n  top: calc(365px + env(safe-area-inset-top));\n}\n</style>\n",
      "start": 1714699769402,
      "end": 1714699769442,
      "sourcemaps": null
    },
    {
      "name": "vite:css",
      "start": 1714699769442,
      "end": 1714699769442,
      "order": "normal"
    },
    {
      "name": "vite:esbuild",
      "start": 1714699769442,
      "end": 1714699769442,
      "order": "normal"
    },
    {
      "name": "vite:json",
      "start": 1714699769442,
      "end": 1714699769442,
      "order": "normal"
    },
    {
      "name": "vite:worker",
      "start": 1714699769442,
      "end": 1714699769442,
      "order": "normal"
    },
    {
      "name": "vite:vue",
      "result": "import _sfc_main from \"/Users/afeng/Desktop/work/gdpayh5-web/src/pages/Order/list.vue?vue&type=script&setup=true&lang.ts\";\nexport * from \"/Users/afeng/Desktop/work/gdpayh5-web/src/pages/Order/list.vue?vue&type=script&setup=true&lang.ts\";\nimport \"/Users/afeng/Desktop/work/gdpayh5-web/src/pages/Order/list.vue?vue&type=style&index=0&scoped=35b44cab&lang.scss\";\nimport _export_sfc from \"\\0plugin-vue:export-helper\";\nexport default /* @__PURE__ */ _export_sfc(_sfc_main, [[\"__scopeId\", \"data-v-35b44cab\"], [\"__file\", \"/Users/afeng/Desktop/work/gdpayh5-web/src/pages/Order/list.vue\"]]);\n",
      "start": 1714699769442,
      "end": 1714699769587,
      "order": "normal",
      "sourcemaps": {
        "mappings": ""
      }
    },
    {
      "name": "vite:vue-jsx",
      "start": 1714699769587,
      "end": 1714699769587,
      "order": "normal"
    },
    {
      "name": "vite-plugin-vconsole",
      "result": "import _sfc_main from \"/Users/afeng/Desktop/work/gdpayh5-web/src/pages/Order/list.vue?vue&type=script&setup=true&lang.ts\";\nexport * from \"/Users/afeng/Desktop/work/gdpayh5-web/src/pages/Order/list.vue?vue&type=script&setup=true&lang.ts\";\nimport \"/Users/afeng/Desktop/work/gdpayh5-web/src/pages/Order/list.vue?vue&type=style&index=0&scoped=35b44cab&lang.scss\";\nimport _export_sfc from \"\\0plugin-vue:export-helper\";\nexport default /* @__PURE__ */ _export_sfc(_sfc_main, [[\"__scopeId\", \"data-v-35b44cab\"], [\"__file\", \"/Users/afeng/Desktop/work/gdpayh5-web/src/pages/Order/list.vue\"]]);\n",
      "start": 1714699769587,
      "end": 1714699769587,
      "order": "normal",
      "sourcemaps": null
    },
    {
      "name": "esbuild",
      "result": "\"use strict\";\nimport _sfc_main from \"/Users/afeng/Desktop/work/gdpayh5-web/src/pages/Order/list.vue?vue&type=script&setup=true&lang.ts\";\nexport * from \"/Users/afeng/Desktop/work/gdpayh5-web/src/pages/Order/list.vue?vue&type=script&setup=true&lang.ts\";\nimport \"/Users/afeng/Desktop/work/gdpayh5-web/src/pages/Order/list.vue?vue&type=style&index=0&scoped=35b44cab&lang.scss\";\nimport _export_sfc from \"\\0plugin-vue:export-helper\";\nexport default /* @__PURE__ */ _export_sfc(_sfc_main, [[\"__scopeId\", \"data-v-35b44cab\"], [\"__file\", \"/Users/afeng/Desktop/work/gdpayh5-web/src/pages/Order/list.vue\"]]);\n",
      "start": 1714699769587,
      "end": 1714699770122,
      "order": "normal",
      "sourcemaps": "{\n  \"version\": 3,\n  \"sources\": [\"/Users/afeng/Desktop/work/gdpayh5-web/src/pages/Order/list.vue\"],\n  \"sourcesContent\": [\"import _sfc_main from \\\"/Users/afeng/Desktop/work/gdpayh5-web/src/pages/Order/list.vue?vue&type=script&setup=true&lang.ts\\\";\\nexport * from \\\"/Users/afeng/Desktop/work/gdpayh5-web/src/pages/Order/list.vue?vue&type=script&setup=true&lang.ts\\\";\\nimport \\\"/Users/afeng/Desktop/work/gdpayh5-web/src/pages/Order/list.vue?vue&type=style&index=0&scoped=35b44cab&lang.scss\\\";\\nimport _export_sfc from \\\"\\\\0plugin-vue:export-helper\\\";\\nexport default /* @__PURE__ */ _export_sfc(_sfc_main, [[\\\"__scopeId\\\", \\\"data-v-35b44cab\\\"], [\\\"__file\\\", \\\"/Users/afeng/Desktop/work/gdpayh5-web/src/pages/Order/list.vue\\\"]]);\\n\"],\n  \"mappings\": \";AAAA,OAAO,eAAe;AACtB,cAAc;AACd,OAAO;AACP,OAAO,iBAAiB;AACxB,eAA+B,4BAAY,WAAW,CAAC,CAAC,aAAa,iBAAiB,GAAG,CAAC,UAAU,gEAAgE,CAAC,CAAC;\",\n  \"names\": []\n}\n"
    },
    {
      "name": "vite:define",
      "start": 1714699770122,
      "end": 1714699770122,
      "order": "normal"
    },
    {
      "name": "vite:css-post",
      "start": 1714699770122,
      "end": 1714699770122,
      "order": "normal"
    },
    {
      "name": "vite:build-html",
      "start": 1714699770122,
      "end": 1714699770122,
      "order": "normal"
    },
    {
      "name": "vite:worker-import-meta-url",
      "start": 1714699770122,
      "end": 1714699770122,
      "order": "normal"
    },
    {
      "name": "vite:asset-import-meta-url",
      "start": 1714699770122,
      "end": 1714699770122,
      "order": "normal"
    },
    {
      "name": "commonjs",
      "start": 1714699770122,
      "end": 1714699770122,
      "order": "normal"
    },
    {
      "name": "vite:dynamic-import-vars",
      "start": 1714699770122,
      "end": 1714699770122,
      "order": "normal"
    },
    {
      "name": "vite:import-glob",
      "start": 1714699770122,
      "end": 1714699770122,
      "order": "normal"
    },
    {
      "name": "unplugin-auto-import",
      "start": 1714699770122,
      "end": 1714699770123,
      "order": "post"
    },
    {
      "name": "unplugin-vue-components",
      "result": "/* unplugin-vue-components disabled */\"use strict\";\nimport _sfc_main from \"/Users/afeng/Desktop/work/gdpayh5-web/src/pages/Order/list.vue?vue&type=script&setup=true&lang.ts\";\nexport * from \"/Users/afeng/Desktop/work/gdpayh5-web/src/pages/Order/list.vue?vue&type=script&setup=true&lang.ts\";\nimport \"/Users/afeng/Desktop/work/gdpayh5-web/src/pages/Order/list.vue?vue&type=style&index=0&scoped=35b44cab&lang.scss\";\nimport _export_sfc from \"\\0plugin-vue:export-helper\";\nexport default /* @__PURE__ */ _export_sfc(_sfc_main, [[\"__scopeId\", \"data-v-35b44cab\"], [\"__file\", \"/Users/afeng/Desktop/work/gdpayh5-web/src/pages/Order/list.vue\"]]);\n",
      "start": 1714699770123,
      "end": 1714699770123,
      "order": "post",
      "sourcemaps": {
        "version": 3,
        "sources": [
          "/Users/afeng/Desktop/work/gdpayh5-web/src/pages/Order/list.vue"
        ],
        "sourcesContent": [
          "\"use strict\";\nimport _sfc_main from \"/Users/afeng/Desktop/work/gdpayh5-web/src/pages/Order/list.vue?vue&type=script&setup=true&lang.ts\";\nexport * from \"/Users/afeng/Desktop/work/gdpayh5-web/src/pages/Order/list.vue?vue&type=script&setup=true&lang.ts\";\nimport \"/Users/afeng/Desktop/work/gdpayh5-web/src/pages/Order/list.vue?vue&type=style&index=0&scoped=35b44cab&lang.scss\";\nimport _export_sfc from \"\\0plugin-vue:export-helper\";\nexport default /* @__PURE__ */ _export_sfc(_sfc_main, [[\"__scopeId\", \"data-v-35b44cab\"], [\"__file\", \"/Users/afeng/Desktop/work/gdpayh5-web/src/pages/Order/list.vue\"]]);\n"
        ],
        "names": [],
        "mappings": "sCAAA;AACA;AACA;AACA;AACA;AACA;"
      }
    },
    {
      "name": "vite:style-import",
      "start": 1714699770124,
      "end": 1714699770124,
      "order": "post"
    },
    {
      "name": "vite:build-import-analysis",
      "start": 1714699770124,
      "end": 1714699770124,
      "order": "normal"
    },
    {
      "name": "vite:reporter",
      "start": 1714699770124,
      "end": 1714699770124,
      "order": "normal"
    }
  ]
}
