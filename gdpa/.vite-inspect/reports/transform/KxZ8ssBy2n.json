{
  "resolvedId": "/Users/afeng/Desktop/work/gdpayh5-web/src/pages/Bricks/WithdrawCoins.vue?vue&type=script&setup=true&lang.ts",
  "transforms": [
    {
      "name": "vite:vue",
      "result": "import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, renderList as _renderList, Fragment as _Fragment, createTextVNode as _createTextVNode, withModifiers as _withModifiers, withCtx as _withCtx, unref as _unref, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-89dbcde0\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"withdraw-coins-container\" }\nconst _hoisted_2 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"blue-bg-container\" }, null, -1 /* HOISTED */))\nconst _hoisted_3 = { class: \"main-content-container flex flex-col justify-between items-center\" }\nconst _hoisted_4 = { class: \"wallet-container flex flex-col justify-center items-center\" }\nconst _hoisted_5 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"available-text\" }, \"可用余额\", -1 /* HOISTED */))\nconst _hoisted_6 = { class: \"money\" }\nconst _hoisted_7 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", { class: \"usdt-text\" }, \"USDT\", -1 /* HOISTED */))\nconst _hoisted_8 = { class: \"protocols-address-container\" }\nconst _hoisted_9 = { class: \"item-row item-title-row flex justify-between items-center\" }\nconst _hoisted_10 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"label\" }, \"提现信息\", -1 /* HOISTED */))\nconst _hoisted_11 = { class: \"item-row flex justify-between items-center\" }\nconst _hoisted_12 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"label\" }, \"昵称\", -1 /* HOISTED */))\nconst _hoisted_13 = { class: \"value\" }\nconst _hoisted_14 = { class: \"item-row flex justify-between items-center\" }\nconst _hoisted_15 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"label\" }, \"协议\", -1 /* HOISTED */))\nconst _hoisted_16 = { class: \"value\" }\nconst _hoisted_17 = { class: \"item-row flex justify-between items-center\" }\nconst _hoisted_18 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"label\" }, \"提现地址\", -1 /* HOISTED */))\nconst _hoisted_19 = { class: \"value\" }\nconst _hoisted_20 = { class: \"withdraw-coins-info-container\" }\nconst _hoisted_21 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"withdraw-coins-amount-text\" }, \"提币数量\", -1 /* HOISTED */))\nconst _hoisted_22 = { class: \"input-container flex justify-between items-center\" }\nconst _hoisted_23 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"coin-unit\" }, \"USDT\", -1 /* HOISTED */))\nconst _hoisted_24 = { class: \"label\" }\nconst _hoisted_25 = { class: \"value\" }\nconst _hoisted_26 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", null, \"USDT\", -1 /* HOISTED */))\nconst _hoisted_27 = {\n  key: 1,\n  class: \"bind-address-tips\"\n}\nconst _hoisted_28 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"withdraw-coins-tips\" }, \"需要注意提币地址的最低充值金额，否则提现不会到账\", -1 /* HOISTED */))\nconst _hoisted_29 = [\"onClick\"]\nconst _hoisted_30 = { class: \"pt-[5px] ml-[23px] mr-[auto]\" }\nconst _hoisted_31 = { class: \"text-[28px] text-[#343434]\" }\nconst _hoisted_32 = { class: \"text-[28px] text-[#979595]\" }\n\nimport { getMoneyWithdrawApi } from '@/apis/user'\nimport info from '@/assets/images/common/info.png'\nimport warning from '@/assets/images/common/warning.png'\nimport { useAppBar } from '@/components/AppBar/useAppBar'\nimport { useAuthStore } from '@/store/modules/auth'\nimport { useCoinBuySellStore } from '@/store/modules/coinBuySell/buySell'\nimport { useCommonStore } from '@/store/modules/common'\nimport { useEntryStore } from '@/store/modules/entry'\nimport { withdrawddresslist as IWithdrawddressList } from '@/store/types/buySellCoin'\nimport { IMoneyWithdraw } from '@/store/types/coin'\nimport mitt from '@/utils/mitt'\nimport { requireImg } from '@/utils/tools'\nimport { storeToRefs } from 'pinia'\nimport { showToast } from 'vant'\nimport { computed, nextTick, onMounted, ref, watch, watchEffect } from 'vue'\nimport { useRouter } from 'vue-router'\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'WithdrawCoins',\n  setup(__props) {\n\nuseAppBar({ mode: 'dark' })\nconst router = useRouter()\nconst coinBuySellStore = useCoinBuySellStore()\nconst { getWithdrawddresslist } = coinBuySellStore\nconst { withdrawddresslist } = storeToRefs(coinBuySellStore)\n\nconst authStore = useAuthStore()\nconst { getUserCoin } = authStore\nconst { coins } = storeToRefs(authStore)\n\nconst commonStore = useCommonStore()\n\nconst EntryStore = useEntryStore()\nconst { config } = storeToRefs(EntryStore)\n\n// 扣款相关条目配置数据\nconst withDrawCoins = ref([\n  { label: '手续费(2%)', value: '0.00' },\n  { label: '实际扣款', value: '0.00' },\n  { label: '最小提现', value: '0.00' },\n  { label: '最大提现', value: '0.00' }\n])\n// 提币数量输入\nconst withDrawCoinsAmount = ref('')\nconst isLoading = ref(true)\n\nconst isConfirmDialog = ref(false)\n// 支付密码输入\nconst pay_pass = ref('')\n// 数字键盘显示\nconst showKeyboard = ref(false)\n// USDT弹层切换显示\nconst showUSDTCardSheet = ref(false)\n\n// ref节点引用\nconst payPass = ref()\nconst numberKeyboard = ref()\n\n// USDT币种协议，地址等信息\nconst withdrawCoinInfo = ref<IWithdrawddressList>({} as IWithdrawddressList)\n\n// 图片资源域名\nconst imgserver_url = computed(() => {\n  // console.log('(imgserver_url',(config.value.Web_Set_DefaultInfo?.imgserver_url as any)?.v);\n  return (config.value.Web_Set_DefaultInfo?.imgserver_url as any)?.v || ''\n})\n// USDT币种信息\nconst coinInfo = computed(() => coins.value?.find(item => item.mtype === 2))\n// usdt卡列表\nconst usdtCardList = computed(() => {\n  const list =\n    withdrawddresslist.value?.filter(\n      item => item.coin_protocol === 'USDT_TRC20' && item.status === 1\n    ) ?? []\n  list.sort((l1, l2) => l1.def_card - l2.def_card)\n\n  return list\n})\n// 最大可提币数量(扣减手续费后)\nconst maxAvailableWithdraw = computed(\n  () => +coinInfo.value!.available_coincash / (1 + +coinInfo.value!.coinset_config!.fee_withdraw)\n)\n\nconst slectMenu = (item: IWithdrawddressList) => {\n  withdrawCoinInfo.value = item\n  showUSDTCardSheet.value = false\n}\n\n// 修正光标位置\nconst updateCursorPos = (onlyUpdateValue = false) => {\n  setTimeout(() => {\n    let amountInputEl = document.querySelector('.amount-input input') as HTMLInputElement\n\n    if (amountInputEl) {\n      amountInputEl.value = withDrawCoinsAmount.value\n\n      if (onlyUpdateValue) {\n        // 释放dom引用\n        amountInputEl = null as any\n        return\n      }\n\n      // 光标开始处\n      amountInputEl.selectionStart = withDrawCoinsAmount.value.length\n      // 光标结束处\n      amountInputEl.selectionEnd = withDrawCoinsAmount.value.length\n      // 释放dom引用\n      amountInputEl = null as any\n    }\n  }, 20)\n}\n\n// 更新USDT提币地址信息\nwatch(withdrawddresslist, (val, oldVal) => {\n  withdrawCoinInfo.value = withdrawddresslist.value?.find(\n    item => item.coin_protocol === 'USDT_TRC20' && item.def_card === 1\n  ) as IWithdrawddressList\n})\n\n// 输入内容修正\nwatch(withDrawCoinsAmount, (val, oldVal) => {\n  // 小数点开头，自动补齐0.\n  if (val === '.' || val.startsWith('00')) {\n    withDrawCoinsAmount.value = '0.'\n    updateCursorPos()\n    return\n  }\n\n  // 00开头变为0\n  if (oldVal && val.startsWith('0')) {\n    withDrawCoinsAmount.value = '0'\n  }\n\n  // 小数位数保留2位\n  const dotIndex = val.indexOf('.')\n  if (~dotIndex) {\n    const str = val.slice(dotIndex + 1, val.length)\n    const replacer = (match: string, p1: string, p2: string) => {\n      if (p1.startsWith('0') && +p1 > 0) {\n        return '0'\n      }\n      return p1 + '.' + p2\n    }\n    const newAmount = val.replace(/^(\\d+)\\.(\\d\\d).*$/, replacer)\n\n    withDrawCoinsAmount.value = newAmount\n    updateCursorPos(true)\n    return\n  }\n\n  // 提币输入超过最大提币数量时，变为最大可提币输入\n  if (+val > +maxAvailableWithdraw.value) {\n    withDrawCoinsAmount.value = maxAvailableWithdraw.value.toTruncFixed(2)\n    updateCursorPos()\n  }\n})\n\n// 更新扣款相关条目数据\nwatchEffect(() => {\n  // 手续费费率\n  const withdrawFeeRate = +coinInfo.value!.coinset_config!.fee_withdraw\n  // 手续费\n  const withdrawFee = (+(withDrawCoinsAmount.value || 0) * withdrawFeeRate).toTruncFixed(2)\n  // 实际扣款\n  const actualDebuction = (+(withDrawCoinsAmount.value ?? 0) * (1 + withdrawFeeRate)).toTruncFixed(\n    2\n  )\n  // 最小提现\n  const minWithdraw = (+coinInfo.value!.coinset_config!.min_withdraw).toTruncFixed(2)\n  // 最大提现\n  const maxWithdraw = (+coinInfo.value!.coinset_config!.max_withdraw).toTruncFixed(2)\n\n  withDrawCoins.value = [\n    {\n      label: `手续费(${withdrawFeeRate * 100}%)`,\n      value: withdrawFee\n    },\n    { label: '实际扣款', value: actualDebuction },\n    { label: '最小提现', value: minWithdraw },\n    { label: '最大提现', value: maxWithdraw }\n  ]\n})\n\n// 最大提币数量\nconst onMaxAmount = () => {\n  withDrawCoinsAmount.value = maxAvailableWithdraw.value.toTruncFixed(2)\n}\n\n// 确定/绑定地址\nconst onSubmit = () => {\n  if (withdrawCoinInfo.value?.coin_address) {\n    // 未输入\n    if (!withDrawCoinsAmount.value) {\n      showToast({\n        message: '请输入提币数量',\n        icon: info,\n        iconSize: '48px'\n      })\n      return\n    }\n\n    // 不满足最小提现\n    if (withDrawCoinsAmount.value < coinInfo.value!.coinset_config!.min_withdraw) {\n      showToast({\n        message: '提现数量小于最小提现',\n        icon: info,\n        iconSize: '48px'\n      })\n      return\n    }\n\n    // 余额不足\n    if (\n      +coinInfo.value!.available_coincash < +withDrawCoins.value[1].value ||\n      !+coinInfo.value!.available_coincash\n    ) {\n      showToast({\n        message: '余额不足',\n        icon: warning,\n        iconSize: '48px'\n      })\n      return\n    }\n\n    isConfirmDialog.value = true\n    showKeyboard.value = true\n\n    nextTick(() => {\n      payPass.value?.focus()\n      payPass.value?.click?.()\n\n      payPass.value.$el.querySelector('input[type=password]').focus()\n    })\n  } else {\n    router.push('/usdt')\n  }\n}\n\n// 数字键盘位置修正\nconst onNumberKeyboardShow = () => {\n  mitt.emit('number-keyboard-show')\n}\n\nconst onFocus = () => {\n  showKeyboard.value = true\n}\n\nconst onCloseAuthConfirm = () => {\n  isConfirmDialog.value = false\n  showKeyboard.value = false\n  pay_pass.value = ''\n}\n\n// 支付确认\nconst onConfirmPayPass = async () => {\n  if (pay_pass.value.length < 6) {\n    showToast({\n      message: '请输入6位支付密码',\n      icon: info,\n      iconSize: '48px'\n    })\n    return\n  }\n\n  try {\n    commonStore.setShowLoading(true)\n    const res = await getMoneyWithdrawApi({\n      money: withDrawCoinsAmount.value,\n      id: withdrawCoinInfo.value!.id,\n      coin_address: withdrawCoinInfo.value!.coin_address,\n      passwd: pay_pass.value\n    })\n\n    if ((res as IMoneyWithdraw).orderID) {\n      mitt.emit('dialog-tips', {\n        title: '提示',\n        content: '您的提现信息提交成功，请等待客服审核。',\n        confirmButtonText: '确定',\n        confirmAction: () => {\n          router.push('/details/coin-details/usdt')\n        }\n      })\n    } else {\n      onCloseAuthConfirm()\n    }\n  } catch (error) {\n    console.error(error)\n  } finally {\n    commonStore.setShowLoading(false)\n  }\n}\n\n// 初始化提币输入框绑定事件\nconst initAmountEvent = () => {\n  nextTick(() => {\n    // 提币输入框禁止输入特定字符\n    const amountInputEl = document.querySelector('.amount-input input') as HTMLInputElement\n    if (amountInputEl) {\n      amountInputEl.onkeydown = e => {\n        if (['-', '+'].includes(e.key)) {\n          return e.preventDefault()\n        }\n      }\n    }\n  })\n}\n\n// 初始化请求数据\nconst getInitData = async () => {\n  try {\n    isLoading.value = true\n    if (!coins.value.length) {\n      getUserCoin({})\n    }\n    getWithdrawddresslist({})\n  } catch (error) {\n    console.error(error)\n  } finally {\n    isLoading.value = false\n    initAmountEvent()\n  }\n}\n\nonMounted(() => {\n  getInitData()\n  mitt.emit('number-keyboard-show')\n  mitt.emit('action-sheet-show')\n})\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_van_field = _resolveComponent(\"van-field\")!\n  const _component_van_dialog = _resolveComponent(\"van-dialog\")!\n  const _component_van_image = _resolveComponent(\"van-image\")!\n  const _component_van_action_sheet = _resolveComponent(\"van-action-sheet\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _hoisted_2,\n    _createElementVNode(\"div\", _hoisted_3, [\n      _createElementVNode(\"div\", _hoisted_4, [\n        _hoisted_5,\n        _createElementVNode(\"div\", null, [\n          _createElementVNode(\"span\", _hoisted_6, _toDisplayString((+(coinInfo.value?.available_coincash ?? '0')).toTruncFixed(2)), 1 /* TEXT */),\n          _hoisted_7\n        ])\n      ]),\n      (!isLoading.value)\n        ? (_openBlock(), _createElementBlock(_Fragment, { key: 0 }, [\n            (withdrawCoinInfo.value?.coin_address)\n              ? (_openBlock(), _createElementBlock(_Fragment, { key: 0 }, [\n                  _createElementVNode(\"div\", _hoisted_8, [\n                    _createElementVNode(\"div\", _hoisted_9, [\n                      _hoisted_10,\n                      (usdtCardList.value.length > 1)\n                        ? (_openBlock(), _createElementBlock(\"div\", {\n                            key: 0,\n                            class: \"value toggle-select-text\",\n                            onClick: _cache[0] || (_cache[0] = ($event: any) => (showUSDTCardSheet.value = true))\n                          }, \" 选择 \"))\n                        : _createCommentVNode(\"v-if\", true)\n                    ]),\n                    _createElementVNode(\"div\", _hoisted_11, [\n                      _hoisted_12,\n                      _createElementVNode(\"div\", _hoisted_13, _toDisplayString(withdrawCoinInfo.value?.account_bank_realname), 1 /* TEXT */)\n                    ]),\n                    _createElementVNode(\"div\", _hoisted_14, [\n                      _hoisted_15,\n                      _createElementVNode(\"div\", _hoisted_16, _toDisplayString(withdrawCoinInfo.value?.coin_protocol ?? 'USDT_TRC20'), 1 /* TEXT */)\n                    ]),\n                    _createElementVNode(\"div\", _hoisted_17, [\n                      _hoisted_18,\n                      _createElementVNode(\"div\", _hoisted_19, _toDisplayString(withdrawCoinInfo.value?.coin_address ?? '--'), 1 /* TEXT */)\n                    ])\n                  ]),\n                  _createElementVNode(\"div\", _hoisted_20, [\n                    _hoisted_21,\n                    _createElementVNode(\"div\", _hoisted_22, [\n                      _createCommentVNode(\" 允许输入数字，调起带符号的纯数字键盘 \"),\n                      _createVNode(_component_van_field, {\n                        modelValue: withDrawCoinsAmount.value,\n                        \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => ((withDrawCoinsAmount).value = $event)),\n                        type: \"number\",\n                        placeholder: \"请输入提币数量\",\n                        class: \"amount-input\"\n                      }, null, 8 /* PROPS */, [\"modelValue\"]),\n                      _hoisted_23,\n                      _createElementVNode(\"div\", {\n                        class: \"max-amount\",\n                        onClick: onMaxAmount\n                      }, \" 最大 \")\n                    ]),\n                    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(withDrawCoins.value, (item, index) => {\n                      return (_openBlock(), _createElementBlock(\"div\", {\n                        key: index,\n                        class: \"row-item flex justify-between items-center\"\n                      }, [\n                        _createElementVNode(\"div\", _hoisted_24, _toDisplayString(item.label), 1 /* TEXT */),\n                        _createElementVNode(\"div\", _hoisted_25, [\n                          _createTextVNode(_toDisplayString(item.value) + \" \", 1 /* TEXT */),\n                          _hoisted_26\n                        ])\n                      ]))\n                    }), 128 /* KEYED_FRAGMENT */))\n                  ])\n                ], 64 /* STABLE_FRAGMENT */))\n              : (_openBlock(), _createElementBlock(\"div\", _hoisted_27, \" 请先绑定提币地址 \"))\n          ], 64 /* STABLE_FRAGMENT */))\n        : _createCommentVNode(\"v-if\", true),\n      _hoisted_28,\n      _createElementVNode(\"div\", {\n        class: \"btn-submit text-center\",\n        onClick: onSubmit\n      }, _toDisplayString(withdrawCoinInfo.value?.coin_address ? '确定' : '绑定地址'), 1 /* TEXT */)\n    ]),\n    _createVNode(_component_van_dialog, {\n      show: isConfirmDialog.value,\n      \"onUpdate:show\": _cache[3] || (_cache[3] = ($event: any) => ((isConfirmDialog).value = $event)),\n      title: \"身份验证\",\n      theme: \"round-button\",\n      className: \"dialog-auth\"\n    }, {\n      footer: _withCtx(() => [\n        _createElementVNode(\"div\", {\n          class: \"btn-confirm flex items-center justify-center\",\n          onClick: onConfirmPayPass\n        }, \" 提交 \")\n      ]),\n      default: _withCtx(() => [\n        _createElementVNode(\"i\", {\n          class: \"icon-close close-dark block\",\n          onClick: onCloseAuthConfirm\n        }),\n        _createElementVNode(\"div\", null, [\n          _createVNode(_component_van_field, {\n            modelValue: pay_pass.value,\n            \"onUpdate:modelValue\": _cache[2] || (_cache[2] = ($event: any) => ((pay_pass).value = $event)),\n            ref_key: \"payPass\",\n            ref: payPass,\n            placeholder: \"请输入支付密码\",\n            type: \"number\",\n            maxlength: 6,\n            clickable: \"\",\n            onTouchstart: _withModifiers(onFocus, [\"stop\"]),\n            onFocus: onFocus\n          }, null, 8 /* PROPS */, [\"modelValue\"])\n        ])\n      ]),\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"show\"]),\n    _createCommentVNode(\" USDT选择弹层 \"),\n    _createVNode(_component_van_action_sheet, {\n      show: showUSDTCardSheet.value,\n      \"onUpdate:show\": _cache[4] || (_cache[4] = ($event: any) => ((showUSDTCardSheet).value = $event)),\n      description: \"USDT提现地址\",\n      class: \"!w-[750px] usdt-sheet full-w-sheet\",\n      \"lazy-render\": false\n    }, {\n      default: _withCtx(() => [\n        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(usdtCardList.value, (item, index) => {\n          return (_openBlock(), _createElementBlock(\"div\", {\n            class: \"item-card flex justify-between items-center\",\n            onClick: ($event: any) => (slectMenu(item)),\n            key: item.id\n          }, [\n            _createVNode(_component_van_image, {\n              \"lazy-load\": \"\",\n              class: \"usdt-icon\",\n              src: _unref(requireImg)('common/usdt-icon.png')\n            }, null, 8 /* PROPS */, [\"src\"]),\n            _createElementVNode(\"div\", _hoisted_30, [\n              _createElementVNode(\"p\", _hoisted_31, _toDisplayString(item.coin_protocol), 1 /* TEXT */),\n              _createElementVNode(\"p\", _hoisted_32, _toDisplayString(item.account_bank_realname), 1 /* TEXT */)\n            ]),\n            (item.id == withdrawCoinInfo.value.id)\n              ? (_openBlock(), _createBlock(_component_van_image, {\n                  key: 0,\n                  class: \"toggle-container mr-[15px]\",\n                  src: _unref(requireImg)('common/success.png')\n                }, null, 8 /* PROPS */, [\"src\"]))\n              : (_openBlock(), _createBlock(_component_van_image, {\n                  key: 1,\n                  class: \"toggle-container mr-[15px]\",\n                  src: _unref(requireImg)('common/hui.png')\n                }, null, 8 /* PROPS */, [\"src\"]))\n          ], 8 /* PROPS */, _hoisted_29))\n        }), 128 /* KEYED_FRAGMENT */))\n      ]),\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"show\"])\n  ]))\n}\n}\n\n})",
      "start": 1714699769954,
      "end": 1714699769954
    },
    {
      "name": "vite:css",
      "start": 1714699769954,
      "end": 1714699769954,
      "order": "normal"
    },
    {
      "name": "vite:esbuild",
      "result": "import { defineComponent as _defineComponent } from \"vue\";\nimport { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, renderList as _renderList, Fragment as _Fragment, createTextVNode as _createTextVNode, withModifiers as _withModifiers, withCtx as _withCtx, unref as _unref, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = (n) => (_pushScopeId(\"data-v-89dbcde0\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = { class: \"withdraw-coins-container\" };\nconst _hoisted_2 = /* @__PURE__ */ _withScopeId(() => /* @__PURE__ */ _createElementVNode(\n  \"div\",\n  { class: \"blue-bg-container\" },\n  null,\n  -1\n  /* HOISTED */\n));\nconst _hoisted_3 = { class: \"main-content-container flex flex-col justify-between items-center\" };\nconst _hoisted_4 = { class: \"wallet-container flex flex-col justify-center items-center\" };\nconst _hoisted_5 = /* @__PURE__ */ _withScopeId(() => /* @__PURE__ */ _createElementVNode(\n  \"div\",\n  { class: \"available-text\" },\n  \"可用余额\",\n  -1\n  /* HOISTED */\n));\nconst _hoisted_6 = { class: \"money\" };\nconst _hoisted_7 = /* @__PURE__ */ _withScopeId(() => /* @__PURE__ */ _createElementVNode(\n  \"span\",\n  { class: \"usdt-text\" },\n  \"USDT\",\n  -1\n  /* HOISTED */\n));\nconst _hoisted_8 = { class: \"protocols-address-container\" };\nconst _hoisted_9 = { class: \"item-row item-title-row flex justify-between items-center\" };\nconst _hoisted_10 = /* @__PURE__ */ _withScopeId(() => /* @__PURE__ */ _createElementVNode(\n  \"div\",\n  { class: \"label\" },\n  \"提现信息\",\n  -1\n  /* HOISTED */\n));\nconst _hoisted_11 = { class: \"item-row flex justify-between items-center\" };\nconst _hoisted_12 = /* @__PURE__ */ _withScopeId(() => /* @__PURE__ */ _createElementVNode(\n  \"div\",\n  { class: \"label\" },\n  \"昵称\",\n  -1\n  /* HOISTED */\n));\nconst _hoisted_13 = { class: \"value\" };\nconst _hoisted_14 = { class: \"item-row flex justify-between items-center\" };\nconst _hoisted_15 = /* @__PURE__ */ _withScopeId(() => /* @__PURE__ */ _createElementVNode(\n  \"div\",\n  { class: \"label\" },\n  \"协议\",\n  -1\n  /* HOISTED */\n));\nconst _hoisted_16 = { class: \"value\" };\nconst _hoisted_17 = { class: \"item-row flex justify-between items-center\" };\nconst _hoisted_18 = /* @__PURE__ */ _withScopeId(() => /* @__PURE__ */ _createElementVNode(\n  \"div\",\n  { class: \"label\" },\n  \"提现地址\",\n  -1\n  /* HOISTED */\n));\nconst _hoisted_19 = { class: \"value\" };\nconst _hoisted_20 = { class: \"withdraw-coins-info-container\" };\nconst _hoisted_21 = /* @__PURE__ */ _withScopeId(() => /* @__PURE__ */ _createElementVNode(\n  \"div\",\n  { class: \"withdraw-coins-amount-text\" },\n  \"提币数量\",\n  -1\n  /* HOISTED */\n));\nconst _hoisted_22 = { class: \"input-container flex justify-between items-center\" };\nconst _hoisted_23 = /* @__PURE__ */ _withScopeId(() => /* @__PURE__ */ _createElementVNode(\n  \"div\",\n  { class: \"coin-unit\" },\n  \"USDT\",\n  -1\n  /* HOISTED */\n));\nconst _hoisted_24 = { class: \"label\" };\nconst _hoisted_25 = { class: \"value\" };\nconst _hoisted_26 = /* @__PURE__ */ _withScopeId(() => /* @__PURE__ */ _createElementVNode(\n  \"span\",\n  null,\n  \"USDT\",\n  -1\n  /* HOISTED */\n));\nconst _hoisted_27 = {\n  key: 1,\n  class: \"bind-address-tips\"\n};\nconst _hoisted_28 = /* @__PURE__ */ _withScopeId(() => /* @__PURE__ */ _createElementVNode(\n  \"div\",\n  { class: \"withdraw-coins-tips\" },\n  \"需要注意提币地址的最低充值金额，否则提现不会到账\",\n  -1\n  /* HOISTED */\n));\nconst _hoisted_29 = [\"onClick\"];\nconst _hoisted_30 = { class: \"pt-[5px] ml-[23px] mr-[auto]\" };\nconst _hoisted_31 = { class: \"text-[28px] text-[#343434]\" };\nconst _hoisted_32 = { class: \"text-[28px] text-[#979595]\" };\nimport { getMoneyWithdrawApi } from \"@/apis/user\";\nimport info from \"@/assets/images/common/info.png\";\nimport warning from \"@/assets/images/common/warning.png\";\nimport { useAppBar } from \"@/components/AppBar/useAppBar\";\nimport { useAuthStore } from \"@/store/modules/auth\";\nimport { useCoinBuySellStore } from \"@/store/modules/coinBuySell/buySell\";\nimport { useCommonStore } from \"@/store/modules/common\";\nimport { useEntryStore } from \"@/store/modules/entry\";\nimport mitt from \"@/utils/mitt\";\nimport { requireImg } from \"@/utils/tools\";\nimport { storeToRefs } from \"pinia\";\nimport { showToast } from \"vant\";\nimport { computed, nextTick, onMounted, ref, watch, watchEffect } from \"vue\";\nimport { useRouter } from \"vue-router\";\nexport default /* @__PURE__ */ _defineComponent({\n  __name: \"WithdrawCoins\",\n  setup(__props) {\n    useAppBar({ mode: \"dark\" });\n    const router = useRouter();\n    const coinBuySellStore = useCoinBuySellStore();\n    const { getWithdrawddresslist } = coinBuySellStore;\n    const { withdrawddresslist } = storeToRefs(coinBuySellStore);\n    const authStore = useAuthStore();\n    const { getUserCoin } = authStore;\n    const { coins } = storeToRefs(authStore);\n    const commonStore = useCommonStore();\n    const EntryStore = useEntryStore();\n    const { config } = storeToRefs(EntryStore);\n    const withDrawCoins = ref([\n      { label: \"手续费(2%)\", value: \"0.00\" },\n      { label: \"实际扣款\", value: \"0.00\" },\n      { label: \"最小提现\", value: \"0.00\" },\n      { label: \"最大提现\", value: \"0.00\" }\n    ]);\n    const withDrawCoinsAmount = ref(\"\");\n    const isLoading = ref(true);\n    const isConfirmDialog = ref(false);\n    const pay_pass = ref(\"\");\n    const showKeyboard = ref(false);\n    const showUSDTCardSheet = ref(false);\n    const payPass = ref();\n    const numberKeyboard = ref();\n    const withdrawCoinInfo = ref({});\n    const imgserver_url = computed(() => {\n      return config.value.Web_Set_DefaultInfo?.imgserver_url?.v || \"\";\n    });\n    const coinInfo = computed(() => coins.value?.find((item) => item.mtype === 2));\n    const usdtCardList = computed(() => {\n      const list = withdrawddresslist.value?.filter(\n        (item) => item.coin_protocol === \"USDT_TRC20\" && item.status === 1\n      ) ?? [];\n      list.sort((l1, l2) => l1.def_card - l2.def_card);\n      return list;\n    });\n    const maxAvailableWithdraw = computed(\n      () => +coinInfo.value.available_coincash / (1 + +coinInfo.value.coinset_config.fee_withdraw)\n    );\n    const slectMenu = (item) => {\n      withdrawCoinInfo.value = item;\n      showUSDTCardSheet.value = false;\n    };\n    const updateCursorPos = (onlyUpdateValue = false) => {\n      setTimeout(() => {\n        let amountInputEl = document.querySelector(\".amount-input input\");\n        if (amountInputEl) {\n          amountInputEl.value = withDrawCoinsAmount.value;\n          if (onlyUpdateValue) {\n            amountInputEl = null;\n            return;\n          }\n          amountInputEl.selectionStart = withDrawCoinsAmount.value.length;\n          amountInputEl.selectionEnd = withDrawCoinsAmount.value.length;\n          amountInputEl = null;\n        }\n      }, 20);\n    };\n    watch(withdrawddresslist, (val, oldVal) => {\n      withdrawCoinInfo.value = withdrawddresslist.value?.find(\n        (item) => item.coin_protocol === \"USDT_TRC20\" && item.def_card === 1\n      );\n    });\n    watch(withDrawCoinsAmount, (val, oldVal) => {\n      if (val === \".\" || val.startsWith(\"00\")) {\n        withDrawCoinsAmount.value = \"0.\";\n        updateCursorPos();\n        return;\n      }\n      if (oldVal && val.startsWith(\"0\")) {\n        withDrawCoinsAmount.value = \"0\";\n      }\n      const dotIndex = val.indexOf(\".\");\n      if (~dotIndex) {\n        const str = val.slice(dotIndex + 1, val.length);\n        const replacer = (match, p1, p2) => {\n          if (p1.startsWith(\"0\") && +p1 > 0) {\n            return \"0\";\n          }\n          return p1 + \".\" + p2;\n        };\n        const newAmount = val.replace(/^(\\d+)\\.(\\d\\d).*$/, replacer);\n        withDrawCoinsAmount.value = newAmount;\n        updateCursorPos(true);\n        return;\n      }\n      if (+val > +maxAvailableWithdraw.value) {\n        withDrawCoinsAmount.value = maxAvailableWithdraw.value.toTruncFixed(2);\n        updateCursorPos();\n      }\n    });\n    watchEffect(() => {\n      const withdrawFeeRate = +coinInfo.value.coinset_config.fee_withdraw;\n      const withdrawFee = (+(withDrawCoinsAmount.value || 0) * withdrawFeeRate).toTruncFixed(2);\n      const actualDebuction = (+(withDrawCoinsAmount.value ?? 0) * (1 + withdrawFeeRate)).toTruncFixed(\n        2\n      );\n      const minWithdraw = (+coinInfo.value.coinset_config.min_withdraw).toTruncFixed(2);\n      const maxWithdraw = (+coinInfo.value.coinset_config.max_withdraw).toTruncFixed(2);\n      withDrawCoins.value = [\n        {\n          label: `手续费(${withdrawFeeRate * 100}%)`,\n          value: withdrawFee\n        },\n        { label: \"实际扣款\", value: actualDebuction },\n        { label: \"最小提现\", value: minWithdraw },\n        { label: \"最大提现\", value: maxWithdraw }\n      ];\n    });\n    const onMaxAmount = () => {\n      withDrawCoinsAmount.value = maxAvailableWithdraw.value.toTruncFixed(2);\n    };\n    const onSubmit = () => {\n      if (withdrawCoinInfo.value?.coin_address) {\n        if (!withDrawCoinsAmount.value) {\n          showToast({\n            message: \"请输入提币数量\",\n            icon: info,\n            iconSize: \"48px\"\n          });\n          return;\n        }\n        if (withDrawCoinsAmount.value < coinInfo.value.coinset_config.min_withdraw) {\n          showToast({\n            message: \"提现数量小于最小提现\",\n            icon: info,\n            iconSize: \"48px\"\n          });\n          return;\n        }\n        if (+coinInfo.value.available_coincash < +withDrawCoins.value[1].value || !+coinInfo.value.available_coincash) {\n          showToast({\n            message: \"余额不足\",\n            icon: warning,\n            iconSize: \"48px\"\n          });\n          return;\n        }\n        isConfirmDialog.value = true;\n        showKeyboard.value = true;\n        nextTick(() => {\n          payPass.value?.focus();\n          payPass.value?.click?.();\n          payPass.value.$el.querySelector(\"input[type=password]\").focus();\n        });\n      } else {\n        router.push(\"/usdt\");\n      }\n    };\n    const onNumberKeyboardShow = () => {\n      mitt.emit(\"number-keyboard-show\");\n    };\n    const onFocus = () => {\n      showKeyboard.value = true;\n    };\n    const onCloseAuthConfirm = () => {\n      isConfirmDialog.value = false;\n      showKeyboard.value = false;\n      pay_pass.value = \"\";\n    };\n    const onConfirmPayPass = async () => {\n      if (pay_pass.value.length < 6) {\n        showToast({\n          message: \"请输入6位支付密码\",\n          icon: info,\n          iconSize: \"48px\"\n        });\n        return;\n      }\n      try {\n        commonStore.setShowLoading(true);\n        const res = await getMoneyWithdrawApi({\n          money: withDrawCoinsAmount.value,\n          id: withdrawCoinInfo.value.id,\n          coin_address: withdrawCoinInfo.value.coin_address,\n          passwd: pay_pass.value\n        });\n        if (res.orderID) {\n          mitt.emit(\"dialog-tips\", {\n            title: \"提示\",\n            content: \"您的提现信息提交成功，请等待客服审核。\",\n            confirmButtonText: \"确定\",\n            confirmAction: () => {\n              router.push(\"/details/coin-details/usdt\");\n            }\n          });\n        } else {\n          onCloseAuthConfirm();\n        }\n      } catch (error) {\n        console.error(error);\n      } finally {\n        commonStore.setShowLoading(false);\n      }\n    };\n    const initAmountEvent = () => {\n      nextTick(() => {\n        const amountInputEl = document.querySelector(\".amount-input input\");\n        if (amountInputEl) {\n          amountInputEl.onkeydown = (e) => {\n            if ([\"-\", \"+\"].includes(e.key)) {\n              return e.preventDefault();\n            }\n          };\n        }\n      });\n    };\n    const getInitData = async () => {\n      try {\n        isLoading.value = true;\n        if (!coins.value.length) {\n          getUserCoin({});\n        }\n        getWithdrawddresslist({});\n      } catch (error) {\n        console.error(error);\n      } finally {\n        isLoading.value = false;\n        initAmountEvent();\n      }\n    };\n    onMounted(() => {\n      getInitData();\n      mitt.emit(\"number-keyboard-show\");\n      mitt.emit(\"action-sheet-show\");\n    });\n    return (_ctx, _cache) => {\n      const _component_van_field = _resolveComponent(\"van-field\");\n      const _component_van_dialog = _resolveComponent(\"van-dialog\");\n      const _component_van_image = _resolveComponent(\"van-image\");\n      const _component_van_action_sheet = _resolveComponent(\"van-action-sheet\");\n      return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n        _hoisted_2,\n        _createElementVNode(\"div\", _hoisted_3, [\n          _createElementVNode(\"div\", _hoisted_4, [\n            _hoisted_5,\n            _createElementVNode(\"div\", null, [\n              _createElementVNode(\n                \"span\",\n                _hoisted_6,\n                _toDisplayString((+(coinInfo.value?.available_coincash ?? \"0\")).toTruncFixed(2)),\n                1\n                /* TEXT */\n              ),\n              _hoisted_7\n            ])\n          ]),\n          !isLoading.value ? (_openBlock(), _createElementBlock(\n            _Fragment,\n            { key: 0 },\n            [\n              withdrawCoinInfo.value?.coin_address ? (_openBlock(), _createElementBlock(\n                _Fragment,\n                { key: 0 },\n                [\n                  _createElementVNode(\"div\", _hoisted_8, [\n                    _createElementVNode(\"div\", _hoisted_9, [\n                      _hoisted_10,\n                      usdtCardList.value.length > 1 ? (_openBlock(), _createElementBlock(\"div\", {\n                        key: 0,\n                        class: \"value toggle-select-text\",\n                        onClick: _cache[0] || (_cache[0] = ($event) => showUSDTCardSheet.value = true)\n                      }, \" 选择 \")) : _createCommentVNode(\"v-if\", true)\n                    ]),\n                    _createElementVNode(\"div\", _hoisted_11, [\n                      _hoisted_12,\n                      _createElementVNode(\n                        \"div\",\n                        _hoisted_13,\n                        _toDisplayString(withdrawCoinInfo.value?.account_bank_realname),\n                        1\n                        /* TEXT */\n                      )\n                    ]),\n                    _createElementVNode(\"div\", _hoisted_14, [\n                      _hoisted_15,\n                      _createElementVNode(\n                        \"div\",\n                        _hoisted_16,\n                        _toDisplayString(withdrawCoinInfo.value?.coin_protocol ?? \"USDT_TRC20\"),\n                        1\n                        /* TEXT */\n                      )\n                    ]),\n                    _createElementVNode(\"div\", _hoisted_17, [\n                      _hoisted_18,\n                      _createElementVNode(\n                        \"div\",\n                        _hoisted_19,\n                        _toDisplayString(withdrawCoinInfo.value?.coin_address ?? \"--\"),\n                        1\n                        /* TEXT */\n                      )\n                    ])\n                  ]),\n                  _createElementVNode(\"div\", _hoisted_20, [\n                    _hoisted_21,\n                    _createElementVNode(\"div\", _hoisted_22, [\n                      _createCommentVNode(\" 允许输入数字，调起带符号的纯数字键盘 \"),\n                      _createVNode(_component_van_field, {\n                        modelValue: withDrawCoinsAmount.value,\n                        \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event) => withDrawCoinsAmount.value = $event),\n                        type: \"number\",\n                        placeholder: \"请输入提币数量\",\n                        class: \"amount-input\"\n                      }, null, 8, [\"modelValue\"]),\n                      _hoisted_23,\n                      _createElementVNode(\"div\", {\n                        class: \"max-amount\",\n                        onClick: onMaxAmount\n                      }, \" 最大 \")\n                    ]),\n                    (_openBlock(true), _createElementBlock(\n                      _Fragment,\n                      null,\n                      _renderList(withDrawCoins.value, (item, index) => {\n                        return _openBlock(), _createElementBlock(\"div\", {\n                          key: index,\n                          class: \"row-item flex justify-between items-center\"\n                        }, [\n                          _createElementVNode(\n                            \"div\",\n                            _hoisted_24,\n                            _toDisplayString(item.label),\n                            1\n                            /* TEXT */\n                          ),\n                          _createElementVNode(\"div\", _hoisted_25, [\n                            _createTextVNode(\n                              _toDisplayString(item.value) + \" \",\n                              1\n                              /* TEXT */\n                            ),\n                            _hoisted_26\n                          ])\n                        ]);\n                      }),\n                      128\n                      /* KEYED_FRAGMENT */\n                    ))\n                  ])\n                ],\n                64\n                /* STABLE_FRAGMENT */\n              )) : (_openBlock(), _createElementBlock(\"div\", _hoisted_27, \" 请先绑定提币地址 \"))\n            ],\n            64\n            /* STABLE_FRAGMENT */\n          )) : _createCommentVNode(\"v-if\", true),\n          _hoisted_28,\n          _createElementVNode(\n            \"div\",\n            {\n              class: \"btn-submit text-center\",\n              onClick: onSubmit\n            },\n            _toDisplayString(withdrawCoinInfo.value?.coin_address ? \"确定\" : \"绑定地址\"),\n            1\n            /* TEXT */\n          )\n        ]),\n        _createVNode(_component_van_dialog, {\n          show: isConfirmDialog.value,\n          \"onUpdate:show\": _cache[3] || (_cache[3] = ($event) => isConfirmDialog.value = $event),\n          title: \"身份验证\",\n          theme: \"round-button\",\n          className: \"dialog-auth\"\n        }, {\n          footer: _withCtx(() => [\n            _createElementVNode(\"div\", {\n              class: \"btn-confirm flex items-center justify-center\",\n              onClick: onConfirmPayPass\n            }, \" 提交 \")\n          ]),\n          default: _withCtx(() => [\n            _createElementVNode(\"i\", {\n              class: \"icon-close close-dark block\",\n              onClick: onCloseAuthConfirm\n            }),\n            _createElementVNode(\"div\", null, [\n              _createVNode(_component_van_field, {\n                modelValue: pay_pass.value,\n                \"onUpdate:modelValue\": _cache[2] || (_cache[2] = ($event) => pay_pass.value = $event),\n                ref_key: \"payPass\",\n                ref: payPass,\n                placeholder: \"请输入支付密码\",\n                type: \"number\",\n                maxlength: 6,\n                clickable: \"\",\n                onTouchstart: _withModifiers(onFocus, [\"stop\"]),\n                onFocus\n              }, null, 8, [\"modelValue\"])\n            ])\n          ]),\n          _: 1\n          /* STABLE */\n        }, 8, [\"show\"]),\n        _createCommentVNode(\" USDT选择弹层 \"),\n        _createVNode(_component_van_action_sheet, {\n          show: showUSDTCardSheet.value,\n          \"onUpdate:show\": _cache[4] || (_cache[4] = ($event) => showUSDTCardSheet.value = $event),\n          description: \"USDT提现地址\",\n          class: \"!w-[750px] usdt-sheet full-w-sheet\",\n          \"lazy-render\": false\n        }, {\n          default: _withCtx(() => [\n            (_openBlock(true), _createElementBlock(\n              _Fragment,\n              null,\n              _renderList(usdtCardList.value, (item, index) => {\n                return _openBlock(), _createElementBlock(\"div\", {\n                  class: \"item-card flex justify-between items-center\",\n                  onClick: ($event) => slectMenu(item),\n                  key: item.id\n                }, [\n                  _createVNode(_component_van_image, {\n                    \"lazy-load\": \"\",\n                    class: \"usdt-icon\",\n                    src: _unref(requireImg)(\"common/usdt-icon.png\")\n                  }, null, 8, [\"src\"]),\n                  _createElementVNode(\"div\", _hoisted_30, [\n                    _createElementVNode(\n                      \"p\",\n                      _hoisted_31,\n                      _toDisplayString(item.coin_protocol),\n                      1\n                      /* TEXT */\n                    ),\n                    _createElementVNode(\n                      \"p\",\n                      _hoisted_32,\n                      _toDisplayString(item.account_bank_realname),\n                      1\n                      /* TEXT */\n                    )\n                  ]),\n                  item.id == withdrawCoinInfo.value.id ? (_openBlock(), _createBlock(_component_van_image, {\n                    key: 0,\n                    class: \"toggle-container mr-[15px]\",\n                    src: _unref(requireImg)(\"common/success.png\")\n                  }, null, 8, [\"src\"])) : (_openBlock(), _createBlock(_component_van_image, {\n                    key: 1,\n                    class: \"toggle-container mr-[15px]\",\n                    src: _unref(requireImg)(\"common/hui.png\")\n                  }, null, 8, [\"src\"]))\n                ], 8, _hoisted_29);\n              }),\n              128\n              /* KEYED_FRAGMENT */\n            ))\n          ]),\n          _: 1\n          /* STABLE */\n        }, 8, [\"show\"])\n      ]);\n    };\n  }\n});\n",
      "start": 1714699769955,
      "end": 1714699770699,
      "order": "normal",
      "sourcemaps": {
        "version": 3,
        "sources": [
          "/Users/afeng/Desktop/work/gdpayh5-web/src/pages/Bricks/WithdrawCoins.vue?vue&type=script&setup=true&lang.ts"
        ],
        "sourcesContent": [
          "import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, renderList as _renderList, Fragment as _Fragment, createTextVNode as _createTextVNode, withModifiers as _withModifiers, withCtx as _withCtx, unref as _unref, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-89dbcde0\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"withdraw-coins-container\" }\nconst _hoisted_2 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"blue-bg-container\" }, null, -1 /* HOISTED */))\nconst _hoisted_3 = { class: \"main-content-container flex flex-col justify-between items-center\" }\nconst _hoisted_4 = { class: \"wallet-container flex flex-col justify-center items-center\" }\nconst _hoisted_5 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"available-text\" }, \"可用余额\", -1 /* HOISTED */))\nconst _hoisted_6 = { class: \"money\" }\nconst _hoisted_7 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", { class: \"usdt-text\" }, \"USDT\", -1 /* HOISTED */))\nconst _hoisted_8 = { class: \"protocols-address-container\" }\nconst _hoisted_9 = { class: \"item-row item-title-row flex justify-between items-center\" }\nconst _hoisted_10 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"label\" }, \"提现信息\", -1 /* HOISTED */))\nconst _hoisted_11 = { class: \"item-row flex justify-between items-center\" }\nconst _hoisted_12 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"label\" }, \"昵称\", -1 /* HOISTED */))\nconst _hoisted_13 = { class: \"value\" }\nconst _hoisted_14 = { class: \"item-row flex justify-between items-center\" }\nconst _hoisted_15 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"label\" }, \"协议\", -1 /* HOISTED */))\nconst _hoisted_16 = { class: \"value\" }\nconst _hoisted_17 = { class: \"item-row flex justify-between items-center\" }\nconst _hoisted_18 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"label\" }, \"提现地址\", -1 /* HOISTED */))\nconst _hoisted_19 = { class: \"value\" }\nconst _hoisted_20 = { class: \"withdraw-coins-info-container\" }\nconst _hoisted_21 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"withdraw-coins-amount-text\" }, \"提币数量\", -1 /* HOISTED */))\nconst _hoisted_22 = { class: \"input-container flex justify-between items-center\" }\nconst _hoisted_23 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"coin-unit\" }, \"USDT\", -1 /* HOISTED */))\nconst _hoisted_24 = { class: \"label\" }\nconst _hoisted_25 = { class: \"value\" }\nconst _hoisted_26 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", null, \"USDT\", -1 /* HOISTED */))\nconst _hoisted_27 = {\n  key: 1,\n  class: \"bind-address-tips\"\n}\nconst _hoisted_28 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"withdraw-coins-tips\" }, \"需要注意提币地址的最低充值金额，否则提现不会到账\", -1 /* HOISTED */))\nconst _hoisted_29 = [\"onClick\"]\nconst _hoisted_30 = { class: \"pt-[5px] ml-[23px] mr-[auto]\" }\nconst _hoisted_31 = { class: \"text-[28px] text-[#343434]\" }\nconst _hoisted_32 = { class: \"text-[28px] text-[#979595]\" }\n\nimport { getMoneyWithdrawApi } from '@/apis/user'\nimport info from '@/assets/images/common/info.png'\nimport warning from '@/assets/images/common/warning.png'\nimport { useAppBar } from '@/components/AppBar/useAppBar'\nimport { useAuthStore } from '@/store/modules/auth'\nimport { useCoinBuySellStore } from '@/store/modules/coinBuySell/buySell'\nimport { useCommonStore } from '@/store/modules/common'\nimport { useEntryStore } from '@/store/modules/entry'\nimport { withdrawddresslist as IWithdrawddressList } from '@/store/types/buySellCoin'\nimport { IMoneyWithdraw } from '@/store/types/coin'\nimport mitt from '@/utils/mitt'\nimport { requireImg } from '@/utils/tools'\nimport { storeToRefs } from 'pinia'\nimport { showToast } from 'vant'\nimport { computed, nextTick, onMounted, ref, watch, watchEffect } from 'vue'\nimport { useRouter } from 'vue-router'\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'WithdrawCoins',\n  setup(__props) {\n\nuseAppBar({ mode: 'dark' })\nconst router = useRouter()\nconst coinBuySellStore = useCoinBuySellStore()\nconst { getWithdrawddresslist } = coinBuySellStore\nconst { withdrawddresslist } = storeToRefs(coinBuySellStore)\n\nconst authStore = useAuthStore()\nconst { getUserCoin } = authStore\nconst { coins } = storeToRefs(authStore)\n\nconst commonStore = useCommonStore()\n\nconst EntryStore = useEntryStore()\nconst { config } = storeToRefs(EntryStore)\n\n// 扣款相关条目配置数据\nconst withDrawCoins = ref([\n  { label: '手续费(2%)', value: '0.00' },\n  { label: '实际扣款', value: '0.00' },\n  { label: '最小提现', value: '0.00' },\n  { label: '最大提现', value: '0.00' }\n])\n// 提币数量输入\nconst withDrawCoinsAmount = ref('')\nconst isLoading = ref(true)\n\nconst isConfirmDialog = ref(false)\n// 支付密码输入\nconst pay_pass = ref('')\n// 数字键盘显示\nconst showKeyboard = ref(false)\n// USDT弹层切换显示\nconst showUSDTCardSheet = ref(false)\n\n// ref节点引用\nconst payPass = ref()\nconst numberKeyboard = ref()\n\n// USDT币种协议，地址等信息\nconst withdrawCoinInfo = ref<IWithdrawddressList>({} as IWithdrawddressList)\n\n// 图片资源域名\nconst imgserver_url = computed(() => {\n  // console.log('(imgserver_url',(config.value.Web_Set_DefaultInfo?.imgserver_url as any)?.v);\n  return (config.value.Web_Set_DefaultInfo?.imgserver_url as any)?.v || ''\n})\n// USDT币种信息\nconst coinInfo = computed(() => coins.value?.find(item => item.mtype === 2))\n// usdt卡列表\nconst usdtCardList = computed(() => {\n  const list =\n    withdrawddresslist.value?.filter(\n      item => item.coin_protocol === 'USDT_TRC20' && item.status === 1\n    ) ?? []\n  list.sort((l1, l2) => l1.def_card - l2.def_card)\n\n  return list\n})\n// 最大可提币数量(扣减手续费后)\nconst maxAvailableWithdraw = computed(\n  () => +coinInfo.value!.available_coincash / (1 + +coinInfo.value!.coinset_config!.fee_withdraw)\n)\n\nconst slectMenu = (item: IWithdrawddressList) => {\n  withdrawCoinInfo.value = item\n  showUSDTCardSheet.value = false\n}\n\n// 修正光标位置\nconst updateCursorPos = (onlyUpdateValue = false) => {\n  setTimeout(() => {\n    let amountInputEl = document.querySelector('.amount-input input') as HTMLInputElement\n\n    if (amountInputEl) {\n      amountInputEl.value = withDrawCoinsAmount.value\n\n      if (onlyUpdateValue) {\n        // 释放dom引用\n        amountInputEl = null as any\n        return\n      }\n\n      // 光标开始处\n      amountInputEl.selectionStart = withDrawCoinsAmount.value.length\n      // 光标结束处\n      amountInputEl.selectionEnd = withDrawCoinsAmount.value.length\n      // 释放dom引用\n      amountInputEl = null as any\n    }\n  }, 20)\n}\n\n// 更新USDT提币地址信息\nwatch(withdrawddresslist, (val, oldVal) => {\n  withdrawCoinInfo.value = withdrawddresslist.value?.find(\n    item => item.coin_protocol === 'USDT_TRC20' && item.def_card === 1\n  ) as IWithdrawddressList\n})\n\n// 输入内容修正\nwatch(withDrawCoinsAmount, (val, oldVal) => {\n  // 小数点开头，自动补齐0.\n  if (val === '.' || val.startsWith('00')) {\n    withDrawCoinsAmount.value = '0.'\n    updateCursorPos()\n    return\n  }\n\n  // 00开头变为0\n  if (oldVal && val.startsWith('0')) {\n    withDrawCoinsAmount.value = '0'\n  }\n\n  // 小数位数保留2位\n  const dotIndex = val.indexOf('.')\n  if (~dotIndex) {\n    const str = val.slice(dotIndex + 1, val.length)\n    const replacer = (match: string, p1: string, p2: string) => {\n      if (p1.startsWith('0') && +p1 > 0) {\n        return '0'\n      }\n      return p1 + '.' + p2\n    }\n    const newAmount = val.replace(/^(\\d+)\\.(\\d\\d).*$/, replacer)\n\n    withDrawCoinsAmount.value = newAmount\n    updateCursorPos(true)\n    return\n  }\n\n  // 提币输入超过最大提币数量时，变为最大可提币输入\n  if (+val > +maxAvailableWithdraw.value) {\n    withDrawCoinsAmount.value = maxAvailableWithdraw.value.toTruncFixed(2)\n    updateCursorPos()\n  }\n})\n\n// 更新扣款相关条目数据\nwatchEffect(() => {\n  // 手续费费率\n  const withdrawFeeRate = +coinInfo.value!.coinset_config!.fee_withdraw\n  // 手续费\n  const withdrawFee = (+(withDrawCoinsAmount.value || 0) * withdrawFeeRate).toTruncFixed(2)\n  // 实际扣款\n  const actualDebuction = (+(withDrawCoinsAmount.value ?? 0) * (1 + withdrawFeeRate)).toTruncFixed(\n    2\n  )\n  // 最小提现\n  const minWithdraw = (+coinInfo.value!.coinset_config!.min_withdraw).toTruncFixed(2)\n  // 最大提现\n  const maxWithdraw = (+coinInfo.value!.coinset_config!.max_withdraw).toTruncFixed(2)\n\n  withDrawCoins.value = [\n    {\n      label: `手续费(${withdrawFeeRate * 100}%)`,\n      value: withdrawFee\n    },\n    { label: '实际扣款', value: actualDebuction },\n    { label: '最小提现', value: minWithdraw },\n    { label: '最大提现', value: maxWithdraw }\n  ]\n})\n\n// 最大提币数量\nconst onMaxAmount = () => {\n  withDrawCoinsAmount.value = maxAvailableWithdraw.value.toTruncFixed(2)\n}\n\n// 确定/绑定地址\nconst onSubmit = () => {\n  if (withdrawCoinInfo.value?.coin_address) {\n    // 未输入\n    if (!withDrawCoinsAmount.value) {\n      showToast({\n        message: '请输入提币数量',\n        icon: info,\n        iconSize: '48px'\n      })\n      return\n    }\n\n    // 不满足最小提现\n    if (withDrawCoinsAmount.value < coinInfo.value!.coinset_config!.min_withdraw) {\n      showToast({\n        message: '提现数量小于最小提现',\n        icon: info,\n        iconSize: '48px'\n      })\n      return\n    }\n\n    // 余额不足\n    if (\n      +coinInfo.value!.available_coincash < +withDrawCoins.value[1].value ||\n      !+coinInfo.value!.available_coincash\n    ) {\n      showToast({\n        message: '余额不足',\n        icon: warning,\n        iconSize: '48px'\n      })\n      return\n    }\n\n    isConfirmDialog.value = true\n    showKeyboard.value = true\n\n    nextTick(() => {\n      payPass.value?.focus()\n      payPass.value?.click?.()\n\n      payPass.value.$el.querySelector('input[type=password]').focus()\n    })\n  } else {\n    router.push('/usdt')\n  }\n}\n\n// 数字键盘位置修正\nconst onNumberKeyboardShow = () => {\n  mitt.emit('number-keyboard-show')\n}\n\nconst onFocus = () => {\n  showKeyboard.value = true\n}\n\nconst onCloseAuthConfirm = () => {\n  isConfirmDialog.value = false\n  showKeyboard.value = false\n  pay_pass.value = ''\n}\n\n// 支付确认\nconst onConfirmPayPass = async () => {\n  if (pay_pass.value.length < 6) {\n    showToast({\n      message: '请输入6位支付密码',\n      icon: info,\n      iconSize: '48px'\n    })\n    return\n  }\n\n  try {\n    commonStore.setShowLoading(true)\n    const res = await getMoneyWithdrawApi({\n      money: withDrawCoinsAmount.value,\n      id: withdrawCoinInfo.value!.id,\n      coin_address: withdrawCoinInfo.value!.coin_address,\n      passwd: pay_pass.value\n    })\n\n    if ((res as IMoneyWithdraw).orderID) {\n      mitt.emit('dialog-tips', {\n        title: '提示',\n        content: '您的提现信息提交成功，请等待客服审核。',\n        confirmButtonText: '确定',\n        confirmAction: () => {\n          router.push('/details/coin-details/usdt')\n        }\n      })\n    } else {\n      onCloseAuthConfirm()\n    }\n  } catch (error) {\n    console.error(error)\n  } finally {\n    commonStore.setShowLoading(false)\n  }\n}\n\n// 初始化提币输入框绑定事件\nconst initAmountEvent = () => {\n  nextTick(() => {\n    // 提币输入框禁止输入特定字符\n    const amountInputEl = document.querySelector('.amount-input input') as HTMLInputElement\n    if (amountInputEl) {\n      amountInputEl.onkeydown = e => {\n        if (['-', '+'].includes(e.key)) {\n          return e.preventDefault()\n        }\n      }\n    }\n  })\n}\n\n// 初始化请求数据\nconst getInitData = async () => {\n  try {\n    isLoading.value = true\n    if (!coins.value.length) {\n      getUserCoin({})\n    }\n    getWithdrawddresslist({})\n  } catch (error) {\n    console.error(error)\n  } finally {\n    isLoading.value = false\n    initAmountEvent()\n  }\n}\n\nonMounted(() => {\n  getInitData()\n  mitt.emit('number-keyboard-show')\n  mitt.emit('action-sheet-show')\n})\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_van_field = _resolveComponent(\"van-field\")!\n  const _component_van_dialog = _resolveComponent(\"van-dialog\")!\n  const _component_van_image = _resolveComponent(\"van-image\")!\n  const _component_van_action_sheet = _resolveComponent(\"van-action-sheet\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _hoisted_2,\n    _createElementVNode(\"div\", _hoisted_3, [\n      _createElementVNode(\"div\", _hoisted_4, [\n        _hoisted_5,\n        _createElementVNode(\"div\", null, [\n          _createElementVNode(\"span\", _hoisted_6, _toDisplayString((+(coinInfo.value?.available_coincash ?? '0')).toTruncFixed(2)), 1 /* TEXT */),\n          _hoisted_7\n        ])\n      ]),\n      (!isLoading.value)\n        ? (_openBlock(), _createElementBlock(_Fragment, { key: 0 }, [\n            (withdrawCoinInfo.value?.coin_address)\n              ? (_openBlock(), _createElementBlock(_Fragment, { key: 0 }, [\n                  _createElementVNode(\"div\", _hoisted_8, [\n                    _createElementVNode(\"div\", _hoisted_9, [\n                      _hoisted_10,\n                      (usdtCardList.value.length > 1)\n                        ? (_openBlock(), _createElementBlock(\"div\", {\n                            key: 0,\n                            class: \"value toggle-select-text\",\n                            onClick: _cache[0] || (_cache[0] = ($event: any) => (showUSDTCardSheet.value = true))\n                          }, \" 选择 \"))\n                        : _createCommentVNode(\"v-if\", true)\n                    ]),\n                    _createElementVNode(\"div\", _hoisted_11, [\n                      _hoisted_12,\n                      _createElementVNode(\"div\", _hoisted_13, _toDisplayString(withdrawCoinInfo.value?.account_bank_realname), 1 /* TEXT */)\n                    ]),\n                    _createElementVNode(\"div\", _hoisted_14, [\n                      _hoisted_15,\n                      _createElementVNode(\"div\", _hoisted_16, _toDisplayString(withdrawCoinInfo.value?.coin_protocol ?? 'USDT_TRC20'), 1 /* TEXT */)\n                    ]),\n                    _createElementVNode(\"div\", _hoisted_17, [\n                      _hoisted_18,\n                      _createElementVNode(\"div\", _hoisted_19, _toDisplayString(withdrawCoinInfo.value?.coin_address ?? '--'), 1 /* TEXT */)\n                    ])\n                  ]),\n                  _createElementVNode(\"div\", _hoisted_20, [\n                    _hoisted_21,\n                    _createElementVNode(\"div\", _hoisted_22, [\n                      _createCommentVNode(\" 允许输入数字，调起带符号的纯数字键盘 \"),\n                      _createVNode(_component_van_field, {\n                        modelValue: withDrawCoinsAmount.value,\n                        \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => ((withDrawCoinsAmount).value = $event)),\n                        type: \"number\",\n                        placeholder: \"请输入提币数量\",\n                        class: \"amount-input\"\n                      }, null, 8 /* PROPS */, [\"modelValue\"]),\n                      _hoisted_23,\n                      _createElementVNode(\"div\", {\n                        class: \"max-amount\",\n                        onClick: onMaxAmount\n                      }, \" 最大 \")\n                    ]),\n                    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(withDrawCoins.value, (item, index) => {\n                      return (_openBlock(), _createElementBlock(\"div\", {\n                        key: index,\n                        class: \"row-item flex justify-between items-center\"\n                      }, [\n                        _createElementVNode(\"div\", _hoisted_24, _toDisplayString(item.label), 1 /* TEXT */),\n                        _createElementVNode(\"div\", _hoisted_25, [\n                          _createTextVNode(_toDisplayString(item.value) + \" \", 1 /* TEXT */),\n                          _hoisted_26\n                        ])\n                      ]))\n                    }), 128 /* KEYED_FRAGMENT */))\n                  ])\n                ], 64 /* STABLE_FRAGMENT */))\n              : (_openBlock(), _createElementBlock(\"div\", _hoisted_27, \" 请先绑定提币地址 \"))\n          ], 64 /* STABLE_FRAGMENT */))\n        : _createCommentVNode(\"v-if\", true),\n      _hoisted_28,\n      _createElementVNode(\"div\", {\n        class: \"btn-submit text-center\",\n        onClick: onSubmit\n      }, _toDisplayString(withdrawCoinInfo.value?.coin_address ? '确定' : '绑定地址'), 1 /* TEXT */)\n    ]),\n    _createVNode(_component_van_dialog, {\n      show: isConfirmDialog.value,\n      \"onUpdate:show\": _cache[3] || (_cache[3] = ($event: any) => ((isConfirmDialog).value = $event)),\n      title: \"身份验证\",\n      theme: \"round-button\",\n      className: \"dialog-auth\"\n    }, {\n      footer: _withCtx(() => [\n        _createElementVNode(\"div\", {\n          class: \"btn-confirm flex items-center justify-center\",\n          onClick: onConfirmPayPass\n        }, \" 提交 \")\n      ]),\n      default: _withCtx(() => [\n        _createElementVNode(\"i\", {\n          class: \"icon-close close-dark block\",\n          onClick: onCloseAuthConfirm\n        }),\n        _createElementVNode(\"div\", null, [\n          _createVNode(_component_van_field, {\n            modelValue: pay_pass.value,\n            \"onUpdate:modelValue\": _cache[2] || (_cache[2] = ($event: any) => ((pay_pass).value = $event)),\n            ref_key: \"payPass\",\n            ref: payPass,\n            placeholder: \"请输入支付密码\",\n            type: \"number\",\n            maxlength: 6,\n            clickable: \"\",\n            onTouchstart: _withModifiers(onFocus, [\"stop\"]),\n            onFocus: onFocus\n          }, null, 8 /* PROPS */, [\"modelValue\"])\n        ])\n      ]),\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"show\"]),\n    _createCommentVNode(\" USDT选择弹层 \"),\n    _createVNode(_component_van_action_sheet, {\n      show: showUSDTCardSheet.value,\n      \"onUpdate:show\": _cache[4] || (_cache[4] = ($event: any) => ((showUSDTCardSheet).value = $event)),\n      description: \"USDT提现地址\",\n      class: \"!w-[750px] usdt-sheet full-w-sheet\",\n      \"lazy-render\": false\n    }, {\n      default: _withCtx(() => [\n        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(usdtCardList.value, (item, index) => {\n          return (_openBlock(), _createElementBlock(\"div\", {\n            class: \"item-card flex justify-between items-center\",\n            onClick: ($event: any) => (slectMenu(item)),\n            key: item.id\n          }, [\n            _createVNode(_component_van_image, {\n              \"lazy-load\": \"\",\n              class: \"usdt-icon\",\n              src: _unref(requireImg)('common/usdt-icon.png')\n            }, null, 8 /* PROPS */, [\"src\"]),\n            _createElementVNode(\"div\", _hoisted_30, [\n              _createElementVNode(\"p\", _hoisted_31, _toDisplayString(item.coin_protocol), 1 /* TEXT */),\n              _createElementVNode(\"p\", _hoisted_32, _toDisplayString(item.account_bank_realname), 1 /* TEXT */)\n            ]),\n            (item.id == withdrawCoinInfo.value.id)\n              ? (_openBlock(), _createBlock(_component_van_image, {\n                  key: 0,\n                  class: \"toggle-container mr-[15px]\",\n                  src: _unref(requireImg)('common/success.png')\n                }, null, 8 /* PROPS */, [\"src\"]))\n              : (_openBlock(), _createBlock(_component_van_image, {\n                  key: 1,\n                  class: \"toggle-container mr-[15px]\",\n                  src: _unref(requireImg)('common/hui.png')\n                }, null, 8 /* PROPS */, [\"src\"]))\n          ], 8 /* PROPS */, _hoisted_29))\n        }), 128 /* KEYED_FRAGMENT */))\n      ]),\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"show\"])\n  ]))\n}\n}\n\n})"
        ],
        "mappings": "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",
        "names": []
      }
    },
    {
      "name": "vite:json",
      "start": 1714699770699,
      "end": 1714699770699,
      "order": "normal"
    },
    {
      "name": "vite:worker",
      "start": 1714699770699,
      "end": 1714699770699,
      "order": "normal"
    },
    {
      "name": "vite:vue",
      "start": 1714699770699,
      "end": 1714699770699,
      "order": "normal"
    },
    {
      "name": "vite:vue-jsx",
      "start": 1714699770699,
      "end": 1714699770699,
      "order": "normal"
    },
    {
      "name": "vite-plugin-vconsole",
      "result": "import { defineComponent as _defineComponent } from \"vue\";\nimport { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, renderList as _renderList, Fragment as _Fragment, createTextVNode as _createTextVNode, withModifiers as _withModifiers, withCtx as _withCtx, unref as _unref, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = (n) => (_pushScopeId(\"data-v-89dbcde0\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = { class: \"withdraw-coins-container\" };\nconst _hoisted_2 = /* @__PURE__ */ _withScopeId(() => /* @__PURE__ */ _createElementVNode(\n  \"div\",\n  { class: \"blue-bg-container\" },\n  null,\n  -1\n  /* HOISTED */\n));\nconst _hoisted_3 = { class: \"main-content-container flex flex-col justify-between items-center\" };\nconst _hoisted_4 = { class: \"wallet-container flex flex-col justify-center items-center\" };\nconst _hoisted_5 = /* @__PURE__ */ _withScopeId(() => /* @__PURE__ */ _createElementVNode(\n  \"div\",\n  { class: \"available-text\" },\n  \"可用余额\",\n  -1\n  /* HOISTED */\n));\nconst _hoisted_6 = { class: \"money\" };\nconst _hoisted_7 = /* @__PURE__ */ _withScopeId(() => /* @__PURE__ */ _createElementVNode(\n  \"span\",\n  { class: \"usdt-text\" },\n  \"USDT\",\n  -1\n  /* HOISTED */\n));\nconst _hoisted_8 = { class: \"protocols-address-container\" };\nconst _hoisted_9 = { class: \"item-row item-title-row flex justify-between items-center\" };\nconst _hoisted_10 = /* @__PURE__ */ _withScopeId(() => /* @__PURE__ */ _createElementVNode(\n  \"div\",\n  { class: \"label\" },\n  \"提现信息\",\n  -1\n  /* HOISTED */\n));\nconst _hoisted_11 = { class: \"item-row flex justify-between items-center\" };\nconst _hoisted_12 = /* @__PURE__ */ _withScopeId(() => /* @__PURE__ */ _createElementVNode(\n  \"div\",\n  { class: \"label\" },\n  \"昵称\",\n  -1\n  /* HOISTED */\n));\nconst _hoisted_13 = { class: \"value\" };\nconst _hoisted_14 = { class: \"item-row flex justify-between items-center\" };\nconst _hoisted_15 = /* @__PURE__ */ _withScopeId(() => /* @__PURE__ */ _createElementVNode(\n  \"div\",\n  { class: \"label\" },\n  \"协议\",\n  -1\n  /* HOISTED */\n));\nconst _hoisted_16 = { class: \"value\" };\nconst _hoisted_17 = { class: \"item-row flex justify-between items-center\" };\nconst _hoisted_18 = /* @__PURE__ */ _withScopeId(() => /* @__PURE__ */ _createElementVNode(\n  \"div\",\n  { class: \"label\" },\n  \"提现地址\",\n  -1\n  /* HOISTED */\n));\nconst _hoisted_19 = { class: \"value\" };\nconst _hoisted_20 = { class: \"withdraw-coins-info-container\" };\nconst _hoisted_21 = /* @__PURE__ */ _withScopeId(() => /* @__PURE__ */ _createElementVNode(\n  \"div\",\n  { class: \"withdraw-coins-amount-text\" },\n  \"提币数量\",\n  -1\n  /* HOISTED */\n));\nconst _hoisted_22 = { class: \"input-container flex justify-between items-center\" };\nconst _hoisted_23 = /* @__PURE__ */ _withScopeId(() => /* @__PURE__ */ _createElementVNode(\n  \"div\",\n  { class: \"coin-unit\" },\n  \"USDT\",\n  -1\n  /* HOISTED */\n));\nconst _hoisted_24 = { class: \"label\" };\nconst _hoisted_25 = { class: \"value\" };\nconst _hoisted_26 = /* @__PURE__ */ _withScopeId(() => /* @__PURE__ */ _createElementVNode(\n  \"span\",\n  null,\n  \"USDT\",\n  -1\n  /* HOISTED */\n));\nconst _hoisted_27 = {\n  key: 1,\n  class: \"bind-address-tips\"\n};\nconst _hoisted_28 = /* @__PURE__ */ _withScopeId(() => /* @__PURE__ */ _createElementVNode(\n  \"div\",\n  { class: \"withdraw-coins-tips\" },\n  \"需要注意提币地址的最低充值金额，否则提现不会到账\",\n  -1\n  /* HOISTED */\n));\nconst _hoisted_29 = [\"onClick\"];\nconst _hoisted_30 = { class: \"pt-[5px] ml-[23px] mr-[auto]\" };\nconst _hoisted_31 = { class: \"text-[28px] text-[#343434]\" };\nconst _hoisted_32 = { class: \"text-[28px] text-[#979595]\" };\nimport { getMoneyWithdrawApi } from \"@/apis/user\";\nimport info from \"@/assets/images/common/info.png\";\nimport warning from \"@/assets/images/common/warning.png\";\nimport { useAppBar } from \"@/components/AppBar/useAppBar\";\nimport { useAuthStore } from \"@/store/modules/auth\";\nimport { useCoinBuySellStore } from \"@/store/modules/coinBuySell/buySell\";\nimport { useCommonStore } from \"@/store/modules/common\";\nimport { useEntryStore } from \"@/store/modules/entry\";\nimport mitt from \"@/utils/mitt\";\nimport { requireImg } from \"@/utils/tools\";\nimport { storeToRefs } from \"pinia\";\nimport { showToast } from \"vant\";\nimport { computed, nextTick, onMounted, ref, watch, watchEffect } from \"vue\";\nimport { useRouter } from \"vue-router\";\nexport default /* @__PURE__ */ _defineComponent({\n  __name: \"WithdrawCoins\",\n  setup(__props) {\n    useAppBar({ mode: \"dark\" });\n    const router = useRouter();\n    const coinBuySellStore = useCoinBuySellStore();\n    const { getWithdrawddresslist } = coinBuySellStore;\n    const { withdrawddresslist } = storeToRefs(coinBuySellStore);\n    const authStore = useAuthStore();\n    const { getUserCoin } = authStore;\n    const { coins } = storeToRefs(authStore);\n    const commonStore = useCommonStore();\n    const EntryStore = useEntryStore();\n    const { config } = storeToRefs(EntryStore);\n    const withDrawCoins = ref([\n      { label: \"手续费(2%)\", value: \"0.00\" },\n      { label: \"实际扣款\", value: \"0.00\" },\n      { label: \"最小提现\", value: \"0.00\" },\n      { label: \"最大提现\", value: \"0.00\" }\n    ]);\n    const withDrawCoinsAmount = ref(\"\");\n    const isLoading = ref(true);\n    const isConfirmDialog = ref(false);\n    const pay_pass = ref(\"\");\n    const showKeyboard = ref(false);\n    const showUSDTCardSheet = ref(false);\n    const payPass = ref();\n    const numberKeyboard = ref();\n    const withdrawCoinInfo = ref({});\n    const imgserver_url = computed(() => {\n      return config.value.Web_Set_DefaultInfo?.imgserver_url?.v || \"\";\n    });\n    const coinInfo = computed(() => coins.value?.find((item) => item.mtype === 2));\n    const usdtCardList = computed(() => {\n      const list = withdrawddresslist.value?.filter(\n        (item) => item.coin_protocol === \"USDT_TRC20\" && item.status === 1\n      ) ?? [];\n      list.sort((l1, l2) => l1.def_card - l2.def_card);\n      return list;\n    });\n    const maxAvailableWithdraw = computed(\n      () => +coinInfo.value.available_coincash / (1 + +coinInfo.value.coinset_config.fee_withdraw)\n    );\n    const slectMenu = (item) => {\n      withdrawCoinInfo.value = item;\n      showUSDTCardSheet.value = false;\n    };\n    const updateCursorPos = (onlyUpdateValue = false) => {\n      setTimeout(() => {\n        let amountInputEl = document.querySelector(\".amount-input input\");\n        if (amountInputEl) {\n          amountInputEl.value = withDrawCoinsAmount.value;\n          if (onlyUpdateValue) {\n            amountInputEl = null;\n            return;\n          }\n          amountInputEl.selectionStart = withDrawCoinsAmount.value.length;\n          amountInputEl.selectionEnd = withDrawCoinsAmount.value.length;\n          amountInputEl = null;\n        }\n      }, 20);\n    };\n    watch(withdrawddresslist, (val, oldVal) => {\n      withdrawCoinInfo.value = withdrawddresslist.value?.find(\n        (item) => item.coin_protocol === \"USDT_TRC20\" && item.def_card === 1\n      );\n    });\n    watch(withDrawCoinsAmount, (val, oldVal) => {\n      if (val === \".\" || val.startsWith(\"00\")) {\n        withDrawCoinsAmount.value = \"0.\";\n        updateCursorPos();\n        return;\n      }\n      if (oldVal && val.startsWith(\"0\")) {\n        withDrawCoinsAmount.value = \"0\";\n      }\n      const dotIndex = val.indexOf(\".\");\n      if (~dotIndex) {\n        const str = val.slice(dotIndex + 1, val.length);\n        const replacer = (match, p1, p2) => {\n          if (p1.startsWith(\"0\") && +p1 > 0) {\n            return \"0\";\n          }\n          return p1 + \".\" + p2;\n        };\n        const newAmount = val.replace(/^(\\d+)\\.(\\d\\d).*$/, replacer);\n        withDrawCoinsAmount.value = newAmount;\n        updateCursorPos(true);\n        return;\n      }\n      if (+val > +maxAvailableWithdraw.value) {\n        withDrawCoinsAmount.value = maxAvailableWithdraw.value.toTruncFixed(2);\n        updateCursorPos();\n      }\n    });\n    watchEffect(() => {\n      const withdrawFeeRate = +coinInfo.value.coinset_config.fee_withdraw;\n      const withdrawFee = (+(withDrawCoinsAmount.value || 0) * withdrawFeeRate).toTruncFixed(2);\n      const actualDebuction = (+(withDrawCoinsAmount.value ?? 0) * (1 + withdrawFeeRate)).toTruncFixed(\n        2\n      );\n      const minWithdraw = (+coinInfo.value.coinset_config.min_withdraw).toTruncFixed(2);\n      const maxWithdraw = (+coinInfo.value.coinset_config.max_withdraw).toTruncFixed(2);\n      withDrawCoins.value = [\n        {\n          label: `手续费(${withdrawFeeRate * 100}%)`,\n          value: withdrawFee\n        },\n        { label: \"实际扣款\", value: actualDebuction },\n        { label: \"最小提现\", value: minWithdraw },\n        { label: \"最大提现\", value: maxWithdraw }\n      ];\n    });\n    const onMaxAmount = () => {\n      withDrawCoinsAmount.value = maxAvailableWithdraw.value.toTruncFixed(2);\n    };\n    const onSubmit = () => {\n      if (withdrawCoinInfo.value?.coin_address) {\n        if (!withDrawCoinsAmount.value) {\n          showToast({\n            message: \"请输入提币数量\",\n            icon: info,\n            iconSize: \"48px\"\n          });\n          return;\n        }\n        if (withDrawCoinsAmount.value < coinInfo.value.coinset_config.min_withdraw) {\n          showToast({\n            message: \"提现数量小于最小提现\",\n            icon: info,\n            iconSize: \"48px\"\n          });\n          return;\n        }\n        if (+coinInfo.value.available_coincash < +withDrawCoins.value[1].value || !+coinInfo.value.available_coincash) {\n          showToast({\n            message: \"余额不足\",\n            icon: warning,\n            iconSize: \"48px\"\n          });\n          return;\n        }\n        isConfirmDialog.value = true;\n        showKeyboard.value = true;\n        nextTick(() => {\n          payPass.value?.focus();\n          payPass.value?.click?.();\n          payPass.value.$el.querySelector(\"input[type=password]\").focus();\n        });\n      } else {\n        router.push(\"/usdt\");\n      }\n    };\n    const onNumberKeyboardShow = () => {\n      mitt.emit(\"number-keyboard-show\");\n    };\n    const onFocus = () => {\n      showKeyboard.value = true;\n    };\n    const onCloseAuthConfirm = () => {\n      isConfirmDialog.value = false;\n      showKeyboard.value = false;\n      pay_pass.value = \"\";\n    };\n    const onConfirmPayPass = async () => {\n      if (pay_pass.value.length < 6) {\n        showToast({\n          message: \"请输入6位支付密码\",\n          icon: info,\n          iconSize: \"48px\"\n        });\n        return;\n      }\n      try {\n        commonStore.setShowLoading(true);\n        const res = await getMoneyWithdrawApi({\n          money: withDrawCoinsAmount.value,\n          id: withdrawCoinInfo.value.id,\n          coin_address: withdrawCoinInfo.value.coin_address,\n          passwd: pay_pass.value\n        });\n        if (res.orderID) {\n          mitt.emit(\"dialog-tips\", {\n            title: \"提示\",\n            content: \"您的提现信息提交成功，请等待客服审核。\",\n            confirmButtonText: \"确定\",\n            confirmAction: () => {\n              router.push(\"/details/coin-details/usdt\");\n            }\n          });\n        } else {\n          onCloseAuthConfirm();\n        }\n      } catch (error) {\n        console.error(error);\n      } finally {\n        commonStore.setShowLoading(false);\n      }\n    };\n    const initAmountEvent = () => {\n      nextTick(() => {\n        const amountInputEl = document.querySelector(\".amount-input input\");\n        if (amountInputEl) {\n          amountInputEl.onkeydown = (e) => {\n            if ([\"-\", \"+\"].includes(e.key)) {\n              return e.preventDefault();\n            }\n          };\n        }\n      });\n    };\n    const getInitData = async () => {\n      try {\n        isLoading.value = true;\n        if (!coins.value.length) {\n          getUserCoin({});\n        }\n        getWithdrawddresslist({});\n      } catch (error) {\n        console.error(error);\n      } finally {\n        isLoading.value = false;\n        initAmountEvent();\n      }\n    };\n    onMounted(() => {\n      getInitData();\n      mitt.emit(\"number-keyboard-show\");\n      mitt.emit(\"action-sheet-show\");\n    });\n    return (_ctx, _cache) => {\n      const _component_van_field = _resolveComponent(\"van-field\");\n      const _component_van_dialog = _resolveComponent(\"van-dialog\");\n      const _component_van_image = _resolveComponent(\"van-image\");\n      const _component_van_action_sheet = _resolveComponent(\"van-action-sheet\");\n      return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n        _hoisted_2,\n        _createElementVNode(\"div\", _hoisted_3, [\n          _createElementVNode(\"div\", _hoisted_4, [\n            _hoisted_5,\n            _createElementVNode(\"div\", null, [\n              _createElementVNode(\n                \"span\",\n                _hoisted_6,\n                _toDisplayString((+(coinInfo.value?.available_coincash ?? \"0\")).toTruncFixed(2)),\n                1\n                /* TEXT */\n              ),\n              _hoisted_7\n            ])\n          ]),\n          !isLoading.value ? (_openBlock(), _createElementBlock(\n            _Fragment,\n            { key: 0 },\n            [\n              withdrawCoinInfo.value?.coin_address ? (_openBlock(), _createElementBlock(\n                _Fragment,\n                { key: 0 },\n                [\n                  _createElementVNode(\"div\", _hoisted_8, [\n                    _createElementVNode(\"div\", _hoisted_9, [\n                      _hoisted_10,\n                      usdtCardList.value.length > 1 ? (_openBlock(), _createElementBlock(\"div\", {\n                        key: 0,\n                        class: \"value toggle-select-text\",\n                        onClick: _cache[0] || (_cache[0] = ($event) => showUSDTCardSheet.value = true)\n                      }, \" 选择 \")) : _createCommentVNode(\"v-if\", true)\n                    ]),\n                    _createElementVNode(\"div\", _hoisted_11, [\n                      _hoisted_12,\n                      _createElementVNode(\n                        \"div\",\n                        _hoisted_13,\n                        _toDisplayString(withdrawCoinInfo.value?.account_bank_realname),\n                        1\n                        /* TEXT */\n                      )\n                    ]),\n                    _createElementVNode(\"div\", _hoisted_14, [\n                      _hoisted_15,\n                      _createElementVNode(\n                        \"div\",\n                        _hoisted_16,\n                        _toDisplayString(withdrawCoinInfo.value?.coin_protocol ?? \"USDT_TRC20\"),\n                        1\n                        /* TEXT */\n                      )\n                    ]),\n                    _createElementVNode(\"div\", _hoisted_17, [\n                      _hoisted_18,\n                      _createElementVNode(\n                        \"div\",\n                        _hoisted_19,\n                        _toDisplayString(withdrawCoinInfo.value?.coin_address ?? \"--\"),\n                        1\n                        /* TEXT */\n                      )\n                    ])\n                  ]),\n                  _createElementVNode(\"div\", _hoisted_20, [\n                    _hoisted_21,\n                    _createElementVNode(\"div\", _hoisted_22, [\n                      _createCommentVNode(\" 允许输入数字，调起带符号的纯数字键盘 \"),\n                      _createVNode(_component_van_field, {\n                        modelValue: withDrawCoinsAmount.value,\n                        \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event) => withDrawCoinsAmount.value = $event),\n                        type: \"number\",\n                        placeholder: \"请输入提币数量\",\n                        class: \"amount-input\"\n                      }, null, 8, [\"modelValue\"]),\n                      _hoisted_23,\n                      _createElementVNode(\"div\", {\n                        class: \"max-amount\",\n                        onClick: onMaxAmount\n                      }, \" 最大 \")\n                    ]),\n                    (_openBlock(true), _createElementBlock(\n                      _Fragment,\n                      null,\n                      _renderList(withDrawCoins.value, (item, index) => {\n                        return _openBlock(), _createElementBlock(\"div\", {\n                          key: index,\n                          class: \"row-item flex justify-between items-center\"\n                        }, [\n                          _createElementVNode(\n                            \"div\",\n                            _hoisted_24,\n                            _toDisplayString(item.label),\n                            1\n                            /* TEXT */\n                          ),\n                          _createElementVNode(\"div\", _hoisted_25, [\n                            _createTextVNode(\n                              _toDisplayString(item.value) + \" \",\n                              1\n                              /* TEXT */\n                            ),\n                            _hoisted_26\n                          ])\n                        ]);\n                      }),\n                      128\n                      /* KEYED_FRAGMENT */\n                    ))\n                  ])\n                ],\n                64\n                /* STABLE_FRAGMENT */\n              )) : (_openBlock(), _createElementBlock(\"div\", _hoisted_27, \" 请先绑定提币地址 \"))\n            ],\n            64\n            /* STABLE_FRAGMENT */\n          )) : _createCommentVNode(\"v-if\", true),\n          _hoisted_28,\n          _createElementVNode(\n            \"div\",\n            {\n              class: \"btn-submit text-center\",\n              onClick: onSubmit\n            },\n            _toDisplayString(withdrawCoinInfo.value?.coin_address ? \"确定\" : \"绑定地址\"),\n            1\n            /* TEXT */\n          )\n        ]),\n        _createVNode(_component_van_dialog, {\n          show: isConfirmDialog.value,\n          \"onUpdate:show\": _cache[3] || (_cache[3] = ($event) => isConfirmDialog.value = $event),\n          title: \"身份验证\",\n          theme: \"round-button\",\n          className: \"dialog-auth\"\n        }, {\n          footer: _withCtx(() => [\n            _createElementVNode(\"div\", {\n              class: \"btn-confirm flex items-center justify-center\",\n              onClick: onConfirmPayPass\n            }, \" 提交 \")\n          ]),\n          default: _withCtx(() => [\n            _createElementVNode(\"i\", {\n              class: \"icon-close close-dark block\",\n              onClick: onCloseAuthConfirm\n            }),\n            _createElementVNode(\"div\", null, [\n              _createVNode(_component_van_field, {\n                modelValue: pay_pass.value,\n                \"onUpdate:modelValue\": _cache[2] || (_cache[2] = ($event) => pay_pass.value = $event),\n                ref_key: \"payPass\",\n                ref: payPass,\n                placeholder: \"请输入支付密码\",\n                type: \"number\",\n                maxlength: 6,\n                clickable: \"\",\n                onTouchstart: _withModifiers(onFocus, [\"stop\"]),\n                onFocus\n              }, null, 8, [\"modelValue\"])\n            ])\n          ]),\n          _: 1\n          /* STABLE */\n        }, 8, [\"show\"]),\n        _createCommentVNode(\" USDT选择弹层 \"),\n        _createVNode(_component_van_action_sheet, {\n          show: showUSDTCardSheet.value,\n          \"onUpdate:show\": _cache[4] || (_cache[4] = ($event) => showUSDTCardSheet.value = $event),\n          description: \"USDT提现地址\",\n          class: \"!w-[750px] usdt-sheet full-w-sheet\",\n          \"lazy-render\": false\n        }, {\n          default: _withCtx(() => [\n            (_openBlock(true), _createElementBlock(\n              _Fragment,\n              null,\n              _renderList(usdtCardList.value, (item, index) => {\n                return _openBlock(), _createElementBlock(\"div\", {\n                  class: \"item-card flex justify-between items-center\",\n                  onClick: ($event) => slectMenu(item),\n                  key: item.id\n                }, [\n                  _createVNode(_component_van_image, {\n                    \"lazy-load\": \"\",\n                    class: \"usdt-icon\",\n                    src: _unref(requireImg)(\"common/usdt-icon.png\")\n                  }, null, 8, [\"src\"]),\n                  _createElementVNode(\"div\", _hoisted_30, [\n                    _createElementVNode(\n                      \"p\",\n                      _hoisted_31,\n                      _toDisplayString(item.coin_protocol),\n                      1\n                      /* TEXT */\n                    ),\n                    _createElementVNode(\n                      \"p\",\n                      _hoisted_32,\n                      _toDisplayString(item.account_bank_realname),\n                      1\n                      /* TEXT */\n                    )\n                  ]),\n                  item.id == withdrawCoinInfo.value.id ? (_openBlock(), _createBlock(_component_van_image, {\n                    key: 0,\n                    class: \"toggle-container mr-[15px]\",\n                    src: _unref(requireImg)(\"common/success.png\")\n                  }, null, 8, [\"src\"])) : (_openBlock(), _createBlock(_component_van_image, {\n                    key: 1,\n                    class: \"toggle-container mr-[15px]\",\n                    src: _unref(requireImg)(\"common/hui.png\")\n                  }, null, 8, [\"src\"]))\n                ], 8, _hoisted_29);\n              }),\n              128\n              /* KEYED_FRAGMENT */\n            ))\n          ]),\n          _: 1\n          /* STABLE */\n        }, 8, [\"show\"])\n      ]);\n    };\n  }\n});\n",
      "start": 1714699770699,
      "end": 1714699770699,
      "order": "normal",
      "sourcemaps": null
    },
    {
      "name": "esbuild",
      "result": "\"use strict\";\nimport { defineComponent as _defineComponent } from \"vue\";\nimport { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, renderList as _renderList, Fragment as _Fragment, createTextVNode as _createTextVNode, withModifiers as _withModifiers, withCtx as _withCtx, unref as _unref, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = (n) => (_pushScopeId(\"data-v-89dbcde0\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = { class: \"withdraw-coins-container\" };\nconst _hoisted_2 = /* @__PURE__ */ _withScopeId(() => /* @__PURE__ */ _createElementVNode(\n  \"div\",\n  { class: \"blue-bg-container\" },\n  null,\n  -1\n  /* HOISTED */\n));\nconst _hoisted_3 = { class: \"main-content-container flex flex-col justify-between items-center\" };\nconst _hoisted_4 = { class: \"wallet-container flex flex-col justify-center items-center\" };\nconst _hoisted_5 = /* @__PURE__ */ _withScopeId(() => /* @__PURE__ */ _createElementVNode(\n  \"div\",\n  { class: \"available-text\" },\n  \"\\u53EF\\u7528\\u4F59\\u989D\",\n  -1\n  /* HOISTED */\n));\nconst _hoisted_6 = { class: \"money\" };\nconst _hoisted_7 = /* @__PURE__ */ _withScopeId(() => /* @__PURE__ */ _createElementVNode(\n  \"span\",\n  { class: \"usdt-text\" },\n  \"USDT\",\n  -1\n  /* HOISTED */\n));\nconst _hoisted_8 = { class: \"protocols-address-container\" };\nconst _hoisted_9 = { class: \"item-row item-title-row flex justify-between items-center\" };\nconst _hoisted_10 = /* @__PURE__ */ _withScopeId(() => /* @__PURE__ */ _createElementVNode(\n  \"div\",\n  { class: \"label\" },\n  \"\\u63D0\\u73B0\\u4FE1\\u606F\",\n  -1\n  /* HOISTED */\n));\nconst _hoisted_11 = { class: \"item-row flex justify-between items-center\" };\nconst _hoisted_12 = /* @__PURE__ */ _withScopeId(() => /* @__PURE__ */ _createElementVNode(\n  \"div\",\n  { class: \"label\" },\n  \"\\u6635\\u79F0\",\n  -1\n  /* HOISTED */\n));\nconst _hoisted_13 = { class: \"value\" };\nconst _hoisted_14 = { class: \"item-row flex justify-between items-center\" };\nconst _hoisted_15 = /* @__PURE__ */ _withScopeId(() => /* @__PURE__ */ _createElementVNode(\n  \"div\",\n  { class: \"label\" },\n  \"\\u534F\\u8BAE\",\n  -1\n  /* HOISTED */\n));\nconst _hoisted_16 = { class: \"value\" };\nconst _hoisted_17 = { class: \"item-row flex justify-between items-center\" };\nconst _hoisted_18 = /* @__PURE__ */ _withScopeId(() => /* @__PURE__ */ _createElementVNode(\n  \"div\",\n  { class: \"label\" },\n  \"\\u63D0\\u73B0\\u5730\\u5740\",\n  -1\n  /* HOISTED */\n));\nconst _hoisted_19 = { class: \"value\" };\nconst _hoisted_20 = { class: \"withdraw-coins-info-container\" };\nconst _hoisted_21 = /* @__PURE__ */ _withScopeId(() => /* @__PURE__ */ _createElementVNode(\n  \"div\",\n  { class: \"withdraw-coins-amount-text\" },\n  \"\\u63D0\\u5E01\\u6570\\u91CF\",\n  -1\n  /* HOISTED */\n));\nconst _hoisted_22 = { class: \"input-container flex justify-between items-center\" };\nconst _hoisted_23 = /* @__PURE__ */ _withScopeId(() => /* @__PURE__ */ _createElementVNode(\n  \"div\",\n  { class: \"coin-unit\" },\n  \"USDT\",\n  -1\n  /* HOISTED */\n));\nconst _hoisted_24 = { class: \"label\" };\nconst _hoisted_25 = { class: \"value\" };\nconst _hoisted_26 = /* @__PURE__ */ _withScopeId(() => /* @__PURE__ */ _createElementVNode(\n  \"span\",\n  null,\n  \"USDT\",\n  -1\n  /* HOISTED */\n));\nconst _hoisted_27 = {\n  key: 1,\n  class: \"bind-address-tips\"\n};\nconst _hoisted_28 = /* @__PURE__ */ _withScopeId(() => /* @__PURE__ */ _createElementVNode(\n  \"div\",\n  { class: \"withdraw-coins-tips\" },\n  \"\\u9700\\u8981\\u6CE8\\u610F\\u63D0\\u5E01\\u5730\\u5740\\u7684\\u6700\\u4F4E\\u5145\\u503C\\u91D1\\u989D\\uFF0C\\u5426\\u5219\\u63D0\\u73B0\\u4E0D\\u4F1A\\u5230\\u8D26\",\n  -1\n  /* HOISTED */\n));\nconst _hoisted_29 = [\"onClick\"];\nconst _hoisted_30 = { class: \"pt-[5px] ml-[23px] mr-[auto]\" };\nconst _hoisted_31 = { class: \"text-[28px] text-[#343434]\" };\nconst _hoisted_32 = { class: \"text-[28px] text-[#979595]\" };\nimport { getMoneyWithdrawApi } from \"@/apis/user\";\nimport info from \"@/assets/images/common/info.png\";\nimport warning from \"@/assets/images/common/warning.png\";\nimport { useAppBar } from \"@/components/AppBar/useAppBar\";\nimport { useAuthStore } from \"@/store/modules/auth\";\nimport { useCoinBuySellStore } from \"@/store/modules/coinBuySell/buySell\";\nimport { useCommonStore } from \"@/store/modules/common\";\nimport { useEntryStore } from \"@/store/modules/entry\";\nimport mitt from \"@/utils/mitt\";\nimport { requireImg } from \"@/utils/tools\";\nimport { storeToRefs } from \"pinia\";\nimport { showToast } from \"vant\";\nimport { computed, nextTick, onMounted, ref, watch, watchEffect } from \"vue\";\nimport { useRouter } from \"vue-router\";\nexport default /* @__PURE__ */ _defineComponent({\n  __name: \"WithdrawCoins\",\n  setup(__props) {\n    useAppBar({ mode: \"dark\" });\n    const router = useRouter();\n    const coinBuySellStore = useCoinBuySellStore();\n    const { getWithdrawddresslist } = coinBuySellStore;\n    const { withdrawddresslist } = storeToRefs(coinBuySellStore);\n    const authStore = useAuthStore();\n    const { getUserCoin } = authStore;\n    const { coins } = storeToRefs(authStore);\n    const commonStore = useCommonStore();\n    const EntryStore = useEntryStore();\n    const { config } = storeToRefs(EntryStore);\n    const withDrawCoins = ref([\n      { label: \"\\u624B\\u7EED\\u8D39(2%)\", value: \"0.00\" },\n      { label: \"\\u5B9E\\u9645\\u6263\\u6B3E\", value: \"0.00\" },\n      { label: \"\\u6700\\u5C0F\\u63D0\\u73B0\", value: \"0.00\" },\n      { label: \"\\u6700\\u5927\\u63D0\\u73B0\", value: \"0.00\" }\n    ]);\n    const withDrawCoinsAmount = ref(\"\");\n    const isLoading = ref(true);\n    const isConfirmDialog = ref(false);\n    const pay_pass = ref(\"\");\n    const showKeyboard = ref(false);\n    const showUSDTCardSheet = ref(false);\n    const payPass = ref();\n    const numberKeyboard = ref();\n    const withdrawCoinInfo = ref({});\n    const imgserver_url = computed(() => {\n      var _a, _b;\n      return ((_b = (_a = config.value.Web_Set_DefaultInfo) == null ? void 0 : _a.imgserver_url) == null ? void 0 : _b.v) || \"\";\n    });\n    const coinInfo = computed(() => {\n      var _a;\n      return (_a = coins.value) == null ? void 0 : _a.find((item) => item.mtype === 2);\n    });\n    const usdtCardList = computed(() => {\n      var _a, _b;\n      const list = (_b = (_a = withdrawddresslist.value) == null ? void 0 : _a.filter(\n        (item) => item.coin_protocol === \"USDT_TRC20\" && item.status === 1\n      )) != null ? _b : [];\n      list.sort((l1, l2) => l1.def_card - l2.def_card);\n      return list;\n    });\n    const maxAvailableWithdraw = computed(\n      () => +coinInfo.value.available_coincash / (1 + +coinInfo.value.coinset_config.fee_withdraw)\n    );\n    const slectMenu = (item) => {\n      withdrawCoinInfo.value = item;\n      showUSDTCardSheet.value = false;\n    };\n    const updateCursorPos = (onlyUpdateValue = false) => {\n      setTimeout(() => {\n        let amountInputEl = document.querySelector(\".amount-input input\");\n        if (amountInputEl) {\n          amountInputEl.value = withDrawCoinsAmount.value;\n          if (onlyUpdateValue) {\n            amountInputEl = null;\n            return;\n          }\n          amountInputEl.selectionStart = withDrawCoinsAmount.value.length;\n          amountInputEl.selectionEnd = withDrawCoinsAmount.value.length;\n          amountInputEl = null;\n        }\n      }, 20);\n    };\n    watch(withdrawddresslist, (val, oldVal) => {\n      var _a;\n      withdrawCoinInfo.value = (_a = withdrawddresslist.value) == null ? void 0 : _a.find(\n        (item) => item.coin_protocol === \"USDT_TRC20\" && item.def_card === 1\n      );\n    });\n    watch(withDrawCoinsAmount, (val, oldVal) => {\n      if (val === \".\" || val.startsWith(\"00\")) {\n        withDrawCoinsAmount.value = \"0.\";\n        updateCursorPos();\n        return;\n      }\n      if (oldVal && val.startsWith(\"0\")) {\n        withDrawCoinsAmount.value = \"0\";\n      }\n      const dotIndex = val.indexOf(\".\");\n      if (~dotIndex) {\n        const str = val.slice(dotIndex + 1, val.length);\n        const replacer = (match, p1, p2) => {\n          if (p1.startsWith(\"0\") && +p1 > 0) {\n            return \"0\";\n          }\n          return p1 + \".\" + p2;\n        };\n        const newAmount = val.replace(/^(\\d+)\\.(\\d\\d).*$/, replacer);\n        withDrawCoinsAmount.value = newAmount;\n        updateCursorPos(true);\n        return;\n      }\n      if (+val > +maxAvailableWithdraw.value) {\n        withDrawCoinsAmount.value = maxAvailableWithdraw.value.toTruncFixed(2);\n        updateCursorPos();\n      }\n    });\n    watchEffect(() => {\n      var _a;\n      const withdrawFeeRate = +coinInfo.value.coinset_config.fee_withdraw;\n      const withdrawFee = (+(withDrawCoinsAmount.value || 0) * withdrawFeeRate).toTruncFixed(2);\n      const actualDebuction = (+((_a = withDrawCoinsAmount.value) != null ? _a : 0) * (1 + withdrawFeeRate)).toTruncFixed(\n        2\n      );\n      const minWithdraw = (+coinInfo.value.coinset_config.min_withdraw).toTruncFixed(2);\n      const maxWithdraw = (+coinInfo.value.coinset_config.max_withdraw).toTruncFixed(2);\n      withDrawCoins.value = [\n        {\n          label: `\\u624B\\u7EED\\u8D39(${withdrawFeeRate * 100}%)`,\n          value: withdrawFee\n        },\n        { label: \"\\u5B9E\\u9645\\u6263\\u6B3E\", value: actualDebuction },\n        { label: \"\\u6700\\u5C0F\\u63D0\\u73B0\", value: minWithdraw },\n        { label: \"\\u6700\\u5927\\u63D0\\u73B0\", value: maxWithdraw }\n      ];\n    });\n    const onMaxAmount = () => {\n      withDrawCoinsAmount.value = maxAvailableWithdraw.value.toTruncFixed(2);\n    };\n    const onSubmit = () => {\n      var _a;\n      if ((_a = withdrawCoinInfo.value) == null ? void 0 : _a.coin_address) {\n        if (!withDrawCoinsAmount.value) {\n          showToast({\n            message: \"\\u8BF7\\u8F93\\u5165\\u63D0\\u5E01\\u6570\\u91CF\",\n            icon: info,\n            iconSize: \"48px\"\n          });\n          return;\n        }\n        if (withDrawCoinsAmount.value < coinInfo.value.coinset_config.min_withdraw) {\n          showToast({\n            message: \"\\u63D0\\u73B0\\u6570\\u91CF\\u5C0F\\u4E8E\\u6700\\u5C0F\\u63D0\\u73B0\",\n            icon: info,\n            iconSize: \"48px\"\n          });\n          return;\n        }\n        if (+coinInfo.value.available_coincash < +withDrawCoins.value[1].value || !+coinInfo.value.available_coincash) {\n          showToast({\n            message: \"\\u4F59\\u989D\\u4E0D\\u8DB3\",\n            icon: warning,\n            iconSize: \"48px\"\n          });\n          return;\n        }\n        isConfirmDialog.value = true;\n        showKeyboard.value = true;\n        nextTick(() => {\n          var _a2, _b, _c;\n          (_a2 = payPass.value) == null ? void 0 : _a2.focus();\n          (_c = (_b = payPass.value) == null ? void 0 : _b.click) == null ? void 0 : _c.call(_b);\n          payPass.value.$el.querySelector(\"input[type=password]\").focus();\n        });\n      } else {\n        router.push(\"/usdt\");\n      }\n    };\n    const onNumberKeyboardShow = () => {\n      mitt.emit(\"number-keyboard-show\");\n    };\n    const onFocus = () => {\n      showKeyboard.value = true;\n    };\n    const onCloseAuthConfirm = () => {\n      isConfirmDialog.value = false;\n      showKeyboard.value = false;\n      pay_pass.value = \"\";\n    };\n    const onConfirmPayPass = async () => {\n      if (pay_pass.value.length < 6) {\n        showToast({\n          message: \"\\u8BF7\\u8F93\\u51656\\u4F4D\\u652F\\u4ED8\\u5BC6\\u7801\",\n          icon: info,\n          iconSize: \"48px\"\n        });\n        return;\n      }\n      try {\n        commonStore.setShowLoading(true);\n        const res = await getMoneyWithdrawApi({\n          money: withDrawCoinsAmount.value,\n          id: withdrawCoinInfo.value.id,\n          coin_address: withdrawCoinInfo.value.coin_address,\n          passwd: pay_pass.value\n        });\n        if (res.orderID) {\n          mitt.emit(\"dialog-tips\", {\n            title: \"\\u63D0\\u793A\",\n            content: \"\\u60A8\\u7684\\u63D0\\u73B0\\u4FE1\\u606F\\u63D0\\u4EA4\\u6210\\u529F\\uFF0C\\u8BF7\\u7B49\\u5F85\\u5BA2\\u670D\\u5BA1\\u6838\\u3002\",\n            confirmButtonText: \"\\u786E\\u5B9A\",\n            confirmAction: () => {\n              router.push(\"/details/coin-details/usdt\");\n            }\n          });\n        } else {\n          onCloseAuthConfirm();\n        }\n      } catch (error) {\n        console.error(error);\n      } finally {\n        commonStore.setShowLoading(false);\n      }\n    };\n    const initAmountEvent = () => {\n      nextTick(() => {\n        const amountInputEl = document.querySelector(\".amount-input input\");\n        if (amountInputEl) {\n          amountInputEl.onkeydown = (e) => {\n            if ([\"-\", \"+\"].includes(e.key)) {\n              return e.preventDefault();\n            }\n          };\n        }\n      });\n    };\n    const getInitData = async () => {\n      try {\n        isLoading.value = true;\n        if (!coins.value.length) {\n          getUserCoin({});\n        }\n        getWithdrawddresslist({});\n      } catch (error) {\n        console.error(error);\n      } finally {\n        isLoading.value = false;\n        initAmountEvent();\n      }\n    };\n    onMounted(() => {\n      getInitData();\n      mitt.emit(\"number-keyboard-show\");\n      mitt.emit(\"action-sheet-show\");\n    });\n    return (_ctx, _cache) => {\n      var _a, _b, _c, _d, _e, _f, _g, _h, _i;\n      const _component_van_field = _resolveComponent(\"van-field\");\n      const _component_van_dialog = _resolveComponent(\"van-dialog\");\n      const _component_van_image = _resolveComponent(\"van-image\");\n      const _component_van_action_sheet = _resolveComponent(\"van-action-sheet\");\n      return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n        _hoisted_2,\n        _createElementVNode(\"div\", _hoisted_3, [\n          _createElementVNode(\"div\", _hoisted_4, [\n            _hoisted_5,\n            _createElementVNode(\"div\", null, [\n              _createElementVNode(\n                \"span\",\n                _hoisted_6,\n                _toDisplayString((+((_b = (_a = coinInfo.value) == null ? void 0 : _a.available_coincash) != null ? _b : \"0\")).toTruncFixed(2)),\n                1\n                /* TEXT */\n              ),\n              _hoisted_7\n            ])\n          ]),\n          !isLoading.value ? (_openBlock(), _createElementBlock(\n            _Fragment,\n            { key: 0 },\n            [\n              ((_c = withdrawCoinInfo.value) == null ? void 0 : _c.coin_address) ? (_openBlock(), _createElementBlock(\n                _Fragment,\n                { key: 0 },\n                [\n                  _createElementVNode(\"div\", _hoisted_8, [\n                    _createElementVNode(\"div\", _hoisted_9, [\n                      _hoisted_10,\n                      usdtCardList.value.length > 1 ? (_openBlock(), _createElementBlock(\"div\", {\n                        key: 0,\n                        class: \"value toggle-select-text\",\n                        onClick: _cache[0] || (_cache[0] = ($event) => showUSDTCardSheet.value = true)\n                      }, \" \\u9009\\u62E9 \")) : _createCommentVNode(\"v-if\", true)\n                    ]),\n                    _createElementVNode(\"div\", _hoisted_11, [\n                      _hoisted_12,\n                      _createElementVNode(\n                        \"div\",\n                        _hoisted_13,\n                        _toDisplayString((_d = withdrawCoinInfo.value) == null ? void 0 : _d.account_bank_realname),\n                        1\n                        /* TEXT */\n                      )\n                    ]),\n                    _createElementVNode(\"div\", _hoisted_14, [\n                      _hoisted_15,\n                      _createElementVNode(\n                        \"div\",\n                        _hoisted_16,\n                        _toDisplayString((_f = (_e = withdrawCoinInfo.value) == null ? void 0 : _e.coin_protocol) != null ? _f : \"USDT_TRC20\"),\n                        1\n                        /* TEXT */\n                      )\n                    ]),\n                    _createElementVNode(\"div\", _hoisted_17, [\n                      _hoisted_18,\n                      _createElementVNode(\n                        \"div\",\n                        _hoisted_19,\n                        _toDisplayString((_h = (_g = withdrawCoinInfo.value) == null ? void 0 : _g.coin_address) != null ? _h : \"--\"),\n                        1\n                        /* TEXT */\n                      )\n                    ])\n                  ]),\n                  _createElementVNode(\"div\", _hoisted_20, [\n                    _hoisted_21,\n                    _createElementVNode(\"div\", _hoisted_22, [\n                      _createCommentVNode(\" \\u5141\\u8BB8\\u8F93\\u5165\\u6570\\u5B57\\uFF0C\\u8C03\\u8D77\\u5E26\\u7B26\\u53F7\\u7684\\u7EAF\\u6570\\u5B57\\u952E\\u76D8 \"),\n                      _createVNode(_component_van_field, {\n                        modelValue: withDrawCoinsAmount.value,\n                        \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event) => withDrawCoinsAmount.value = $event),\n                        type: \"number\",\n                        placeholder: \"\\u8BF7\\u8F93\\u5165\\u63D0\\u5E01\\u6570\\u91CF\",\n                        class: \"amount-input\"\n                      }, null, 8, [\"modelValue\"]),\n                      _hoisted_23,\n                      _createElementVNode(\"div\", {\n                        class: \"max-amount\",\n                        onClick: onMaxAmount\n                      }, \" \\u6700\\u5927 \")\n                    ]),\n                    (_openBlock(true), _createElementBlock(\n                      _Fragment,\n                      null,\n                      _renderList(withDrawCoins.value, (item, index) => {\n                        return _openBlock(), _createElementBlock(\"div\", {\n                          key: index,\n                          class: \"row-item flex justify-between items-center\"\n                        }, [\n                          _createElementVNode(\n                            \"div\",\n                            _hoisted_24,\n                            _toDisplayString(item.label),\n                            1\n                            /* TEXT */\n                          ),\n                          _createElementVNode(\"div\", _hoisted_25, [\n                            _createTextVNode(\n                              _toDisplayString(item.value) + \" \",\n                              1\n                              /* TEXT */\n                            ),\n                            _hoisted_26\n                          ])\n                        ]);\n                      }),\n                      128\n                      /* KEYED_FRAGMENT */\n                    ))\n                  ])\n                ],\n                64\n                /* STABLE_FRAGMENT */\n              )) : (_openBlock(), _createElementBlock(\"div\", _hoisted_27, \" \\u8BF7\\u5148\\u7ED1\\u5B9A\\u63D0\\u5E01\\u5730\\u5740 \"))\n            ],\n            64\n            /* STABLE_FRAGMENT */\n          )) : _createCommentVNode(\"v-if\", true),\n          _hoisted_28,\n          _createElementVNode(\n            \"div\",\n            {\n              class: \"btn-submit text-center\",\n              onClick: onSubmit\n            },\n            _toDisplayString(((_i = withdrawCoinInfo.value) == null ? void 0 : _i.coin_address) ? \"\\u786E\\u5B9A\" : \"\\u7ED1\\u5B9A\\u5730\\u5740\"),\n            1\n            /* TEXT */\n          )\n        ]),\n        _createVNode(_component_van_dialog, {\n          show: isConfirmDialog.value,\n          \"onUpdate:show\": _cache[3] || (_cache[3] = ($event) => isConfirmDialog.value = $event),\n          title: \"\\u8EAB\\u4EFD\\u9A8C\\u8BC1\",\n          theme: \"round-button\",\n          className: \"dialog-auth\"\n        }, {\n          footer: _withCtx(() => [\n            _createElementVNode(\"div\", {\n              class: \"btn-confirm flex items-center justify-center\",\n              onClick: onConfirmPayPass\n            }, \" \\u63D0\\u4EA4 \")\n          ]),\n          default: _withCtx(() => [\n            _createElementVNode(\"i\", {\n              class: \"icon-close close-dark block\",\n              onClick: onCloseAuthConfirm\n            }),\n            _createElementVNode(\"div\", null, [\n              _createVNode(_component_van_field, {\n                modelValue: pay_pass.value,\n                \"onUpdate:modelValue\": _cache[2] || (_cache[2] = ($event) => pay_pass.value = $event),\n                ref_key: \"payPass\",\n                ref: payPass,\n                placeholder: \"\\u8BF7\\u8F93\\u5165\\u652F\\u4ED8\\u5BC6\\u7801\",\n                type: \"number\",\n                maxlength: 6,\n                clickable: \"\",\n                onTouchstart: _withModifiers(onFocus, [\"stop\"]),\n                onFocus\n              }, null, 8, [\"modelValue\"])\n            ])\n          ]),\n          _: 1\n          /* STABLE */\n        }, 8, [\"show\"]),\n        _createCommentVNode(\" USDT\\u9009\\u62E9\\u5F39\\u5C42 \"),\n        _createVNode(_component_van_action_sheet, {\n          show: showUSDTCardSheet.value,\n          \"onUpdate:show\": _cache[4] || (_cache[4] = ($event) => showUSDTCardSheet.value = $event),\n          description: \"USDT\\u63D0\\u73B0\\u5730\\u5740\",\n          class: \"!w-[750px] usdt-sheet full-w-sheet\",\n          \"lazy-render\": false\n        }, {\n          default: _withCtx(() => [\n            (_openBlock(true), _createElementBlock(\n              _Fragment,\n              null,\n              _renderList(usdtCardList.value, (item, index) => {\n                return _openBlock(), _createElementBlock(\"div\", {\n                  class: \"item-card flex justify-between items-center\",\n                  onClick: ($event) => slectMenu(item),\n                  key: item.id\n                }, [\n                  _createVNode(_component_van_image, {\n                    \"lazy-load\": \"\",\n                    class: \"usdt-icon\",\n                    src: _unref(requireImg)(\"common/usdt-icon.png\")\n                  }, null, 8, [\"src\"]),\n                  _createElementVNode(\"div\", _hoisted_30, [\n                    _createElementVNode(\n                      \"p\",\n                      _hoisted_31,\n                      _toDisplayString(item.coin_protocol),\n                      1\n                      /* TEXT */\n                    ),\n                    _createElementVNode(\n                      \"p\",\n                      _hoisted_32,\n                      _toDisplayString(item.account_bank_realname),\n                      1\n                      /* TEXT */\n                    )\n                  ]),\n                  item.id == withdrawCoinInfo.value.id ? (_openBlock(), _createBlock(_component_van_image, {\n                    key: 0,\n                    class: \"toggle-container mr-[15px]\",\n                    src: _unref(requireImg)(\"common/success.png\")\n                  }, null, 8, [\"src\"])) : (_openBlock(), _createBlock(_component_van_image, {\n                    key: 1,\n                    class: \"toggle-container mr-[15px]\",\n                    src: _unref(requireImg)(\"common/hui.png\")\n                  }, null, 8, [\"src\"]))\n                ], 8, _hoisted_29);\n              }),\n              128\n              /* KEYED_FRAGMENT */\n            ))\n          ]),\n          _: 1\n          /* STABLE */\n        }, 8, [\"show\"])\n      ]);\n    };\n  }\n});\n",
      "start": 1714699770699,
      "end": 1714699771642,
      "order": "normal",
      "sourcemaps": "{\n  \"version\": 3,\n  \"sources\": [\"/Users/afeng/Desktop/work/gdpayh5-web/src/pages/Bricks/WithdrawCoins.vue?vue&type=script&setup=true&lang.ts\"],\n  \"sourcesContent\": [\"import { defineComponent as _defineComponent } from \\\"vue\\\";\\nimport { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, renderList as _renderList, Fragment as _Fragment, createTextVNode as _createTextVNode, withModifiers as _withModifiers, withCtx as _withCtx, unref as _unref, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \\\"vue\\\";\\nconst _withScopeId = (n) => (_pushScopeId(\\\"data-v-89dbcde0\\\"), n = n(), _popScopeId(), n);\\nconst _hoisted_1 = { class: \\\"withdraw-coins-container\\\" };\\nconst _hoisted_2 = /* @__PURE__ */ _withScopeId(() => /* @__PURE__ */ _createElementVNode(\\n  \\\"div\\\",\\n  { class: \\\"blue-bg-container\\\" },\\n  null,\\n  -1\\n  /* HOISTED */\\n));\\nconst _hoisted_3 = { class: \\\"main-content-container flex flex-col justify-between items-center\\\" };\\nconst _hoisted_4 = { class: \\\"wallet-container flex flex-col justify-center items-center\\\" };\\nconst _hoisted_5 = /* @__PURE__ */ _withScopeId(() => /* @__PURE__ */ _createElementVNode(\\n  \\\"div\\\",\\n  { class: \\\"available-text\\\" },\\n  \\\"\\u53EF\\u7528\\u4F59\\u989D\\\",\\n  -1\\n  /* HOISTED */\\n));\\nconst _hoisted_6 = { class: \\\"money\\\" };\\nconst _hoisted_7 = /* @__PURE__ */ _withScopeId(() => /* @__PURE__ */ _createElementVNode(\\n  \\\"span\\\",\\n  { class: \\\"usdt-text\\\" },\\n  \\\"USDT\\\",\\n  -1\\n  /* HOISTED */\\n));\\nconst _hoisted_8 = { class: \\\"protocols-address-container\\\" };\\nconst _hoisted_9 = { class: \\\"item-row item-title-row flex justify-between items-center\\\" };\\nconst _hoisted_10 = /* @__PURE__ */ _withScopeId(() => /* @__PURE__ */ _createElementVNode(\\n  \\\"div\\\",\\n  { class: \\\"label\\\" },\\n  \\\"\\u63D0\\u73B0\\u4FE1\\u606F\\\",\\n  -1\\n  /* HOISTED */\\n));\\nconst _hoisted_11 = { class: \\\"item-row flex justify-between items-center\\\" };\\nconst _hoisted_12 = /* @__PURE__ */ _withScopeId(() => /* @__PURE__ */ _createElementVNode(\\n  \\\"div\\\",\\n  { class: \\\"label\\\" },\\n  \\\"\\u6635\\u79F0\\\",\\n  -1\\n  /* HOISTED */\\n));\\nconst _hoisted_13 = { class: \\\"value\\\" };\\nconst _hoisted_14 = { class: \\\"item-row flex justify-between items-center\\\" };\\nconst _hoisted_15 = /* @__PURE__ */ _withScopeId(() => /* @__PURE__ */ _createElementVNode(\\n  \\\"div\\\",\\n  { class: \\\"label\\\" },\\n  \\\"\\u534F\\u8BAE\\\",\\n  -1\\n  /* HOISTED */\\n));\\nconst _hoisted_16 = { class: \\\"value\\\" };\\nconst _hoisted_17 = { class: \\\"item-row flex justify-between items-center\\\" };\\nconst _hoisted_18 = /* @__PURE__ */ _withScopeId(() => /* @__PURE__ */ _createElementVNode(\\n  \\\"div\\\",\\n  { class: \\\"label\\\" },\\n  \\\"\\u63D0\\u73B0\\u5730\\u5740\\\",\\n  -1\\n  /* HOISTED */\\n));\\nconst _hoisted_19 = { class: \\\"value\\\" };\\nconst _hoisted_20 = { class: \\\"withdraw-coins-info-container\\\" };\\nconst _hoisted_21 = /* @__PURE__ */ _withScopeId(() => /* @__PURE__ */ _createElementVNode(\\n  \\\"div\\\",\\n  { class: \\\"withdraw-coins-amount-text\\\" },\\n  \\\"\\u63D0\\u5E01\\u6570\\u91CF\\\",\\n  -1\\n  /* HOISTED */\\n));\\nconst _hoisted_22 = { class: \\\"input-container flex justify-between items-center\\\" };\\nconst _hoisted_23 = /* @__PURE__ */ _withScopeId(() => /* @__PURE__ */ _createElementVNode(\\n  \\\"div\\\",\\n  { class: \\\"coin-unit\\\" },\\n  \\\"USDT\\\",\\n  -1\\n  /* HOISTED */\\n));\\nconst _hoisted_24 = { class: \\\"label\\\" };\\nconst _hoisted_25 = { class: \\\"value\\\" };\\nconst _hoisted_26 = /* @__PURE__ */ _withScopeId(() => /* @__PURE__ */ _createElementVNode(\\n  \\\"span\\\",\\n  null,\\n  \\\"USDT\\\",\\n  -1\\n  /* HOISTED */\\n));\\nconst _hoisted_27 = {\\n  key: 1,\\n  class: \\\"bind-address-tips\\\"\\n};\\nconst _hoisted_28 = /* @__PURE__ */ _withScopeId(() => /* @__PURE__ */ _createElementVNode(\\n  \\\"div\\\",\\n  { class: \\\"withdraw-coins-tips\\\" },\\n  \\\"\\u9700\\u8981\\u6CE8\\u610F\\u63D0\\u5E01\\u5730\\u5740\\u7684\\u6700\\u4F4E\\u5145\\u503C\\u91D1\\u989D\\uFF0C\\u5426\\u5219\\u63D0\\u73B0\\u4E0D\\u4F1A\\u5230\\u8D26\\\",\\n  -1\\n  /* HOISTED */\\n));\\nconst _hoisted_29 = [\\\"onClick\\\"];\\nconst _hoisted_30 = { class: \\\"pt-[5px] ml-[23px] mr-[auto]\\\" };\\nconst _hoisted_31 = { class: \\\"text-[28px] text-[#343434]\\\" };\\nconst _hoisted_32 = { class: \\\"text-[28px] text-[#979595]\\\" };\\nimport { getMoneyWithdrawApi } from \\\"@/apis/user\\\";\\nimport info from \\\"@/assets/images/common/info.png\\\";\\nimport warning from \\\"@/assets/images/common/warning.png\\\";\\nimport { useAppBar } from \\\"@/components/AppBar/useAppBar\\\";\\nimport { useAuthStore } from \\\"@/store/modules/auth\\\";\\nimport { useCoinBuySellStore } from \\\"@/store/modules/coinBuySell/buySell\\\";\\nimport { useCommonStore } from \\\"@/store/modules/common\\\";\\nimport { useEntryStore } from \\\"@/store/modules/entry\\\";\\nimport mitt from \\\"@/utils/mitt\\\";\\nimport { requireImg } from \\\"@/utils/tools\\\";\\nimport { storeToRefs } from \\\"pinia\\\";\\nimport { showToast } from \\\"vant\\\";\\nimport { computed, nextTick, onMounted, ref, watch, watchEffect } from \\\"vue\\\";\\nimport { useRouter } from \\\"vue-router\\\";\\nexport default /* @__PURE__ */ _defineComponent({\\n  __name: \\\"WithdrawCoins\\\",\\n  setup(__props) {\\n    useAppBar({ mode: \\\"dark\\\" });\\n    const router = useRouter();\\n    const coinBuySellStore = useCoinBuySellStore();\\n    const { getWithdrawddresslist } = coinBuySellStore;\\n    const { withdrawddresslist } = storeToRefs(coinBuySellStore);\\n    const authStore = useAuthStore();\\n    const { getUserCoin } = authStore;\\n    const { coins } = storeToRefs(authStore);\\n    const commonStore = useCommonStore();\\n    const EntryStore = useEntryStore();\\n    const { config } = storeToRefs(EntryStore);\\n    const withDrawCoins = ref([\\n      { label: \\\"\\u624B\\u7EED\\u8D39(2%)\\\", value: \\\"0.00\\\" },\\n      { label: \\\"\\u5B9E\\u9645\\u6263\\u6B3E\\\", value: \\\"0.00\\\" },\\n      { label: \\\"\\u6700\\u5C0F\\u63D0\\u73B0\\\", value: \\\"0.00\\\" },\\n      { label: \\\"\\u6700\\u5927\\u63D0\\u73B0\\\", value: \\\"0.00\\\" }\\n    ]);\\n    const withDrawCoinsAmount = ref(\\\"\\\");\\n    const isLoading = ref(true);\\n    const isConfirmDialog = ref(false);\\n    const pay_pass = ref(\\\"\\\");\\n    const showKeyboard = ref(false);\\n    const showUSDTCardSheet = ref(false);\\n    const payPass = ref();\\n    const numberKeyboard = ref();\\n    const withdrawCoinInfo = ref({});\\n    const imgserver_url = computed(() => {\\n      return config.value.Web_Set_DefaultInfo?.imgserver_url?.v || \\\"\\\";\\n    });\\n    const coinInfo = computed(() => coins.value?.find((item) => item.mtype === 2));\\n    const usdtCardList = computed(() => {\\n      const list = withdrawddresslist.value?.filter(\\n        (item) => item.coin_protocol === \\\"USDT_TRC20\\\" && item.status === 1\\n      ) ?? [];\\n      list.sort((l1, l2) => l1.def_card - l2.def_card);\\n      return list;\\n    });\\n    const maxAvailableWithdraw = computed(\\n      () => +coinInfo.value.available_coincash / (1 + +coinInfo.value.coinset_config.fee_withdraw)\\n    );\\n    const slectMenu = (item) => {\\n      withdrawCoinInfo.value = item;\\n      showUSDTCardSheet.value = false;\\n    };\\n    const updateCursorPos = (onlyUpdateValue = false) => {\\n      setTimeout(() => {\\n        let amountInputEl = document.querySelector(\\\".amount-input input\\\");\\n        if (amountInputEl) {\\n          amountInputEl.value = withDrawCoinsAmount.value;\\n          if (onlyUpdateValue) {\\n            amountInputEl = null;\\n            return;\\n          }\\n          amountInputEl.selectionStart = withDrawCoinsAmount.value.length;\\n          amountInputEl.selectionEnd = withDrawCoinsAmount.value.length;\\n          amountInputEl = null;\\n        }\\n      }, 20);\\n    };\\n    watch(withdrawddresslist, (val, oldVal) => {\\n      withdrawCoinInfo.value = withdrawddresslist.value?.find(\\n        (item) => item.coin_protocol === \\\"USDT_TRC20\\\" && item.def_card === 1\\n      );\\n    });\\n    watch(withDrawCoinsAmount, (val, oldVal) => {\\n      if (val === \\\".\\\" || val.startsWith(\\\"00\\\")) {\\n        withDrawCoinsAmount.value = \\\"0.\\\";\\n        updateCursorPos();\\n        return;\\n      }\\n      if (oldVal && val.startsWith(\\\"0\\\")) {\\n        withDrawCoinsAmount.value = \\\"0\\\";\\n      }\\n      const dotIndex = val.indexOf(\\\".\\\");\\n      if (~dotIndex) {\\n        const str = val.slice(dotIndex + 1, val.length);\\n        const replacer = (match, p1, p2) => {\\n          if (p1.startsWith(\\\"0\\\") && +p1 > 0) {\\n            return \\\"0\\\";\\n          }\\n          return p1 + \\\".\\\" + p2;\\n        };\\n        const newAmount = val.replace(/^(\\\\d+)\\\\.(\\\\d\\\\d).*$/, replacer);\\n        withDrawCoinsAmount.value = newAmount;\\n        updateCursorPos(true);\\n        return;\\n      }\\n      if (+val > +maxAvailableWithdraw.value) {\\n        withDrawCoinsAmount.value = maxAvailableWithdraw.value.toTruncFixed(2);\\n        updateCursorPos();\\n      }\\n    });\\n    watchEffect(() => {\\n      const withdrawFeeRate = +coinInfo.value.coinset_config.fee_withdraw;\\n      const withdrawFee = (+(withDrawCoinsAmount.value || 0) * withdrawFeeRate).toTruncFixed(2);\\n      const actualDebuction = (+(withDrawCoinsAmount.value ?? 0) * (1 + withdrawFeeRate)).toTruncFixed(\\n        2\\n      );\\n      const minWithdraw = (+coinInfo.value.coinset_config.min_withdraw).toTruncFixed(2);\\n      const maxWithdraw = (+coinInfo.value.coinset_config.max_withdraw).toTruncFixed(2);\\n      withDrawCoins.value = [\\n        {\\n          label: `\\u624B\\u7EED\\u8D39(${withdrawFeeRate * 100}%)`,\\n          value: withdrawFee\\n        },\\n        { label: \\\"\\u5B9E\\u9645\\u6263\\u6B3E\\\", value: actualDebuction },\\n        { label: \\\"\\u6700\\u5C0F\\u63D0\\u73B0\\\", value: minWithdraw },\\n        { label: \\\"\\u6700\\u5927\\u63D0\\u73B0\\\", value: maxWithdraw }\\n      ];\\n    });\\n    const onMaxAmount = () => {\\n      withDrawCoinsAmount.value = maxAvailableWithdraw.value.toTruncFixed(2);\\n    };\\n    const onSubmit = () => {\\n      if (withdrawCoinInfo.value?.coin_address) {\\n        if (!withDrawCoinsAmount.value) {\\n          showToast({\\n            message: \\\"\\u8BF7\\u8F93\\u5165\\u63D0\\u5E01\\u6570\\u91CF\\\",\\n            icon: info,\\n            iconSize: \\\"48px\\\"\\n          });\\n          return;\\n        }\\n        if (withDrawCoinsAmount.value < coinInfo.value.coinset_config.min_withdraw) {\\n          showToast({\\n            message: \\\"\\u63D0\\u73B0\\u6570\\u91CF\\u5C0F\\u4E8E\\u6700\\u5C0F\\u63D0\\u73B0\\\",\\n            icon: info,\\n            iconSize: \\\"48px\\\"\\n          });\\n          return;\\n        }\\n        if (+coinInfo.value.available_coincash < +withDrawCoins.value[1].value || !+coinInfo.value.available_coincash) {\\n          showToast({\\n            message: \\\"\\u4F59\\u989D\\u4E0D\\u8DB3\\\",\\n            icon: warning,\\n            iconSize: \\\"48px\\\"\\n          });\\n          return;\\n        }\\n        isConfirmDialog.value = true;\\n        showKeyboard.value = true;\\n        nextTick(() => {\\n          payPass.value?.focus();\\n          payPass.value?.click?.();\\n          payPass.value.$el.querySelector(\\\"input[type=password]\\\").focus();\\n        });\\n      } else {\\n        router.push(\\\"/usdt\\\");\\n      }\\n    };\\n    const onNumberKeyboardShow = () => {\\n      mitt.emit(\\\"number-keyboard-show\\\");\\n    };\\n    const onFocus = () => {\\n      showKeyboard.value = true;\\n    };\\n    const onCloseAuthConfirm = () => {\\n      isConfirmDialog.value = false;\\n      showKeyboard.value = false;\\n      pay_pass.value = \\\"\\\";\\n    };\\n    const onConfirmPayPass = async () => {\\n      if (pay_pass.value.length < 6) {\\n        showToast({\\n          message: \\\"\\u8BF7\\u8F93\\u51656\\u4F4D\\u652F\\u4ED8\\u5BC6\\u7801\\\",\\n          icon: info,\\n          iconSize: \\\"48px\\\"\\n        });\\n        return;\\n      }\\n      try {\\n        commonStore.setShowLoading(true);\\n        const res = await getMoneyWithdrawApi({\\n          money: withDrawCoinsAmount.value,\\n          id: withdrawCoinInfo.value.id,\\n          coin_address: withdrawCoinInfo.value.coin_address,\\n          passwd: pay_pass.value\\n        });\\n        if (res.orderID) {\\n          mitt.emit(\\\"dialog-tips\\\", {\\n            title: \\\"\\u63D0\\u793A\\\",\\n            content: \\\"\\u60A8\\u7684\\u63D0\\u73B0\\u4FE1\\u606F\\u63D0\\u4EA4\\u6210\\u529F\\uFF0C\\u8BF7\\u7B49\\u5F85\\u5BA2\\u670D\\u5BA1\\u6838\\u3002\\\",\\n            confirmButtonText: \\\"\\u786E\\u5B9A\\\",\\n            confirmAction: () => {\\n              router.push(\\\"/details/coin-details/usdt\\\");\\n            }\\n          });\\n        } else {\\n          onCloseAuthConfirm();\\n        }\\n      } catch (error) {\\n        console.error(error);\\n      } finally {\\n        commonStore.setShowLoading(false);\\n      }\\n    };\\n    const initAmountEvent = () => {\\n      nextTick(() => {\\n        const amountInputEl = document.querySelector(\\\".amount-input input\\\");\\n        if (amountInputEl) {\\n          amountInputEl.onkeydown = (e) => {\\n            if ([\\\"-\\\", \\\"+\\\"].includes(e.key)) {\\n              return e.preventDefault();\\n            }\\n          };\\n        }\\n      });\\n    };\\n    const getInitData = async () => {\\n      try {\\n        isLoading.value = true;\\n        if (!coins.value.length) {\\n          getUserCoin({});\\n        }\\n        getWithdrawddresslist({});\\n      } catch (error) {\\n        console.error(error);\\n      } finally {\\n        isLoading.value = false;\\n        initAmountEvent();\\n      }\\n    };\\n    onMounted(() => {\\n      getInitData();\\n      mitt.emit(\\\"number-keyboard-show\\\");\\n      mitt.emit(\\\"action-sheet-show\\\");\\n    });\\n    return (_ctx, _cache) => {\\n      const _component_van_field = _resolveComponent(\\\"van-field\\\");\\n      const _component_van_dialog = _resolveComponent(\\\"van-dialog\\\");\\n      const _component_van_image = _resolveComponent(\\\"van-image\\\");\\n      const _component_van_action_sheet = _resolveComponent(\\\"van-action-sheet\\\");\\n      return _openBlock(), _createElementBlock(\\\"div\\\", _hoisted_1, [\\n        _hoisted_2,\\n        _createElementVNode(\\\"div\\\", _hoisted_3, [\\n          _createElementVNode(\\\"div\\\", _hoisted_4, [\\n            _hoisted_5,\\n            _createElementVNode(\\\"div\\\", null, [\\n              _createElementVNode(\\n                \\\"span\\\",\\n                _hoisted_6,\\n                _toDisplayString((+(coinInfo.value?.available_coincash ?? \\\"0\\\")).toTruncFixed(2)),\\n                1\\n                /* TEXT */\\n              ),\\n              _hoisted_7\\n            ])\\n          ]),\\n          !isLoading.value ? (_openBlock(), _createElementBlock(\\n            _Fragment,\\n            { key: 0 },\\n            [\\n              withdrawCoinInfo.value?.coin_address ? (_openBlock(), _createElementBlock(\\n                _Fragment,\\n                { key: 0 },\\n                [\\n                  _createElementVNode(\\\"div\\\", _hoisted_8, [\\n                    _createElementVNode(\\\"div\\\", _hoisted_9, [\\n                      _hoisted_10,\\n                      usdtCardList.value.length > 1 ? (_openBlock(), _createElementBlock(\\\"div\\\", {\\n                        key: 0,\\n                        class: \\\"value toggle-select-text\\\",\\n                        onClick: _cache[0] || (_cache[0] = ($event) => showUSDTCardSheet.value = true)\\n                      }, \\\" \\u9009\\u62E9 \\\")) : _createCommentVNode(\\\"v-if\\\", true)\\n                    ]),\\n                    _createElementVNode(\\\"div\\\", _hoisted_11, [\\n                      _hoisted_12,\\n                      _createElementVNode(\\n                        \\\"div\\\",\\n                        _hoisted_13,\\n                        _toDisplayString(withdrawCoinInfo.value?.account_bank_realname),\\n                        1\\n                        /* TEXT */\\n                      )\\n                    ]),\\n                    _createElementVNode(\\\"div\\\", _hoisted_14, [\\n                      _hoisted_15,\\n                      _createElementVNode(\\n                        \\\"div\\\",\\n                        _hoisted_16,\\n                        _toDisplayString(withdrawCoinInfo.value?.coin_protocol ?? \\\"USDT_TRC20\\\"),\\n                        1\\n                        /* TEXT */\\n                      )\\n                    ]),\\n                    _createElementVNode(\\\"div\\\", _hoisted_17, [\\n                      _hoisted_18,\\n                      _createElementVNode(\\n                        \\\"div\\\",\\n                        _hoisted_19,\\n                        _toDisplayString(withdrawCoinInfo.value?.coin_address ?? \\\"--\\\"),\\n                        1\\n                        /* TEXT */\\n                      )\\n                    ])\\n                  ]),\\n                  _createElementVNode(\\\"div\\\", _hoisted_20, [\\n                    _hoisted_21,\\n                    _createElementVNode(\\\"div\\\", _hoisted_22, [\\n                      _createCommentVNode(\\\" \\u5141\\u8BB8\\u8F93\\u5165\\u6570\\u5B57\\uFF0C\\u8C03\\u8D77\\u5E26\\u7B26\\u53F7\\u7684\\u7EAF\\u6570\\u5B57\\u952E\\u76D8 \\\"),\\n                      _createVNode(_component_van_field, {\\n                        modelValue: withDrawCoinsAmount.value,\\n                        \\\"onUpdate:modelValue\\\": _cache[1] || (_cache[1] = ($event) => withDrawCoinsAmount.value = $event),\\n                        type: \\\"number\\\",\\n                        placeholder: \\\"\\u8BF7\\u8F93\\u5165\\u63D0\\u5E01\\u6570\\u91CF\\\",\\n                        class: \\\"amount-input\\\"\\n                      }, null, 8, [\\\"modelValue\\\"]),\\n                      _hoisted_23,\\n                      _createElementVNode(\\\"div\\\", {\\n                        class: \\\"max-amount\\\",\\n                        onClick: onMaxAmount\\n                      }, \\\" \\u6700\\u5927 \\\")\\n                    ]),\\n                    (_openBlock(true), _createElementBlock(\\n                      _Fragment,\\n                      null,\\n                      _renderList(withDrawCoins.value, (item, index) => {\\n                        return _openBlock(), _createElementBlock(\\\"div\\\", {\\n                          key: index,\\n                          class: \\\"row-item flex justify-between items-center\\\"\\n                        }, [\\n                          _createElementVNode(\\n                            \\\"div\\\",\\n                            _hoisted_24,\\n                            _toDisplayString(item.label),\\n                            1\\n                            /* TEXT */\\n                          ),\\n                          _createElementVNode(\\\"div\\\", _hoisted_25, [\\n                            _createTextVNode(\\n                              _toDisplayString(item.value) + \\\" \\\",\\n                              1\\n                              /* TEXT */\\n                            ),\\n                            _hoisted_26\\n                          ])\\n                        ]);\\n                      }),\\n                      128\\n                      /* KEYED_FRAGMENT */\\n                    ))\\n                  ])\\n                ],\\n                64\\n                /* STABLE_FRAGMENT */\\n              )) : (_openBlock(), _createElementBlock(\\\"div\\\", _hoisted_27, \\\" \\u8BF7\\u5148\\u7ED1\\u5B9A\\u63D0\\u5E01\\u5730\\u5740 \\\"))\\n            ],\\n            64\\n            /* STABLE_FRAGMENT */\\n          )) : _createCommentVNode(\\\"v-if\\\", true),\\n          _hoisted_28,\\n          _createElementVNode(\\n            \\\"div\\\",\\n            {\\n              class: \\\"btn-submit text-center\\\",\\n              onClick: onSubmit\\n            },\\n            _toDisplayString(withdrawCoinInfo.value?.coin_address ? \\\"\\u786E\\u5B9A\\\" : \\\"\\u7ED1\\u5B9A\\u5730\\u5740\\\"),\\n            1\\n            /* TEXT */\\n          )\\n        ]),\\n        _createVNode(_component_van_dialog, {\\n          show: isConfirmDialog.value,\\n          \\\"onUpdate:show\\\": _cache[3] || (_cache[3] = ($event) => isConfirmDialog.value = $event),\\n          title: \\\"\\u8EAB\\u4EFD\\u9A8C\\u8BC1\\\",\\n          theme: \\\"round-button\\\",\\n          className: \\\"dialog-auth\\\"\\n        }, {\\n          footer: _withCtx(() => [\\n            _createElementVNode(\\\"div\\\", {\\n              class: \\\"btn-confirm flex items-center justify-center\\\",\\n              onClick: onConfirmPayPass\\n            }, \\\" \\u63D0\\u4EA4 \\\")\\n          ]),\\n          default: _withCtx(() => [\\n            _createElementVNode(\\\"i\\\", {\\n              class: \\\"icon-close close-dark block\\\",\\n              onClick: onCloseAuthConfirm\\n            }),\\n            _createElementVNode(\\\"div\\\", null, [\\n              _createVNode(_component_van_field, {\\n                modelValue: pay_pass.value,\\n                \\\"onUpdate:modelValue\\\": _cache[2] || (_cache[2] = ($event) => pay_pass.value = $event),\\n                ref_key: \\\"payPass\\\",\\n                ref: payPass,\\n                placeholder: \\\"\\u8BF7\\u8F93\\u5165\\u652F\\u4ED8\\u5BC6\\u7801\\\",\\n                type: \\\"number\\\",\\n                maxlength: 6,\\n                clickable: \\\"\\\",\\n                onTouchstart: _withModifiers(onFocus, [\\\"stop\\\"]),\\n                onFocus\\n              }, null, 8, [\\\"modelValue\\\"])\\n            ])\\n          ]),\\n          _: 1\\n          /* STABLE */\\n        }, 8, [\\\"show\\\"]),\\n        _createCommentVNode(\\\" USDT\\u9009\\u62E9\\u5F39\\u5C42 \\\"),\\n        _createVNode(_component_van_action_sheet, {\\n          show: showUSDTCardSheet.value,\\n          \\\"onUpdate:show\\\": _cache[4] || (_cache[4] = ($event) => showUSDTCardSheet.value = $event),\\n          description: \\\"USDT\\u63D0\\u73B0\\u5730\\u5740\\\",\\n          class: \\\"!w-[750px] usdt-sheet full-w-sheet\\\",\\n          \\\"lazy-render\\\": false\\n        }, {\\n          default: _withCtx(() => [\\n            (_openBlock(true), _createElementBlock(\\n              _Fragment,\\n              null,\\n              _renderList(usdtCardList.value, (item, index) => {\\n                return _openBlock(), _createElementBlock(\\\"div\\\", {\\n                  class: \\\"item-card flex justify-between items-center\\\",\\n                  onClick: ($event) => slectMenu(item),\\n                  key: item.id\\n                }, [\\n                  _createVNode(_component_van_image, {\\n                    \\\"lazy-load\\\": \\\"\\\",\\n                    class: \\\"usdt-icon\\\",\\n                    src: _unref(requireImg)(\\\"common/usdt-icon.png\\\")\\n                  }, null, 8, [\\\"src\\\"]),\\n                  _createElementVNode(\\\"div\\\", _hoisted_30, [\\n                    _createElementVNode(\\n                      \\\"p\\\",\\n                      _hoisted_31,\\n                      _toDisplayString(item.coin_protocol),\\n                      1\\n                      /* TEXT */\\n                    ),\\n                    _createElementVNode(\\n                      \\\"p\\\",\\n                      _hoisted_32,\\n                      _toDisplayString(item.account_bank_realname),\\n                      1\\n                      /* TEXT */\\n                    )\\n                  ]),\\n                  item.id == withdrawCoinInfo.value.id ? (_openBlock(), _createBlock(_component_van_image, {\\n                    key: 0,\\n                    class: \\\"toggle-container mr-[15px]\\\",\\n                    src: _unref(requireImg)(\\\"common/success.png\\\")\\n                  }, null, 8, [\\\"src\\\"])) : (_openBlock(), _createBlock(_component_van_image, {\\n                    key: 1,\\n                    class: \\\"toggle-container mr-[15px]\\\",\\n                    src: _unref(requireImg)(\\\"common/hui.png\\\")\\n                  }, null, 8, [\\\"src\\\"]))\\n                ], 8, _hoisted_29);\\n              }),\\n              128\\n              /* KEYED_FRAGMENT */\\n            ))\\n          ]),\\n          _: 1\\n          /* STABLE */\\n        }, 8, [\\\"show\\\"])\\n      ]);\\n    };\\n  }\\n});\\n\"],\n  \"mappings\": \"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\",\n  \"names\": [\"_a\"]\n}\n"
    },
    {
      "name": "vite:define",
      "start": 1714699771643,
      "end": 1714699771643,
      "order": "normal"
    },
    {
      "name": "vite:css-post",
      "start": 1714699771643,
      "end": 1714699771643,
      "order": "normal"
    },
    {
      "name": "vite:build-html",
      "start": 1714699771643,
      "end": 1714699771643,
      "order": "normal"
    },
    {
      "name": "vite:worker-import-meta-url",
      "start": 1714699771643,
      "end": 1714699771643,
      "order": "normal"
    },
    {
      "name": "vite:asset-import-meta-url",
      "start": 1714699771643,
      "end": 1714699771643,
      "order": "normal"
    },
    {
      "name": "commonjs",
      "start": 1714699771643,
      "end": 1714699771643,
      "order": "normal"
    },
    {
      "name": "vite:dynamic-import-vars",
      "start": 1714699771643,
      "end": 1714699771643,
      "order": "normal"
    },
    {
      "name": "vite:import-glob",
      "start": 1714699771643,
      "end": 1714699771643,
      "order": "normal"
    },
    {
      "name": "unplugin-auto-import",
      "start": 1714699771643,
      "end": 1714699771645,
      "order": "post"
    },
    {
      "name": "unplugin-vue-components",
      "result": "/* unplugin-vue-components disabled */import { ActionSheet as __unplugin_components_3 } from 'vant/es';import 'vant/es/action-sheet/style/index';\nimport { Image as __unplugin_components_2 } from 'vant/es';import 'vant/es/image/style/index';\nimport { Dialog as __unplugin_components_1 } from 'vant/es';import 'vant/es/dialog/style/index';\nimport { Field as __unplugin_components_0 } from 'vant/es';import 'vant/es/field/style/index';\n\"use strict\";\nimport { defineComponent as _defineComponent } from \"vue\";\nimport { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, renderList as _renderList, Fragment as _Fragment, createTextVNode as _createTextVNode, withModifiers as _withModifiers, withCtx as _withCtx, unref as _unref, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = (n) => (_pushScopeId(\"data-v-89dbcde0\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = { class: \"withdraw-coins-container\" };\nconst _hoisted_2 = /* @__PURE__ */ _withScopeId(() => /* @__PURE__ */ _createElementVNode(\n  \"div\",\n  { class: \"blue-bg-container\" },\n  null,\n  -1\n  /* HOISTED */\n));\nconst _hoisted_3 = { class: \"main-content-container flex flex-col justify-between items-center\" };\nconst _hoisted_4 = { class: \"wallet-container flex flex-col justify-center items-center\" };\nconst _hoisted_5 = /* @__PURE__ */ _withScopeId(() => /* @__PURE__ */ _createElementVNode(\n  \"div\",\n  { class: \"available-text\" },\n  \"\\u53EF\\u7528\\u4F59\\u989D\",\n  -1\n  /* HOISTED */\n));\nconst _hoisted_6 = { class: \"money\" };\nconst _hoisted_7 = /* @__PURE__ */ _withScopeId(() => /* @__PURE__ */ _createElementVNode(\n  \"span\",\n  { class: \"usdt-text\" },\n  \"USDT\",\n  -1\n  /* HOISTED */\n));\nconst _hoisted_8 = { class: \"protocols-address-container\" };\nconst _hoisted_9 = { class: \"item-row item-title-row flex justify-between items-center\" };\nconst _hoisted_10 = /* @__PURE__ */ _withScopeId(() => /* @__PURE__ */ _createElementVNode(\n  \"div\",\n  { class: \"label\" },\n  \"\\u63D0\\u73B0\\u4FE1\\u606F\",\n  -1\n  /* HOISTED */\n));\nconst _hoisted_11 = { class: \"item-row flex justify-between items-center\" };\nconst _hoisted_12 = /* @__PURE__ */ _withScopeId(() => /* @__PURE__ */ _createElementVNode(\n  \"div\",\n  { class: \"label\" },\n  \"\\u6635\\u79F0\",\n  -1\n  /* HOISTED */\n));\nconst _hoisted_13 = { class: \"value\" };\nconst _hoisted_14 = { class: \"item-row flex justify-between items-center\" };\nconst _hoisted_15 = /* @__PURE__ */ _withScopeId(() => /* @__PURE__ */ _createElementVNode(\n  \"div\",\n  { class: \"label\" },\n  \"\\u534F\\u8BAE\",\n  -1\n  /* HOISTED */\n));\nconst _hoisted_16 = { class: \"value\" };\nconst _hoisted_17 = { class: \"item-row flex justify-between items-center\" };\nconst _hoisted_18 = /* @__PURE__ */ _withScopeId(() => /* @__PURE__ */ _createElementVNode(\n  \"div\",\n  { class: \"label\" },\n  \"\\u63D0\\u73B0\\u5730\\u5740\",\n  -1\n  /* HOISTED */\n));\nconst _hoisted_19 = { class: \"value\" };\nconst _hoisted_20 = { class: \"withdraw-coins-info-container\" };\nconst _hoisted_21 = /* @__PURE__ */ _withScopeId(() => /* @__PURE__ */ _createElementVNode(\n  \"div\",\n  { class: \"withdraw-coins-amount-text\" },\n  \"\\u63D0\\u5E01\\u6570\\u91CF\",\n  -1\n  /* HOISTED */\n));\nconst _hoisted_22 = { class: \"input-container flex justify-between items-center\" };\nconst _hoisted_23 = /* @__PURE__ */ _withScopeId(() => /* @__PURE__ */ _createElementVNode(\n  \"div\",\n  { class: \"coin-unit\" },\n  \"USDT\",\n  -1\n  /* HOISTED */\n));\nconst _hoisted_24 = { class: \"label\" };\nconst _hoisted_25 = { class: \"value\" };\nconst _hoisted_26 = /* @__PURE__ */ _withScopeId(() => /* @__PURE__ */ _createElementVNode(\n  \"span\",\n  null,\n  \"USDT\",\n  -1\n  /* HOISTED */\n));\nconst _hoisted_27 = {\n  key: 1,\n  class: \"bind-address-tips\"\n};\nconst _hoisted_28 = /* @__PURE__ */ _withScopeId(() => /* @__PURE__ */ _createElementVNode(\n  \"div\",\n  { class: \"withdraw-coins-tips\" },\n  \"\\u9700\\u8981\\u6CE8\\u610F\\u63D0\\u5E01\\u5730\\u5740\\u7684\\u6700\\u4F4E\\u5145\\u503C\\u91D1\\u989D\\uFF0C\\u5426\\u5219\\u63D0\\u73B0\\u4E0D\\u4F1A\\u5230\\u8D26\",\n  -1\n  /* HOISTED */\n));\nconst _hoisted_29 = [\"onClick\"];\nconst _hoisted_30 = { class: \"pt-[5px] ml-[23px] mr-[auto]\" };\nconst _hoisted_31 = { class: \"text-[28px] text-[#343434]\" };\nconst _hoisted_32 = { class: \"text-[28px] text-[#979595]\" };\nimport { getMoneyWithdrawApi } from \"@/apis/user\";\nimport info from \"@/assets/images/common/info.png\";\nimport warning from \"@/assets/images/common/warning.png\";\nimport { useAppBar } from \"@/components/AppBar/useAppBar\";\nimport { useAuthStore } from \"@/store/modules/auth\";\nimport { useCoinBuySellStore } from \"@/store/modules/coinBuySell/buySell\";\nimport { useCommonStore } from \"@/store/modules/common\";\nimport { useEntryStore } from \"@/store/modules/entry\";\nimport mitt from \"@/utils/mitt\";\nimport { requireImg } from \"@/utils/tools\";\nimport { storeToRefs } from \"pinia\";\nimport { showToast } from \"vant\";\nimport { computed, nextTick, onMounted, ref, watch, watchEffect } from \"vue\";\nimport { useRouter } from \"vue-router\";\nexport default /* @__PURE__ */ _defineComponent({\n  __name: \"WithdrawCoins\",\n  setup(__props) {\n    useAppBar({ mode: \"dark\" });\n    const router = useRouter();\n    const coinBuySellStore = useCoinBuySellStore();\n    const { getWithdrawddresslist } = coinBuySellStore;\n    const { withdrawddresslist } = storeToRefs(coinBuySellStore);\n    const authStore = useAuthStore();\n    const { getUserCoin } = authStore;\n    const { coins } = storeToRefs(authStore);\n    const commonStore = useCommonStore();\n    const EntryStore = useEntryStore();\n    const { config } = storeToRefs(EntryStore);\n    const withDrawCoins = ref([\n      { label: \"\\u624B\\u7EED\\u8D39(2%)\", value: \"0.00\" },\n      { label: \"\\u5B9E\\u9645\\u6263\\u6B3E\", value: \"0.00\" },\n      { label: \"\\u6700\\u5C0F\\u63D0\\u73B0\", value: \"0.00\" },\n      { label: \"\\u6700\\u5927\\u63D0\\u73B0\", value: \"0.00\" }\n    ]);\n    const withDrawCoinsAmount = ref(\"\");\n    const isLoading = ref(true);\n    const isConfirmDialog = ref(false);\n    const pay_pass = ref(\"\");\n    const showKeyboard = ref(false);\n    const showUSDTCardSheet = ref(false);\n    const payPass = ref();\n    const numberKeyboard = ref();\n    const withdrawCoinInfo = ref({});\n    const imgserver_url = computed(() => {\n      var _a, _b;\n      return ((_b = (_a = config.value.Web_Set_DefaultInfo) == null ? void 0 : _a.imgserver_url) == null ? void 0 : _b.v) || \"\";\n    });\n    const coinInfo = computed(() => {\n      var _a;\n      return (_a = coins.value) == null ? void 0 : _a.find((item) => item.mtype === 2);\n    });\n    const usdtCardList = computed(() => {\n      var _a, _b;\n      const list = (_b = (_a = withdrawddresslist.value) == null ? void 0 : _a.filter(\n        (item) => item.coin_protocol === \"USDT_TRC20\" && item.status === 1\n      )) != null ? _b : [];\n      list.sort((l1, l2) => l1.def_card - l2.def_card);\n      return list;\n    });\n    const maxAvailableWithdraw = computed(\n      () => +coinInfo.value.available_coincash / (1 + +coinInfo.value.coinset_config.fee_withdraw)\n    );\n    const slectMenu = (item) => {\n      withdrawCoinInfo.value = item;\n      showUSDTCardSheet.value = false;\n    };\n    const updateCursorPos = (onlyUpdateValue = false) => {\n      setTimeout(() => {\n        let amountInputEl = document.querySelector(\".amount-input input\");\n        if (amountInputEl) {\n          amountInputEl.value = withDrawCoinsAmount.value;\n          if (onlyUpdateValue) {\n            amountInputEl = null;\n            return;\n          }\n          amountInputEl.selectionStart = withDrawCoinsAmount.value.length;\n          amountInputEl.selectionEnd = withDrawCoinsAmount.value.length;\n          amountInputEl = null;\n        }\n      }, 20);\n    };\n    watch(withdrawddresslist, (val, oldVal) => {\n      var _a;\n      withdrawCoinInfo.value = (_a = withdrawddresslist.value) == null ? void 0 : _a.find(\n        (item) => item.coin_protocol === \"USDT_TRC20\" && item.def_card === 1\n      );\n    });\n    watch(withDrawCoinsAmount, (val, oldVal) => {\n      if (val === \".\" || val.startsWith(\"00\")) {\n        withDrawCoinsAmount.value = \"0.\";\n        updateCursorPos();\n        return;\n      }\n      if (oldVal && val.startsWith(\"0\")) {\n        withDrawCoinsAmount.value = \"0\";\n      }\n      const dotIndex = val.indexOf(\".\");\n      if (~dotIndex) {\n        const str = val.slice(dotIndex + 1, val.length);\n        const replacer = (match, p1, p2) => {\n          if (p1.startsWith(\"0\") && +p1 > 0) {\n            return \"0\";\n          }\n          return p1 + \".\" + p2;\n        };\n        const newAmount = val.replace(/^(\\d+)\\.(\\d\\d).*$/, replacer);\n        withDrawCoinsAmount.value = newAmount;\n        updateCursorPos(true);\n        return;\n      }\n      if (+val > +maxAvailableWithdraw.value) {\n        withDrawCoinsAmount.value = maxAvailableWithdraw.value.toTruncFixed(2);\n        updateCursorPos();\n      }\n    });\n    watchEffect(() => {\n      var _a;\n      const withdrawFeeRate = +coinInfo.value.coinset_config.fee_withdraw;\n      const withdrawFee = (+(withDrawCoinsAmount.value || 0) * withdrawFeeRate).toTruncFixed(2);\n      const actualDebuction = (+((_a = withDrawCoinsAmount.value) != null ? _a : 0) * (1 + withdrawFeeRate)).toTruncFixed(\n        2\n      );\n      const minWithdraw = (+coinInfo.value.coinset_config.min_withdraw).toTruncFixed(2);\n      const maxWithdraw = (+coinInfo.value.coinset_config.max_withdraw).toTruncFixed(2);\n      withDrawCoins.value = [\n        {\n          label: `\\u624B\\u7EED\\u8D39(${withdrawFeeRate * 100}%)`,\n          value: withdrawFee\n        },\n        { label: \"\\u5B9E\\u9645\\u6263\\u6B3E\", value: actualDebuction },\n        { label: \"\\u6700\\u5C0F\\u63D0\\u73B0\", value: minWithdraw },\n        { label: \"\\u6700\\u5927\\u63D0\\u73B0\", value: maxWithdraw }\n      ];\n    });\n    const onMaxAmount = () => {\n      withDrawCoinsAmount.value = maxAvailableWithdraw.value.toTruncFixed(2);\n    };\n    const onSubmit = () => {\n      var _a;\n      if ((_a = withdrawCoinInfo.value) == null ? void 0 : _a.coin_address) {\n        if (!withDrawCoinsAmount.value) {\n          showToast({\n            message: \"\\u8BF7\\u8F93\\u5165\\u63D0\\u5E01\\u6570\\u91CF\",\n            icon: info,\n            iconSize: \"48px\"\n          });\n          return;\n        }\n        if (withDrawCoinsAmount.value < coinInfo.value.coinset_config.min_withdraw) {\n          showToast({\n            message: \"\\u63D0\\u73B0\\u6570\\u91CF\\u5C0F\\u4E8E\\u6700\\u5C0F\\u63D0\\u73B0\",\n            icon: info,\n            iconSize: \"48px\"\n          });\n          return;\n        }\n        if (+coinInfo.value.available_coincash < +withDrawCoins.value[1].value || !+coinInfo.value.available_coincash) {\n          showToast({\n            message: \"\\u4F59\\u989D\\u4E0D\\u8DB3\",\n            icon: warning,\n            iconSize: \"48px\"\n          });\n          return;\n        }\n        isConfirmDialog.value = true;\n        showKeyboard.value = true;\n        nextTick(() => {\n          var _a2, _b, _c;\n          (_a2 = payPass.value) == null ? void 0 : _a2.focus();\n          (_c = (_b = payPass.value) == null ? void 0 : _b.click) == null ? void 0 : _c.call(_b);\n          payPass.value.$el.querySelector(\"input[type=password]\").focus();\n        });\n      } else {\n        router.push(\"/usdt\");\n      }\n    };\n    const onNumberKeyboardShow = () => {\n      mitt.emit(\"number-keyboard-show\");\n    };\n    const onFocus = () => {\n      showKeyboard.value = true;\n    };\n    const onCloseAuthConfirm = () => {\n      isConfirmDialog.value = false;\n      showKeyboard.value = false;\n      pay_pass.value = \"\";\n    };\n    const onConfirmPayPass = async () => {\n      if (pay_pass.value.length < 6) {\n        showToast({\n          message: \"\\u8BF7\\u8F93\\u51656\\u4F4D\\u652F\\u4ED8\\u5BC6\\u7801\",\n          icon: info,\n          iconSize: \"48px\"\n        });\n        return;\n      }\n      try {\n        commonStore.setShowLoading(true);\n        const res = await getMoneyWithdrawApi({\n          money: withDrawCoinsAmount.value,\n          id: withdrawCoinInfo.value.id,\n          coin_address: withdrawCoinInfo.value.coin_address,\n          passwd: pay_pass.value\n        });\n        if (res.orderID) {\n          mitt.emit(\"dialog-tips\", {\n            title: \"\\u63D0\\u793A\",\n            content: \"\\u60A8\\u7684\\u63D0\\u73B0\\u4FE1\\u606F\\u63D0\\u4EA4\\u6210\\u529F\\uFF0C\\u8BF7\\u7B49\\u5F85\\u5BA2\\u670D\\u5BA1\\u6838\\u3002\",\n            confirmButtonText: \"\\u786E\\u5B9A\",\n            confirmAction: () => {\n              router.push(\"/details/coin-details/usdt\");\n            }\n          });\n        } else {\n          onCloseAuthConfirm();\n        }\n      } catch (error) {\n        console.error(error);\n      } finally {\n        commonStore.setShowLoading(false);\n      }\n    };\n    const initAmountEvent = () => {\n      nextTick(() => {\n        const amountInputEl = document.querySelector(\".amount-input input\");\n        if (amountInputEl) {\n          amountInputEl.onkeydown = (e) => {\n            if ([\"-\", \"+\"].includes(e.key)) {\n              return e.preventDefault();\n            }\n          };\n        }\n      });\n    };\n    const getInitData = async () => {\n      try {\n        isLoading.value = true;\n        if (!coins.value.length) {\n          getUserCoin({});\n        }\n        getWithdrawddresslist({});\n      } catch (error) {\n        console.error(error);\n      } finally {\n        isLoading.value = false;\n        initAmountEvent();\n      }\n    };\n    onMounted(() => {\n      getInitData();\n      mitt.emit(\"number-keyboard-show\");\n      mitt.emit(\"action-sheet-show\");\n    });\n    return (_ctx, _cache) => {\n      var _a, _b, _c, _d, _e, _f, _g, _h, _i;\n      const _component_van_field = __unplugin_components_0;\n      const _component_van_dialog = __unplugin_components_1;\n      const _component_van_image = __unplugin_components_2;\n      const _component_van_action_sheet = __unplugin_components_3;\n      return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n        _hoisted_2,\n        _createElementVNode(\"div\", _hoisted_3, [\n          _createElementVNode(\"div\", _hoisted_4, [\n            _hoisted_5,\n            _createElementVNode(\"div\", null, [\n              _createElementVNode(\n                \"span\",\n                _hoisted_6,\n                _toDisplayString((+((_b = (_a = coinInfo.value) == null ? void 0 : _a.available_coincash) != null ? _b : \"0\")).toTruncFixed(2)),\n                1\n                /* TEXT */\n              ),\n              _hoisted_7\n            ])\n          ]),\n          !isLoading.value ? (_openBlock(), _createElementBlock(\n            _Fragment,\n            { key: 0 },\n            [\n              ((_c = withdrawCoinInfo.value) == null ? void 0 : _c.coin_address) ? (_openBlock(), _createElementBlock(\n                _Fragment,\n                { key: 0 },\n                [\n                  _createElementVNode(\"div\", _hoisted_8, [\n                    _createElementVNode(\"div\", _hoisted_9, [\n                      _hoisted_10,\n                      usdtCardList.value.length > 1 ? (_openBlock(), _createElementBlock(\"div\", {\n                        key: 0,\n                        class: \"value toggle-select-text\",\n                        onClick: _cache[0] || (_cache[0] = ($event) => showUSDTCardSheet.value = true)\n                      }, \" \\u9009\\u62E9 \")) : _createCommentVNode(\"v-if\", true)\n                    ]),\n                    _createElementVNode(\"div\", _hoisted_11, [\n                      _hoisted_12,\n                      _createElementVNode(\n                        \"div\",\n                        _hoisted_13,\n                        _toDisplayString((_d = withdrawCoinInfo.value) == null ? void 0 : _d.account_bank_realname),\n                        1\n                        /* TEXT */\n                      )\n                    ]),\n                    _createElementVNode(\"div\", _hoisted_14, [\n                      _hoisted_15,\n                      _createElementVNode(\n                        \"div\",\n                        _hoisted_16,\n                        _toDisplayString((_f = (_e = withdrawCoinInfo.value) == null ? void 0 : _e.coin_protocol) != null ? _f : \"USDT_TRC20\"),\n                        1\n                        /* TEXT */\n                      )\n                    ]),\n                    _createElementVNode(\"div\", _hoisted_17, [\n                      _hoisted_18,\n                      _createElementVNode(\n                        \"div\",\n                        _hoisted_19,\n                        _toDisplayString((_h = (_g = withdrawCoinInfo.value) == null ? void 0 : _g.coin_address) != null ? _h : \"--\"),\n                        1\n                        /* TEXT */\n                      )\n                    ])\n                  ]),\n                  _createElementVNode(\"div\", _hoisted_20, [\n                    _hoisted_21,\n                    _createElementVNode(\"div\", _hoisted_22, [\n                      _createCommentVNode(\" \\u5141\\u8BB8\\u8F93\\u5165\\u6570\\u5B57\\uFF0C\\u8C03\\u8D77\\u5E26\\u7B26\\u53F7\\u7684\\u7EAF\\u6570\\u5B57\\u952E\\u76D8 \"),\n                      _createVNode(_component_van_field, {\n                        modelValue: withDrawCoinsAmount.value,\n                        \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event) => withDrawCoinsAmount.value = $event),\n                        type: \"number\",\n                        placeholder: \"\\u8BF7\\u8F93\\u5165\\u63D0\\u5E01\\u6570\\u91CF\",\n                        class: \"amount-input\"\n                      }, null, 8, [\"modelValue\"]),\n                      _hoisted_23,\n                      _createElementVNode(\"div\", {\n                        class: \"max-amount\",\n                        onClick: onMaxAmount\n                      }, \" \\u6700\\u5927 \")\n                    ]),\n                    (_openBlock(true), _createElementBlock(\n                      _Fragment,\n                      null,\n                      _renderList(withDrawCoins.value, (item, index) => {\n                        return _openBlock(), _createElementBlock(\"div\", {\n                          key: index,\n                          class: \"row-item flex justify-between items-center\"\n                        }, [\n                          _createElementVNode(\n                            \"div\",\n                            _hoisted_24,\n                            _toDisplayString(item.label),\n                            1\n                            /* TEXT */\n                          ),\n                          _createElementVNode(\"div\", _hoisted_25, [\n                            _createTextVNode(\n                              _toDisplayString(item.value) + \" \",\n                              1\n                              /* TEXT */\n                            ),\n                            _hoisted_26\n                          ])\n                        ]);\n                      }),\n                      128\n                      /* KEYED_FRAGMENT */\n                    ))\n                  ])\n                ],\n                64\n                /* STABLE_FRAGMENT */\n              )) : (_openBlock(), _createElementBlock(\"div\", _hoisted_27, \" \\u8BF7\\u5148\\u7ED1\\u5B9A\\u63D0\\u5E01\\u5730\\u5740 \"))\n            ],\n            64\n            /* STABLE_FRAGMENT */\n          )) : _createCommentVNode(\"v-if\", true),\n          _hoisted_28,\n          _createElementVNode(\n            \"div\",\n            {\n              class: \"btn-submit text-center\",\n              onClick: onSubmit\n            },\n            _toDisplayString(((_i = withdrawCoinInfo.value) == null ? void 0 : _i.coin_address) ? \"\\u786E\\u5B9A\" : \"\\u7ED1\\u5B9A\\u5730\\u5740\"),\n            1\n            /* TEXT */\n          )\n        ]),\n        _createVNode(_component_van_dialog, {\n          show: isConfirmDialog.value,\n          \"onUpdate:show\": _cache[3] || (_cache[3] = ($event) => isConfirmDialog.value = $event),\n          title: \"\\u8EAB\\u4EFD\\u9A8C\\u8BC1\",\n          theme: \"round-button\",\n          className: \"dialog-auth\"\n        }, {\n          footer: _withCtx(() => [\n            _createElementVNode(\"div\", {\n              class: \"btn-confirm flex items-center justify-center\",\n              onClick: onConfirmPayPass\n            }, \" \\u63D0\\u4EA4 \")\n          ]),\n          default: _withCtx(() => [\n            _createElementVNode(\"i\", {\n              class: \"icon-close close-dark block\",\n              onClick: onCloseAuthConfirm\n            }),\n            _createElementVNode(\"div\", null, [\n              _createVNode(_component_van_field, {\n                modelValue: pay_pass.value,\n                \"onUpdate:modelValue\": _cache[2] || (_cache[2] = ($event) => pay_pass.value = $event),\n                ref_key: \"payPass\",\n                ref: payPass,\n                placeholder: \"\\u8BF7\\u8F93\\u5165\\u652F\\u4ED8\\u5BC6\\u7801\",\n                type: \"number\",\n                maxlength: 6,\n                clickable: \"\",\n                onTouchstart: _withModifiers(onFocus, [\"stop\"]),\n                onFocus\n              }, null, 8, [\"modelValue\"])\n            ])\n          ]),\n          _: 1\n          /* STABLE */\n        }, 8, [\"show\"]),\n        _createCommentVNode(\" USDT\\u9009\\u62E9\\u5F39\\u5C42 \"),\n        _createVNode(_component_van_action_sheet, {\n          show: showUSDTCardSheet.value,\n          \"onUpdate:show\": _cache[4] || (_cache[4] = ($event) => showUSDTCardSheet.value = $event),\n          description: \"USDT\\u63D0\\u73B0\\u5730\\u5740\",\n          class: \"!w-[750px] usdt-sheet full-w-sheet\",\n          \"lazy-render\": false\n        }, {\n          default: _withCtx(() => [\n            (_openBlock(true), _createElementBlock(\n              _Fragment,\n              null,\n              _renderList(usdtCardList.value, (item, index) => {\n                return _openBlock(), _createElementBlock(\"div\", {\n                  class: \"item-card flex justify-between items-center\",\n                  onClick: ($event) => slectMenu(item),\n                  key: item.id\n                }, [\n                  _createVNode(_component_van_image, {\n                    \"lazy-load\": \"\",\n                    class: \"usdt-icon\",\n                    src: _unref(requireImg)(\"common/usdt-icon.png\")\n                  }, null, 8, [\"src\"]),\n                  _createElementVNode(\"div\", _hoisted_30, [\n                    _createElementVNode(\n                      \"p\",\n                      _hoisted_31,\n                      _toDisplayString(item.coin_protocol),\n                      1\n                      /* TEXT */\n                    ),\n                    _createElementVNode(\n                      \"p\",\n                      _hoisted_32,\n                      _toDisplayString(item.account_bank_realname),\n                      1\n                      /* TEXT */\n                    )\n                  ]),\n                  item.id == withdrawCoinInfo.value.id ? (_openBlock(), _createBlock(_component_van_image, {\n                    key: 0,\n                    class: \"toggle-container mr-[15px]\",\n                    src: _unref(requireImg)(\"common/success.png\")\n                  }, null, 8, [\"src\"])) : (_openBlock(), _createBlock(_component_van_image, {\n                    key: 1,\n                    class: \"toggle-container mr-[15px]\",\n                    src: _unref(requireImg)(\"common/hui.png\")\n                  }, null, 8, [\"src\"]))\n                ], 8, _hoisted_29);\n              }),\n              128\n              /* KEYED_FRAGMENT */\n            ))\n          ]),\n          _: 1\n          /* STABLE */\n        }, 8, [\"show\"])\n      ]);\n    };\n  }\n});\n",
      "start": 1714699771646,
      "end": 1714699771646,
      "order": "post",
      "sourcemaps": {
        "version": 3,
        "sources": [
          "/Users/afeng/Desktop/work/gdpayh5-web/src/pages/Bricks/WithdrawCoins.vue?vue&type=script&setup=true&lang.ts"
        ],
        "sourcesContent": [
          "\"use strict\";\nimport { defineComponent as _defineComponent } from \"vue\";\nimport { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, renderList as _renderList, Fragment as _Fragment, createTextVNode as _createTextVNode, withModifiers as _withModifiers, withCtx as _withCtx, unref as _unref, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = (n) => (_pushScopeId(\"data-v-89dbcde0\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = { class: \"withdraw-coins-container\" };\nconst _hoisted_2 = /* @__PURE__ */ _withScopeId(() => /* @__PURE__ */ _createElementVNode(\n  \"div\",\n  { class: \"blue-bg-container\" },\n  null,\n  -1\n  /* HOISTED */\n));\nconst _hoisted_3 = { class: \"main-content-container flex flex-col justify-between items-center\" };\nconst _hoisted_4 = { class: \"wallet-container flex flex-col justify-center items-center\" };\nconst _hoisted_5 = /* @__PURE__ */ _withScopeId(() => /* @__PURE__ */ _createElementVNode(\n  \"div\",\n  { class: \"available-text\" },\n  \"\\u53EF\\u7528\\u4F59\\u989D\",\n  -1\n  /* HOISTED */\n));\nconst _hoisted_6 = { class: \"money\" };\nconst _hoisted_7 = /* @__PURE__ */ _withScopeId(() => /* @__PURE__ */ _createElementVNode(\n  \"span\",\n  { class: \"usdt-text\" },\n  \"USDT\",\n  -1\n  /* HOISTED */\n));\nconst _hoisted_8 = { class: \"protocols-address-container\" };\nconst _hoisted_9 = { class: \"item-row item-title-row flex justify-between items-center\" };\nconst _hoisted_10 = /* @__PURE__ */ _withScopeId(() => /* @__PURE__ */ _createElementVNode(\n  \"div\",\n  { class: \"label\" },\n  \"\\u63D0\\u73B0\\u4FE1\\u606F\",\n  -1\n  /* HOISTED */\n));\nconst _hoisted_11 = { class: \"item-row flex justify-between items-center\" };\nconst _hoisted_12 = /* @__PURE__ */ _withScopeId(() => /* @__PURE__ */ _createElementVNode(\n  \"div\",\n  { class: \"label\" },\n  \"\\u6635\\u79F0\",\n  -1\n  /* HOISTED */\n));\nconst _hoisted_13 = { class: \"value\" };\nconst _hoisted_14 = { class: \"item-row flex justify-between items-center\" };\nconst _hoisted_15 = /* @__PURE__ */ _withScopeId(() => /* @__PURE__ */ _createElementVNode(\n  \"div\",\n  { class: \"label\" },\n  \"\\u534F\\u8BAE\",\n  -1\n  /* HOISTED */\n));\nconst _hoisted_16 = { class: \"value\" };\nconst _hoisted_17 = { class: \"item-row flex justify-between items-center\" };\nconst _hoisted_18 = /* @__PURE__ */ _withScopeId(() => /* @__PURE__ */ _createElementVNode(\n  \"div\",\n  { class: \"label\" },\n  \"\\u63D0\\u73B0\\u5730\\u5740\",\n  -1\n  /* HOISTED */\n));\nconst _hoisted_19 = { class: \"value\" };\nconst _hoisted_20 = { class: \"withdraw-coins-info-container\" };\nconst _hoisted_21 = /* @__PURE__ */ _withScopeId(() => /* @__PURE__ */ _createElementVNode(\n  \"div\",\n  { class: \"withdraw-coins-amount-text\" },\n  \"\\u63D0\\u5E01\\u6570\\u91CF\",\n  -1\n  /* HOISTED */\n));\nconst _hoisted_22 = { class: \"input-container flex justify-between items-center\" };\nconst _hoisted_23 = /* @__PURE__ */ _withScopeId(() => /* @__PURE__ */ _createElementVNode(\n  \"div\",\n  { class: \"coin-unit\" },\n  \"USDT\",\n  -1\n  /* HOISTED */\n));\nconst _hoisted_24 = { class: \"label\" };\nconst _hoisted_25 = { class: \"value\" };\nconst _hoisted_26 = /* @__PURE__ */ _withScopeId(() => /* @__PURE__ */ _createElementVNode(\n  \"span\",\n  null,\n  \"USDT\",\n  -1\n  /* HOISTED */\n));\nconst _hoisted_27 = {\n  key: 1,\n  class: \"bind-address-tips\"\n};\nconst _hoisted_28 = /* @__PURE__ */ _withScopeId(() => /* @__PURE__ */ _createElementVNode(\n  \"div\",\n  { class: \"withdraw-coins-tips\" },\n  \"\\u9700\\u8981\\u6CE8\\u610F\\u63D0\\u5E01\\u5730\\u5740\\u7684\\u6700\\u4F4E\\u5145\\u503C\\u91D1\\u989D\\uFF0C\\u5426\\u5219\\u63D0\\u73B0\\u4E0D\\u4F1A\\u5230\\u8D26\",\n  -1\n  /* HOISTED */\n));\nconst _hoisted_29 = [\"onClick\"];\nconst _hoisted_30 = { class: \"pt-[5px] ml-[23px] mr-[auto]\" };\nconst _hoisted_31 = { class: \"text-[28px] text-[#343434]\" };\nconst _hoisted_32 = { class: \"text-[28px] text-[#979595]\" };\nimport { getMoneyWithdrawApi } from \"@/apis/user\";\nimport info from \"@/assets/images/common/info.png\";\nimport warning from \"@/assets/images/common/warning.png\";\nimport { useAppBar } from \"@/components/AppBar/useAppBar\";\nimport { useAuthStore } from \"@/store/modules/auth\";\nimport { useCoinBuySellStore } from \"@/store/modules/coinBuySell/buySell\";\nimport { useCommonStore } from \"@/store/modules/common\";\nimport { useEntryStore } from \"@/store/modules/entry\";\nimport mitt from \"@/utils/mitt\";\nimport { requireImg } from \"@/utils/tools\";\nimport { storeToRefs } from \"pinia\";\nimport { showToast } from \"vant\";\nimport { computed, nextTick, onMounted, ref, watch, watchEffect } from \"vue\";\nimport { useRouter } from \"vue-router\";\nexport default /* @__PURE__ */ _defineComponent({\n  __name: \"WithdrawCoins\",\n  setup(__props) {\n    useAppBar({ mode: \"dark\" });\n    const router = useRouter();\n    const coinBuySellStore = useCoinBuySellStore();\n    const { getWithdrawddresslist } = coinBuySellStore;\n    const { withdrawddresslist } = storeToRefs(coinBuySellStore);\n    const authStore = useAuthStore();\n    const { getUserCoin } = authStore;\n    const { coins } = storeToRefs(authStore);\n    const commonStore = useCommonStore();\n    const EntryStore = useEntryStore();\n    const { config } = storeToRefs(EntryStore);\n    const withDrawCoins = ref([\n      { label: \"\\u624B\\u7EED\\u8D39(2%)\", value: \"0.00\" },\n      { label: \"\\u5B9E\\u9645\\u6263\\u6B3E\", value: \"0.00\" },\n      { label: \"\\u6700\\u5C0F\\u63D0\\u73B0\", value: \"0.00\" },\n      { label: \"\\u6700\\u5927\\u63D0\\u73B0\", value: \"0.00\" }\n    ]);\n    const withDrawCoinsAmount = ref(\"\");\n    const isLoading = ref(true);\n    const isConfirmDialog = ref(false);\n    const pay_pass = ref(\"\");\n    const showKeyboard = ref(false);\n    const showUSDTCardSheet = ref(false);\n    const payPass = ref();\n    const numberKeyboard = ref();\n    const withdrawCoinInfo = ref({});\n    const imgserver_url = computed(() => {\n      var _a, _b;\n      return ((_b = (_a = config.value.Web_Set_DefaultInfo) == null ? void 0 : _a.imgserver_url) == null ? void 0 : _b.v) || \"\";\n    });\n    const coinInfo = computed(() => {\n      var _a;\n      return (_a = coins.value) == null ? void 0 : _a.find((item) => item.mtype === 2);\n    });\n    const usdtCardList = computed(() => {\n      var _a, _b;\n      const list = (_b = (_a = withdrawddresslist.value) == null ? void 0 : _a.filter(\n        (item) => item.coin_protocol === \"USDT_TRC20\" && item.status === 1\n      )) != null ? _b : [];\n      list.sort((l1, l2) => l1.def_card - l2.def_card);\n      return list;\n    });\n    const maxAvailableWithdraw = computed(\n      () => +coinInfo.value.available_coincash / (1 + +coinInfo.value.coinset_config.fee_withdraw)\n    );\n    const slectMenu = (item) => {\n      withdrawCoinInfo.value = item;\n      showUSDTCardSheet.value = false;\n    };\n    const updateCursorPos = (onlyUpdateValue = false) => {\n      setTimeout(() => {\n        let amountInputEl = document.querySelector(\".amount-input input\");\n        if (amountInputEl) {\n          amountInputEl.value = withDrawCoinsAmount.value;\n          if (onlyUpdateValue) {\n            amountInputEl = null;\n            return;\n          }\n          amountInputEl.selectionStart = withDrawCoinsAmount.value.length;\n          amountInputEl.selectionEnd = withDrawCoinsAmount.value.length;\n          amountInputEl = null;\n        }\n      }, 20);\n    };\n    watch(withdrawddresslist, (val, oldVal) => {\n      var _a;\n      withdrawCoinInfo.value = (_a = withdrawddresslist.value) == null ? void 0 : _a.find(\n        (item) => item.coin_protocol === \"USDT_TRC20\" && item.def_card === 1\n      );\n    });\n    watch(withDrawCoinsAmount, (val, oldVal) => {\n      if (val === \".\" || val.startsWith(\"00\")) {\n        withDrawCoinsAmount.value = \"0.\";\n        updateCursorPos();\n        return;\n      }\n      if (oldVal && val.startsWith(\"0\")) {\n        withDrawCoinsAmount.value = \"0\";\n      }\n      const dotIndex = val.indexOf(\".\");\n      if (~dotIndex) {\n        const str = val.slice(dotIndex + 1, val.length);\n        const replacer = (match, p1, p2) => {\n          if (p1.startsWith(\"0\") && +p1 > 0) {\n            return \"0\";\n          }\n          return p1 + \".\" + p2;\n        };\n        const newAmount = val.replace(/^(\\d+)\\.(\\d\\d).*$/, replacer);\n        withDrawCoinsAmount.value = newAmount;\n        updateCursorPos(true);\n        return;\n      }\n      if (+val > +maxAvailableWithdraw.value) {\n        withDrawCoinsAmount.value = maxAvailableWithdraw.value.toTruncFixed(2);\n        updateCursorPos();\n      }\n    });\n    watchEffect(() => {\n      var _a;\n      const withdrawFeeRate = +coinInfo.value.coinset_config.fee_withdraw;\n      const withdrawFee = (+(withDrawCoinsAmount.value || 0) * withdrawFeeRate).toTruncFixed(2);\n      const actualDebuction = (+((_a = withDrawCoinsAmount.value) != null ? _a : 0) * (1 + withdrawFeeRate)).toTruncFixed(\n        2\n      );\n      const minWithdraw = (+coinInfo.value.coinset_config.min_withdraw).toTruncFixed(2);\n      const maxWithdraw = (+coinInfo.value.coinset_config.max_withdraw).toTruncFixed(2);\n      withDrawCoins.value = [\n        {\n          label: `\\u624B\\u7EED\\u8D39(${withdrawFeeRate * 100}%)`,\n          value: withdrawFee\n        },\n        { label: \"\\u5B9E\\u9645\\u6263\\u6B3E\", value: actualDebuction },\n        { label: \"\\u6700\\u5C0F\\u63D0\\u73B0\", value: minWithdraw },\n        { label: \"\\u6700\\u5927\\u63D0\\u73B0\", value: maxWithdraw }\n      ];\n    });\n    const onMaxAmount = () => {\n      withDrawCoinsAmount.value = maxAvailableWithdraw.value.toTruncFixed(2);\n    };\n    const onSubmit = () => {\n      var _a;\n      if ((_a = withdrawCoinInfo.value) == null ? void 0 : _a.coin_address) {\n        if (!withDrawCoinsAmount.value) {\n          showToast({\n            message: \"\\u8BF7\\u8F93\\u5165\\u63D0\\u5E01\\u6570\\u91CF\",\n            icon: info,\n            iconSize: \"48px\"\n          });\n          return;\n        }\n        if (withDrawCoinsAmount.value < coinInfo.value.coinset_config.min_withdraw) {\n          showToast({\n            message: \"\\u63D0\\u73B0\\u6570\\u91CF\\u5C0F\\u4E8E\\u6700\\u5C0F\\u63D0\\u73B0\",\n            icon: info,\n            iconSize: \"48px\"\n          });\n          return;\n        }\n        if (+coinInfo.value.available_coincash < +withDrawCoins.value[1].value || !+coinInfo.value.available_coincash) {\n          showToast({\n            message: \"\\u4F59\\u989D\\u4E0D\\u8DB3\",\n            icon: warning,\n            iconSize: \"48px\"\n          });\n          return;\n        }\n        isConfirmDialog.value = true;\n        showKeyboard.value = true;\n        nextTick(() => {\n          var _a2, _b, _c;\n          (_a2 = payPass.value) == null ? void 0 : _a2.focus();\n          (_c = (_b = payPass.value) == null ? void 0 : _b.click) == null ? void 0 : _c.call(_b);\n          payPass.value.$el.querySelector(\"input[type=password]\").focus();\n        });\n      } else {\n        router.push(\"/usdt\");\n      }\n    };\n    const onNumberKeyboardShow = () => {\n      mitt.emit(\"number-keyboard-show\");\n    };\n    const onFocus = () => {\n      showKeyboard.value = true;\n    };\n    const onCloseAuthConfirm = () => {\n      isConfirmDialog.value = false;\n      showKeyboard.value = false;\n      pay_pass.value = \"\";\n    };\n    const onConfirmPayPass = async () => {\n      if (pay_pass.value.length < 6) {\n        showToast({\n          message: \"\\u8BF7\\u8F93\\u51656\\u4F4D\\u652F\\u4ED8\\u5BC6\\u7801\",\n          icon: info,\n          iconSize: \"48px\"\n        });\n        return;\n      }\n      try {\n        commonStore.setShowLoading(true);\n        const res = await getMoneyWithdrawApi({\n          money: withDrawCoinsAmount.value,\n          id: withdrawCoinInfo.value.id,\n          coin_address: withdrawCoinInfo.value.coin_address,\n          passwd: pay_pass.value\n        });\n        if (res.orderID) {\n          mitt.emit(\"dialog-tips\", {\n            title: \"\\u63D0\\u793A\",\n            content: \"\\u60A8\\u7684\\u63D0\\u73B0\\u4FE1\\u606F\\u63D0\\u4EA4\\u6210\\u529F\\uFF0C\\u8BF7\\u7B49\\u5F85\\u5BA2\\u670D\\u5BA1\\u6838\\u3002\",\n            confirmButtonText: \"\\u786E\\u5B9A\",\n            confirmAction: () => {\n              router.push(\"/details/coin-details/usdt\");\n            }\n          });\n        } else {\n          onCloseAuthConfirm();\n        }\n      } catch (error) {\n        console.error(error);\n      } finally {\n        commonStore.setShowLoading(false);\n      }\n    };\n    const initAmountEvent = () => {\n      nextTick(() => {\n        const amountInputEl = document.querySelector(\".amount-input input\");\n        if (amountInputEl) {\n          amountInputEl.onkeydown = (e) => {\n            if ([\"-\", \"+\"].includes(e.key)) {\n              return e.preventDefault();\n            }\n          };\n        }\n      });\n    };\n    const getInitData = async () => {\n      try {\n        isLoading.value = true;\n        if (!coins.value.length) {\n          getUserCoin({});\n        }\n        getWithdrawddresslist({});\n      } catch (error) {\n        console.error(error);\n      } finally {\n        isLoading.value = false;\n        initAmountEvent();\n      }\n    };\n    onMounted(() => {\n      getInitData();\n      mitt.emit(\"number-keyboard-show\");\n      mitt.emit(\"action-sheet-show\");\n    });\n    return (_ctx, _cache) => {\n      var _a, _b, _c, _d, _e, _f, _g, _h, _i;\n      const _component_van_field = _resolveComponent(\"van-field\");\n      const _component_van_dialog = _resolveComponent(\"van-dialog\");\n      const _component_van_image = _resolveComponent(\"van-image\");\n      const _component_van_action_sheet = _resolveComponent(\"van-action-sheet\");\n      return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n        _hoisted_2,\n        _createElementVNode(\"div\", _hoisted_3, [\n          _createElementVNode(\"div\", _hoisted_4, [\n            _hoisted_5,\n            _createElementVNode(\"div\", null, [\n              _createElementVNode(\n                \"span\",\n                _hoisted_6,\n                _toDisplayString((+((_b = (_a = coinInfo.value) == null ? void 0 : _a.available_coincash) != null ? _b : \"0\")).toTruncFixed(2)),\n                1\n                /* TEXT */\n              ),\n              _hoisted_7\n            ])\n          ]),\n          !isLoading.value ? (_openBlock(), _createElementBlock(\n            _Fragment,\n            { key: 0 },\n            [\n              ((_c = withdrawCoinInfo.value) == null ? void 0 : _c.coin_address) ? (_openBlock(), _createElementBlock(\n                _Fragment,\n                { key: 0 },\n                [\n                  _createElementVNode(\"div\", _hoisted_8, [\n                    _createElementVNode(\"div\", _hoisted_9, [\n                      _hoisted_10,\n                      usdtCardList.value.length > 1 ? (_openBlock(), _createElementBlock(\"div\", {\n                        key: 0,\n                        class: \"value toggle-select-text\",\n                        onClick: _cache[0] || (_cache[0] = ($event) => showUSDTCardSheet.value = true)\n                      }, \" \\u9009\\u62E9 \")) : _createCommentVNode(\"v-if\", true)\n                    ]),\n                    _createElementVNode(\"div\", _hoisted_11, [\n                      _hoisted_12,\n                      _createElementVNode(\n                        \"div\",\n                        _hoisted_13,\n                        _toDisplayString((_d = withdrawCoinInfo.value) == null ? void 0 : _d.account_bank_realname),\n                        1\n                        /* TEXT */\n                      )\n                    ]),\n                    _createElementVNode(\"div\", _hoisted_14, [\n                      _hoisted_15,\n                      _createElementVNode(\n                        \"div\",\n                        _hoisted_16,\n                        _toDisplayString((_f = (_e = withdrawCoinInfo.value) == null ? void 0 : _e.coin_protocol) != null ? _f : \"USDT_TRC20\"),\n                        1\n                        /* TEXT */\n                      )\n                    ]),\n                    _createElementVNode(\"div\", _hoisted_17, [\n                      _hoisted_18,\n                      _createElementVNode(\n                        \"div\",\n                        _hoisted_19,\n                        _toDisplayString((_h = (_g = withdrawCoinInfo.value) == null ? void 0 : _g.coin_address) != null ? _h : \"--\"),\n                        1\n                        /* TEXT */\n                      )\n                    ])\n                  ]),\n                  _createElementVNode(\"div\", _hoisted_20, [\n                    _hoisted_21,\n                    _createElementVNode(\"div\", _hoisted_22, [\n                      _createCommentVNode(\" \\u5141\\u8BB8\\u8F93\\u5165\\u6570\\u5B57\\uFF0C\\u8C03\\u8D77\\u5E26\\u7B26\\u53F7\\u7684\\u7EAF\\u6570\\u5B57\\u952E\\u76D8 \"),\n                      _createVNode(_component_van_field, {\n                        modelValue: withDrawCoinsAmount.value,\n                        \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event) => withDrawCoinsAmount.value = $event),\n                        type: \"number\",\n                        placeholder: \"\\u8BF7\\u8F93\\u5165\\u63D0\\u5E01\\u6570\\u91CF\",\n                        class: \"amount-input\"\n                      }, null, 8, [\"modelValue\"]),\n                      _hoisted_23,\n                      _createElementVNode(\"div\", {\n                        class: \"max-amount\",\n                        onClick: onMaxAmount\n                      }, \" \\u6700\\u5927 \")\n                    ]),\n                    (_openBlock(true), _createElementBlock(\n                      _Fragment,\n                      null,\n                      _renderList(withDrawCoins.value, (item, index) => {\n                        return _openBlock(), _createElementBlock(\"div\", {\n                          key: index,\n                          class: \"row-item flex justify-between items-center\"\n                        }, [\n                          _createElementVNode(\n                            \"div\",\n                            _hoisted_24,\n                            _toDisplayString(item.label),\n                            1\n                            /* TEXT */\n                          ),\n                          _createElementVNode(\"div\", _hoisted_25, [\n                            _createTextVNode(\n                              _toDisplayString(item.value) + \" \",\n                              1\n                              /* TEXT */\n                            ),\n                            _hoisted_26\n                          ])\n                        ]);\n                      }),\n                      128\n                      /* KEYED_FRAGMENT */\n                    ))\n                  ])\n                ],\n                64\n                /* STABLE_FRAGMENT */\n              )) : (_openBlock(), _createElementBlock(\"div\", _hoisted_27, \" \\u8BF7\\u5148\\u7ED1\\u5B9A\\u63D0\\u5E01\\u5730\\u5740 \"))\n            ],\n            64\n            /* STABLE_FRAGMENT */\n          )) : _createCommentVNode(\"v-if\", true),\n          _hoisted_28,\n          _createElementVNode(\n            \"div\",\n            {\n              class: \"btn-submit text-center\",\n              onClick: onSubmit\n            },\n            _toDisplayString(((_i = withdrawCoinInfo.value) == null ? void 0 : _i.coin_address) ? \"\\u786E\\u5B9A\" : \"\\u7ED1\\u5B9A\\u5730\\u5740\"),\n            1\n            /* TEXT */\n          )\n        ]),\n        _createVNode(_component_van_dialog, {\n          show: isConfirmDialog.value,\n          \"onUpdate:show\": _cache[3] || (_cache[3] = ($event) => isConfirmDialog.value = $event),\n          title: \"\\u8EAB\\u4EFD\\u9A8C\\u8BC1\",\n          theme: \"round-button\",\n          className: \"dialog-auth\"\n        }, {\n          footer: _withCtx(() => [\n            _createElementVNode(\"div\", {\n              class: \"btn-confirm flex items-center justify-center\",\n              onClick: onConfirmPayPass\n            }, \" \\u63D0\\u4EA4 \")\n          ]),\n          default: _withCtx(() => [\n            _createElementVNode(\"i\", {\n              class: \"icon-close close-dark block\",\n              onClick: onCloseAuthConfirm\n            }),\n            _createElementVNode(\"div\", null, [\n              _createVNode(_component_van_field, {\n                modelValue: pay_pass.value,\n                \"onUpdate:modelValue\": _cache[2] || (_cache[2] = ($event) => pay_pass.value = $event),\n                ref_key: \"payPass\",\n                ref: payPass,\n                placeholder: \"\\u8BF7\\u8F93\\u5165\\u652F\\u4ED8\\u5BC6\\u7801\",\n                type: \"number\",\n                maxlength: 6,\n                clickable: \"\",\n                onTouchstart: _withModifiers(onFocus, [\"stop\"]),\n                onFocus\n              }, null, 8, [\"modelValue\"])\n            ])\n          ]),\n          _: 1\n          /* STABLE */\n        }, 8, [\"show\"]),\n        _createCommentVNode(\" USDT\\u9009\\u62E9\\u5F39\\u5C42 \"),\n        _createVNode(_component_van_action_sheet, {\n          show: showUSDTCardSheet.value,\n          \"onUpdate:show\": _cache[4] || (_cache[4] = ($event) => showUSDTCardSheet.value = $event),\n          description: \"USDT\\u63D0\\u73B0\\u5730\\u5740\",\n          class: \"!w-[750px] usdt-sheet full-w-sheet\",\n          \"lazy-render\": false\n        }, {\n          default: _withCtx(() => [\n            (_openBlock(true), _createElementBlock(\n              _Fragment,\n              null,\n              _renderList(usdtCardList.value, (item, index) => {\n                return _openBlock(), _createElementBlock(\"div\", {\n                  class: \"item-card flex justify-between items-center\",\n                  onClick: ($event) => slectMenu(item),\n                  key: item.id\n                }, [\n                  _createVNode(_component_van_image, {\n                    \"lazy-load\": \"\",\n                    class: \"usdt-icon\",\n                    src: _unref(requireImg)(\"common/usdt-icon.png\")\n                  }, null, 8, [\"src\"]),\n                  _createElementVNode(\"div\", _hoisted_30, [\n                    _createElementVNode(\n                      \"p\",\n                      _hoisted_31,\n                      _toDisplayString(item.coin_protocol),\n                      1\n                      /* TEXT */\n                    ),\n                    _createElementVNode(\n                      \"p\",\n                      _hoisted_32,\n                      _toDisplayString(item.account_bank_realname),\n                      1\n                      /* TEXT */\n                    )\n                  ]),\n                  item.id == withdrawCoinInfo.value.id ? (_openBlock(), _createBlock(_component_van_image, {\n                    key: 0,\n                    class: \"toggle-container mr-[15px]\",\n                    src: _unref(requireImg)(\"common/success.png\")\n                  }, null, 8, [\"src\"])) : (_openBlock(), _createBlock(_component_van_image, {\n                    key: 1,\n                    class: \"toggle-container mr-[15px]\",\n                    src: _unref(requireImg)(\"common/hui.png\")\n                  }, null, 8, [\"src\"]))\n                ], 8, _hoisted_29);\n              }),\n              128\n              /* KEYED_FRAGMENT */\n            ))\n          ]),\n          _: 1\n          /* STABLE */\n        }, 8, [\"show\"])\n      ]);\n    };\n  }\n});\n"
        ],
        "names": [],
        "mappings": ";;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,uBAA8B;AACjE,oCAAoC,uBAA+B;AACnE,mCAAmC,uBAA8B;AACjE,0CAA0C,uBAAqC;AAC/E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;"
      }
    },
    {
      "name": "vite:style-import",
      "start": 1714699771646,
      "end": 1714699771646,
      "order": "post"
    },
    {
      "name": "vite:build-import-analysis",
      "start": 1714699771646,
      "end": 1714699771646,
      "order": "normal"
    },
    {
      "name": "vite:reporter",
      "start": 1714699771646,
      "end": 1714699771646,
      "order": "normal"
    }
  ]
}
