{
  "resolvedId": "/Users/afeng/Desktop/work/gdpayh5-web/src/pages/Bricks/Recharge.vue?vue&type=script&setup=true&lang.ts",
  "transforms": [
    {
      "name": "vite:vue",
      "result": "import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-27ac4185\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"recharge-container flex flex-col justify-between\" }\nconst _hoisted_2 = { class: \"coin-type-toggle-container flex justify-center text-center\" }\nconst _hoisted_3 = { class: \"usdt-recharge-qrcode-container flex flex-col justify-between items-center\" }\nconst _hoisted_4 = [\"src\"]\nconst _hoisted_5 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"recharge-text\" }, \"USDT充币二维码\", -1 /* HOISTED */))\nconst _hoisted_6 = { class: \"recharge-address-container flex flex-col justify-between\" }\nconst _hoisted_7 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"address-text\" }, \"地址\", -1 /* HOISTED */))\nconst _hoisted_8 = { class: \"address-content flex justify-between items-center\" }\nconst _hoisted_9 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"recharge-tips-container text-center\" }, [\n  /*#__PURE__*/_createElementVNode(\"div\", null, \"最少充值数量：1USDT\"),\n  /*#__PURE__*/_createElementVNode(\"div\", null, \"扫描或者复制地址完成充值,\"),\n  /*#__PURE__*/_createElementVNode(\"div\", null, \"仅发送Tether(USDT_TRC20)到该地址。\"),\n  /*#__PURE__*/_createElementVNode(\"div\", null, \"发送其他加密货币可能会造成永久损失。\")\n], -1 /* HOISTED */))\nconst _hoisted_10 = { class: \"content\" }\n\nimport verified from '@/assets/images/common/verified.png'\nimport { useCommonStore } from '@/store/modules/common'\nimport { useUserStore } from '@/store/modules/user'\nimport { storeToRefs } from 'pinia'\nimport QRCode from 'qrcode'\nimport { showToast } from 'vant'\nimport { computed, nextTick, onMounted, onUnmounted, reactive, ref, watch } from 'vue'\nimport clipboard3 from 'vue-clipboard3'\nimport { useRoute } from 'vue-router'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'Recharge',\n  setup(__props) {\n\nconst route = useRoute()\nconst userStore = useUserStore()\nconst { getUserWalletAddressApi } = userStore\nconst { userWallet } = storeToRefs(userStore)\n\nconst commonStore = useCommonStore()\n\n// 币种协议映射表\nconst coinInfoMap = {\n  USDT_TRC20: {\n    coin_name: 'USDT',\n    coin_protocol: 'USDT_TRC20',\n    coin_wallet_api: 'TRX_SYS'\n  },\n  USDT_ERC20: {\n    coin_name: 'USDT',\n    coin_protocol: 'USDT_ERC20',\n    coin_wallet_api: 'UDUNCLOUD'\n  }\n} as Record<string, any>\nconst isWebView = sessionStorage.getItem('isWebview') === '1'\n\n// 当前协议\nconst coinProtocol = ref('USDT_TRC20')\n// 充币二维码base64地址\nconst qrcodeUrl = ref('')\nconst btnSaveCodeText = ref(isWebView ? '请截图保存二维码' : '保存二维码')\n// 确认弹窗\nconst dialog = reactive({\n  show: false,\n  data: {\n    title: '提示',\n    content: '请等待1-3分钟各个区块节点确认后，充值金额才会入账，如有疑问请联系客服。',\n    confirmButtonText: '确定'\n  }\n})\n\n// 充币信息\nconst rechargeInfo = computed(() =>\n  userWallet.value?.find(item => item.coin_protocol === coinProtocol.value)\n)\n\n// 根据usdt地址生成充币二维码\nwatch(\n  rechargeInfo,\n  (walletInfo, oldWalletInfo) => {\n    generateQR(walletInfo?.coin_address ?? '未知错误')\n  },\n  { deep: true }\n)\n\nconst onClose = () => {\n  dialog.show = false\n}\n\nlet getUserWalletTimer: NodeJS.Timeout | null\nconst getRechargeInfo = async () => {\n  try {\n    const params = {\n      mtype: 2,\n      ...coinInfoMap[coinProtocol.value]\n    }\n\n    commonStore.setShowLoading(true)\n    // 先请求数据，若没有，则创建充币地址，之后再请求\n    await getUserWalletAddressApi({\n      create: 0,\n      ...params\n    })\n\n    if (!userWallet.value.length) {\n      // 避免接口限流、限频，延迟请求\n      getUserWalletTimer = setTimeout(async () => {\n        await getUserWalletAddressApi({\n          create: 1,\n          ...params\n        })\n        getUserWalletAddressApi({\n          create: 0,\n          ...params\n        })\n      }, 1000)\n    }\n  } catch (error) {\n    console.error(error)\n  } finally {\n    commonStore.setShowLoading(false)\n  }\n}\n\n// 切换币种协议\nconst onChangeCoinProtocol = (protocol: string) => {\n  coinProtocol.value = protocol\n\n  getRechargeInfo()\n}\n\n// 生成充币二维码\nconst generateQR = async (text: string) => {\n  try {\n    const base64Url = await QRCode.toDataURL(text, { width: 225 })\n    qrcodeUrl.value = base64Url\n  } catch (err) {\n    console.error(err)\n  }\n}\n\nconst { toClipboard } = clipboard3()\nconst onCopy = async (text: any) => {\n  try {\n    await toClipboard(text)\n    showToast({\n      message: '钱包地址已复制到剪切板',\n      icon: verified,\n      iconSize: '48px'\n    })\n  } catch (error) {\n    showToast({\n      message: '复制失败!!',\n      icon: verified,\n      iconSize: '48px'\n    })\n  }\n}\n\n// 放大二维码\nconst previewImage = (imgUrl: string) => {\n  const image = new Image()\n  image.src = imgUrl\n  image.onload = () => {\n    // 创建弹出层\n    const previewContainer = document.createElement('div')\n    previewContainer.style.position = 'fixed'\n    previewContainer.style.top = '0'\n    previewContainer.style.bottom = '0'\n    previewContainer.style.left = '0'\n    previewContainer.style.right = '0'\n    previewContainer.style.backgroundColor = 'rgba(0,0,0,0.8)'\n    previewContainer.style.display = 'flex'\n    previewContainer.style.justifyContent = 'center'\n    previewContainer.style.alignItems = 'center'\n    document.body.appendChild(previewContainer)\n    // 在弹出层中添加图片\n    const previewImage = document.createElement('img')\n    previewImage.src = imgUrl\n    previewImage.style.maxWidth = '400px'\n    previewImage.style.maxHeight = '400px'\n    previewImage.style.width = '60%'\n    previewContainer.appendChild(previewImage)\n    // 点击弹出层，关闭预览\n    previewContainer.addEventListener('click', () => {\n      document.body.removeChild(previewContainer)\n    })\n  }\n}\n\n// 下载充币二维码图片\nconst downloadRechargeQrCode = async (e: Event) => {\n  const isWebView = sessionStorage.getItem('isWebview') === '1'\n\n  if (isWebView) {\n    previewImage(qrcodeUrl.value)\n  } else {\n    const link = document.createElement('a')\n    link.href = qrcodeUrl.value\n    link.download = `${coinProtocol.value}.png`\n    link.click()\n\n    nextTick(() => {\n      showToast({\n        message: '保存成功',\n        icon: verified,\n        iconSize: '48px'\n      })\n    })\n  }\n}\n\nonMounted(() => {\n  generateQR(rechargeInfo.value?.coin_address ?? '未知错误')\n  getRechargeInfo()\n})\nonUnmounted(() => {\n  getUserWalletTimer && clearTimeout(getUserWalletTimer)\n  getUserWalletTimer = null\n})\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_van_dialog = _resolveComponent(\"van-dialog\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createElementVNode(\"div\", {\n        class: \"btn-usdt-trc20\",\n        onClick: _cache[0] || (_cache[0] = ($event: any) => (onChangeCoinProtocol('USDT_TRC20')))\n      }, \" USDT_TRC20 \")\n    ]),\n    _createElementVNode(\"div\", _hoisted_3, [\n      _createElementVNode(\"img\", {\n        src: qrcodeUrl.value,\n        class: \"qr-code\"\n      }, null, 8 /* PROPS */, _hoisted_4),\n      _hoisted_5\n    ]),\n    _createElementVNode(\"div\", {\n      class: \"btn-save text-center\",\n      onClick: downloadRechargeQrCode\n    }, _toDisplayString(btnSaveCodeText.value), 1 /* TEXT */),\n    _createElementVNode(\"div\", _hoisted_6, [\n      _hoisted_7,\n      _createElementVNode(\"div\", _hoisted_8, [\n        _createElementVNode(\"div\", null, _toDisplayString(rechargeInfo.value?.coin_address), 1 /* TEXT */),\n        _createElementVNode(\"i\", {\n          class: \"copy\",\n          onClick: _cache[1] || (_cache[1] = ($event: any) => (onCopy(rechargeInfo.value?.coin_address)))\n        })\n      ])\n    ]),\n    _hoisted_9,\n    _createElementVNode(\"div\", {\n      class: \"btn-ok text-center\",\n      onClick: _cache[2] || (_cache[2] = ($event: any) => (dialog.show = true))\n    }, \" 完成充值 \"),\n    _createVNode(_component_van_dialog, {\n      show: dialog.show,\n      \"onUpdate:show\": _cache[3] || (_cache[3] = ($event: any) => ((dialog.show) = $event)),\n      title: dialog.data.title,\n      theme: \"round-button\",\n      className: \"dialog-recharge-tips\",\n      confirmButtonText: dialog.data.confirmButtonText\n    }, {\n      footer: _withCtx(() => [\n        _createElementVNode(\"div\", {\n          class: \"btn-confirm flex items-center justify-center\",\n          onClick: onClose\n        }, _toDisplayString(dialog.data.confirmButtonText), 1 /* TEXT */)\n      ]),\n      default: _withCtx(() => [\n        _createElementVNode(\"i\", {\n          class: \"icon-close block close-dark\",\n          onClick: onClose\n        }),\n        _createElementVNode(\"div\", null, [\n          _createElementVNode(\"div\", _hoisted_10, _toDisplayString(dialog.data.content), 1 /* TEXT */)\n        ])\n      ]),\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"show\", \"title\", \"confirmButtonText\"])\n  ]))\n}\n}\n\n})",
      "start": 1714699769753,
      "end": 1714699769753
    },
    {
      "name": "vite:css",
      "start": 1714699769753,
      "end": 1714699769753,
      "order": "normal"
    },
    {
      "name": "vite:esbuild",
      "result": "import { defineComponent as _defineComponent } from \"vue\";\nimport { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = (n) => (_pushScopeId(\"data-v-27ac4185\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = { class: \"recharge-container flex flex-col justify-between\" };\nconst _hoisted_2 = { class: \"coin-type-toggle-container flex justify-center text-center\" };\nconst _hoisted_3 = { class: \"usdt-recharge-qrcode-container flex flex-col justify-between items-center\" };\nconst _hoisted_4 = [\"src\"];\nconst _hoisted_5 = /* @__PURE__ */ _withScopeId(() => /* @__PURE__ */ _createElementVNode(\n  \"div\",\n  { class: \"recharge-text\" },\n  \"USDT充币二维码\",\n  -1\n  /* HOISTED */\n));\nconst _hoisted_6 = { class: \"recharge-address-container flex flex-col justify-between\" };\nconst _hoisted_7 = /* @__PURE__ */ _withScopeId(() => /* @__PURE__ */ _createElementVNode(\n  \"div\",\n  { class: \"address-text\" },\n  \"地址\",\n  -1\n  /* HOISTED */\n));\nconst _hoisted_8 = { class: \"address-content flex justify-between items-center\" };\nconst _hoisted_9 = /* @__PURE__ */ _withScopeId(() => /* @__PURE__ */ _createElementVNode(\n  \"div\",\n  { class: \"recharge-tips-container text-center\" },\n  [\n    /* @__PURE__ */ _createElementVNode(\"div\", null, \"最少充值数量：1USDT\"),\n    /* @__PURE__ */ _createElementVNode(\"div\", null, \"扫描或者复制地址完成充值,\"),\n    /* @__PURE__ */ _createElementVNode(\"div\", null, \"仅发送Tether(USDT_TRC20)到该地址。\"),\n    /* @__PURE__ */ _createElementVNode(\"div\", null, \"发送其他加密货币可能会造成永久损失。\")\n  ],\n  -1\n  /* HOISTED */\n));\nconst _hoisted_10 = { class: \"content\" };\nimport verified from \"@/assets/images/common/verified.png\";\nimport { useCommonStore } from \"@/store/modules/common\";\nimport { useUserStore } from \"@/store/modules/user\";\nimport { storeToRefs } from \"pinia\";\nimport QRCode from \"qrcode\";\nimport { showToast } from \"vant\";\nimport { computed, nextTick, onMounted, onUnmounted, reactive, ref, watch } from \"vue\";\nimport clipboard3 from \"vue-clipboard3\";\nimport { useRoute } from \"vue-router\";\nexport default /* @__PURE__ */ _defineComponent({\n  __name: \"Recharge\",\n  setup(__props) {\n    const route = useRoute();\n    const userStore = useUserStore();\n    const { getUserWalletAddressApi } = userStore;\n    const { userWallet } = storeToRefs(userStore);\n    const commonStore = useCommonStore();\n    const coinInfoMap = {\n      USDT_TRC20: {\n        coin_name: \"USDT\",\n        coin_protocol: \"USDT_TRC20\",\n        coin_wallet_api: \"TRX_SYS\"\n      },\n      USDT_ERC20: {\n        coin_name: \"USDT\",\n        coin_protocol: \"USDT_ERC20\",\n        coin_wallet_api: \"UDUNCLOUD\"\n      }\n    };\n    const isWebView = sessionStorage.getItem(\"isWebview\") === \"1\";\n    const coinProtocol = ref(\"USDT_TRC20\");\n    const qrcodeUrl = ref(\"\");\n    const btnSaveCodeText = ref(isWebView ? \"请截图保存二维码\" : \"保存二维码\");\n    const dialog = reactive({\n      show: false,\n      data: {\n        title: \"提示\",\n        content: \"请等待1-3分钟各个区块节点确认后，充值金额才会入账，如有疑问请联系客服。\",\n        confirmButtonText: \"确定\"\n      }\n    });\n    const rechargeInfo = computed(\n      () => userWallet.value?.find((item) => item.coin_protocol === coinProtocol.value)\n    );\n    watch(\n      rechargeInfo,\n      (walletInfo, oldWalletInfo) => {\n        generateQR(walletInfo?.coin_address ?? \"未知错误\");\n      },\n      { deep: true }\n    );\n    const onClose = () => {\n      dialog.show = false;\n    };\n    let getUserWalletTimer;\n    const getRechargeInfo = async () => {\n      try {\n        const params = {\n          mtype: 2,\n          ...coinInfoMap[coinProtocol.value]\n        };\n        commonStore.setShowLoading(true);\n        await getUserWalletAddressApi({\n          create: 0,\n          ...params\n        });\n        if (!userWallet.value.length) {\n          getUserWalletTimer = setTimeout(async () => {\n            await getUserWalletAddressApi({\n              create: 1,\n              ...params\n            });\n            getUserWalletAddressApi({\n              create: 0,\n              ...params\n            });\n          }, 1e3);\n        }\n      } catch (error) {\n        console.error(error);\n      } finally {\n        commonStore.setShowLoading(false);\n      }\n    };\n    const onChangeCoinProtocol = (protocol) => {\n      coinProtocol.value = protocol;\n      getRechargeInfo();\n    };\n    const generateQR = async (text) => {\n      try {\n        const base64Url = await QRCode.toDataURL(text, { width: 225 });\n        qrcodeUrl.value = base64Url;\n      } catch (err) {\n        console.error(err);\n      }\n    };\n    const { toClipboard } = clipboard3();\n    const onCopy = async (text) => {\n      try {\n        await toClipboard(text);\n        showToast({\n          message: \"钱包地址已复制到剪切板\",\n          icon: verified,\n          iconSize: \"48px\"\n        });\n      } catch (error) {\n        showToast({\n          message: \"复制失败!!\",\n          icon: verified,\n          iconSize: \"48px\"\n        });\n      }\n    };\n    const previewImage = (imgUrl) => {\n      const image = new Image();\n      image.src = imgUrl;\n      image.onload = () => {\n        const previewContainer = document.createElement(\"div\");\n        previewContainer.style.position = \"fixed\";\n        previewContainer.style.top = \"0\";\n        previewContainer.style.bottom = \"0\";\n        previewContainer.style.left = \"0\";\n        previewContainer.style.right = \"0\";\n        previewContainer.style.backgroundColor = \"rgba(0,0,0,0.8)\";\n        previewContainer.style.display = \"flex\";\n        previewContainer.style.justifyContent = \"center\";\n        previewContainer.style.alignItems = \"center\";\n        document.body.appendChild(previewContainer);\n        const previewImage2 = document.createElement(\"img\");\n        previewImage2.src = imgUrl;\n        previewImage2.style.maxWidth = \"400px\";\n        previewImage2.style.maxHeight = \"400px\";\n        previewImage2.style.width = \"60%\";\n        previewContainer.appendChild(previewImage2);\n        previewContainer.addEventListener(\"click\", () => {\n          document.body.removeChild(previewContainer);\n        });\n      };\n    };\n    const downloadRechargeQrCode = async (e) => {\n      const isWebView2 = sessionStorage.getItem(\"isWebview\") === \"1\";\n      if (isWebView2) {\n        previewImage(qrcodeUrl.value);\n      } else {\n        const link = document.createElement(\"a\");\n        link.href = qrcodeUrl.value;\n        link.download = `${coinProtocol.value}.png`;\n        link.click();\n        nextTick(() => {\n          showToast({\n            message: \"保存成功\",\n            icon: verified,\n            iconSize: \"48px\"\n          });\n        });\n      }\n    };\n    onMounted(() => {\n      generateQR(rechargeInfo.value?.coin_address ?? \"未知错误\");\n      getRechargeInfo();\n    });\n    onUnmounted(() => {\n      getUserWalletTimer && clearTimeout(getUserWalletTimer);\n      getUserWalletTimer = null;\n    });\n    return (_ctx, _cache) => {\n      const _component_van_dialog = _resolveComponent(\"van-dialog\");\n      return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n        _createElementVNode(\"div\", _hoisted_2, [\n          _createElementVNode(\"div\", {\n            class: \"btn-usdt-trc20\",\n            onClick: _cache[0] || (_cache[0] = ($event) => onChangeCoinProtocol(\"USDT_TRC20\"))\n          }, \" USDT_TRC20 \")\n        ]),\n        _createElementVNode(\"div\", _hoisted_3, [\n          _createElementVNode(\"img\", {\n            src: qrcodeUrl.value,\n            class: \"qr-code\"\n          }, null, 8, _hoisted_4),\n          _hoisted_5\n        ]),\n        _createElementVNode(\n          \"div\",\n          {\n            class: \"btn-save text-center\",\n            onClick: downloadRechargeQrCode\n          },\n          _toDisplayString(btnSaveCodeText.value),\n          1\n          /* TEXT */\n        ),\n        _createElementVNode(\"div\", _hoisted_6, [\n          _hoisted_7,\n          _createElementVNode(\"div\", _hoisted_8, [\n            _createElementVNode(\n              \"div\",\n              null,\n              _toDisplayString(rechargeInfo.value?.coin_address),\n              1\n              /* TEXT */\n            ),\n            _createElementVNode(\"i\", {\n              class: \"copy\",\n              onClick: _cache[1] || (_cache[1] = ($event) => onCopy(rechargeInfo.value?.coin_address))\n            })\n          ])\n        ]),\n        _hoisted_9,\n        _createElementVNode(\"div\", {\n          class: \"btn-ok text-center\",\n          onClick: _cache[2] || (_cache[2] = ($event) => dialog.show = true)\n        }, \" 完成充值 \"),\n        _createVNode(_component_van_dialog, {\n          show: dialog.show,\n          \"onUpdate:show\": _cache[3] || (_cache[3] = ($event) => dialog.show = $event),\n          title: dialog.data.title,\n          theme: \"round-button\",\n          className: \"dialog-recharge-tips\",\n          confirmButtonText: dialog.data.confirmButtonText\n        }, {\n          footer: _withCtx(() => [\n            _createElementVNode(\n              \"div\",\n              {\n                class: \"btn-confirm flex items-center justify-center\",\n                onClick: onClose\n              },\n              _toDisplayString(dialog.data.confirmButtonText),\n              1\n              /* TEXT */\n            )\n          ]),\n          default: _withCtx(() => [\n            _createElementVNode(\"i\", {\n              class: \"icon-close block close-dark\",\n              onClick: onClose\n            }),\n            _createElementVNode(\"div\", null, [\n              _createElementVNode(\n                \"div\",\n                _hoisted_10,\n                _toDisplayString(dialog.data.content),\n                1\n                /* TEXT */\n              )\n            ])\n          ]),\n          _: 1\n          /* STABLE */\n        }, 8, [\"show\", \"title\", \"confirmButtonText\"])\n      ]);\n    };\n  }\n});\n",
      "start": 1714699769753,
      "end": 1714699770684,
      "order": "normal",
      "sourcemaps": {
        "version": 3,
        "sources": [
          "/Users/afeng/Desktop/work/gdpayh5-web/src/pages/Bricks/Recharge.vue?vue&type=script&setup=true&lang.ts"
        ],
        "sourcesContent": [
          "import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-27ac4185\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"recharge-container flex flex-col justify-between\" }\nconst _hoisted_2 = { class: \"coin-type-toggle-container flex justify-center text-center\" }\nconst _hoisted_3 = { class: \"usdt-recharge-qrcode-container flex flex-col justify-between items-center\" }\nconst _hoisted_4 = [\"src\"]\nconst _hoisted_5 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"recharge-text\" }, \"USDT充币二维码\", -1 /* HOISTED */))\nconst _hoisted_6 = { class: \"recharge-address-container flex flex-col justify-between\" }\nconst _hoisted_7 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"address-text\" }, \"地址\", -1 /* HOISTED */))\nconst _hoisted_8 = { class: \"address-content flex justify-between items-center\" }\nconst _hoisted_9 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"recharge-tips-container text-center\" }, [\n  /*#__PURE__*/_createElementVNode(\"div\", null, \"最少充值数量：1USDT\"),\n  /*#__PURE__*/_createElementVNode(\"div\", null, \"扫描或者复制地址完成充值,\"),\n  /*#__PURE__*/_createElementVNode(\"div\", null, \"仅发送Tether(USDT_TRC20)到该地址。\"),\n  /*#__PURE__*/_createElementVNode(\"div\", null, \"发送其他加密货币可能会造成永久损失。\")\n], -1 /* HOISTED */))\nconst _hoisted_10 = { class: \"content\" }\n\nimport verified from '@/assets/images/common/verified.png'\nimport { useCommonStore } from '@/store/modules/common'\nimport { useUserStore } from '@/store/modules/user'\nimport { storeToRefs } from 'pinia'\nimport QRCode from 'qrcode'\nimport { showToast } from 'vant'\nimport { computed, nextTick, onMounted, onUnmounted, reactive, ref, watch } from 'vue'\nimport clipboard3 from 'vue-clipboard3'\nimport { useRoute } from 'vue-router'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'Recharge',\n  setup(__props) {\n\nconst route = useRoute()\nconst userStore = useUserStore()\nconst { getUserWalletAddressApi } = userStore\nconst { userWallet } = storeToRefs(userStore)\n\nconst commonStore = useCommonStore()\n\n// 币种协议映射表\nconst coinInfoMap = {\n  USDT_TRC20: {\n    coin_name: 'USDT',\n    coin_protocol: 'USDT_TRC20',\n    coin_wallet_api: 'TRX_SYS'\n  },\n  USDT_ERC20: {\n    coin_name: 'USDT',\n    coin_protocol: 'USDT_ERC20',\n    coin_wallet_api: 'UDUNCLOUD'\n  }\n} as Record<string, any>\nconst isWebView = sessionStorage.getItem('isWebview') === '1'\n\n// 当前协议\nconst coinProtocol = ref('USDT_TRC20')\n// 充币二维码base64地址\nconst qrcodeUrl = ref('')\nconst btnSaveCodeText = ref(isWebView ? '请截图保存二维码' : '保存二维码')\n// 确认弹窗\nconst dialog = reactive({\n  show: false,\n  data: {\n    title: '提示',\n    content: '请等待1-3分钟各个区块节点确认后，充值金额才会入账，如有疑问请联系客服。',\n    confirmButtonText: '确定'\n  }\n})\n\n// 充币信息\nconst rechargeInfo = computed(() =>\n  userWallet.value?.find(item => item.coin_protocol === coinProtocol.value)\n)\n\n// 根据usdt地址生成充币二维码\nwatch(\n  rechargeInfo,\n  (walletInfo, oldWalletInfo) => {\n    generateQR(walletInfo?.coin_address ?? '未知错误')\n  },\n  { deep: true }\n)\n\nconst onClose = () => {\n  dialog.show = false\n}\n\nlet getUserWalletTimer: NodeJS.Timeout | null\nconst getRechargeInfo = async () => {\n  try {\n    const params = {\n      mtype: 2,\n      ...coinInfoMap[coinProtocol.value]\n    }\n\n    commonStore.setShowLoading(true)\n    // 先请求数据，若没有，则创建充币地址，之后再请求\n    await getUserWalletAddressApi({\n      create: 0,\n      ...params\n    })\n\n    if (!userWallet.value.length) {\n      // 避免接口限流、限频，延迟请求\n      getUserWalletTimer = setTimeout(async () => {\n        await getUserWalletAddressApi({\n          create: 1,\n          ...params\n        })\n        getUserWalletAddressApi({\n          create: 0,\n          ...params\n        })\n      }, 1000)\n    }\n  } catch (error) {\n    console.error(error)\n  } finally {\n    commonStore.setShowLoading(false)\n  }\n}\n\n// 切换币种协议\nconst onChangeCoinProtocol = (protocol: string) => {\n  coinProtocol.value = protocol\n\n  getRechargeInfo()\n}\n\n// 生成充币二维码\nconst generateQR = async (text: string) => {\n  try {\n    const base64Url = await QRCode.toDataURL(text, { width: 225 })\n    qrcodeUrl.value = base64Url\n  } catch (err) {\n    console.error(err)\n  }\n}\n\nconst { toClipboard } = clipboard3()\nconst onCopy = async (text: any) => {\n  try {\n    await toClipboard(text)\n    showToast({\n      message: '钱包地址已复制到剪切板',\n      icon: verified,\n      iconSize: '48px'\n    })\n  } catch (error) {\n    showToast({\n      message: '复制失败!!',\n      icon: verified,\n      iconSize: '48px'\n    })\n  }\n}\n\n// 放大二维码\nconst previewImage = (imgUrl: string) => {\n  const image = new Image()\n  image.src = imgUrl\n  image.onload = () => {\n    // 创建弹出层\n    const previewContainer = document.createElement('div')\n    previewContainer.style.position = 'fixed'\n    previewContainer.style.top = '0'\n    previewContainer.style.bottom = '0'\n    previewContainer.style.left = '0'\n    previewContainer.style.right = '0'\n    previewContainer.style.backgroundColor = 'rgba(0,0,0,0.8)'\n    previewContainer.style.display = 'flex'\n    previewContainer.style.justifyContent = 'center'\n    previewContainer.style.alignItems = 'center'\n    document.body.appendChild(previewContainer)\n    // 在弹出层中添加图片\n    const previewImage = document.createElement('img')\n    previewImage.src = imgUrl\n    previewImage.style.maxWidth = '400px'\n    previewImage.style.maxHeight = '400px'\n    previewImage.style.width = '60%'\n    previewContainer.appendChild(previewImage)\n    // 点击弹出层，关闭预览\n    previewContainer.addEventListener('click', () => {\n      document.body.removeChild(previewContainer)\n    })\n  }\n}\n\n// 下载充币二维码图片\nconst downloadRechargeQrCode = async (e: Event) => {\n  const isWebView = sessionStorage.getItem('isWebview') === '1'\n\n  if (isWebView) {\n    previewImage(qrcodeUrl.value)\n  } else {\n    const link = document.createElement('a')\n    link.href = qrcodeUrl.value\n    link.download = `${coinProtocol.value}.png`\n    link.click()\n\n    nextTick(() => {\n      showToast({\n        message: '保存成功',\n        icon: verified,\n        iconSize: '48px'\n      })\n    })\n  }\n}\n\nonMounted(() => {\n  generateQR(rechargeInfo.value?.coin_address ?? '未知错误')\n  getRechargeInfo()\n})\nonUnmounted(() => {\n  getUserWalletTimer && clearTimeout(getUserWalletTimer)\n  getUserWalletTimer = null\n})\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_van_dialog = _resolveComponent(\"van-dialog\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createElementVNode(\"div\", {\n        class: \"btn-usdt-trc20\",\n        onClick: _cache[0] || (_cache[0] = ($event: any) => (onChangeCoinProtocol('USDT_TRC20')))\n      }, \" USDT_TRC20 \")\n    ]),\n    _createElementVNode(\"div\", _hoisted_3, [\n      _createElementVNode(\"img\", {\n        src: qrcodeUrl.value,\n        class: \"qr-code\"\n      }, null, 8 /* PROPS */, _hoisted_4),\n      _hoisted_5\n    ]),\n    _createElementVNode(\"div\", {\n      class: \"btn-save text-center\",\n      onClick: downloadRechargeQrCode\n    }, _toDisplayString(btnSaveCodeText.value), 1 /* TEXT */),\n    _createElementVNode(\"div\", _hoisted_6, [\n      _hoisted_7,\n      _createElementVNode(\"div\", _hoisted_8, [\n        _createElementVNode(\"div\", null, _toDisplayString(rechargeInfo.value?.coin_address), 1 /* TEXT */),\n        _createElementVNode(\"i\", {\n          class: \"copy\",\n          onClick: _cache[1] || (_cache[1] = ($event: any) => (onCopy(rechargeInfo.value?.coin_address)))\n        })\n      ])\n    ]),\n    _hoisted_9,\n    _createElementVNode(\"div\", {\n      class: \"btn-ok text-center\",\n      onClick: _cache[2] || (_cache[2] = ($event: any) => (dialog.show = true))\n    }, \" 完成充值 \"),\n    _createVNode(_component_van_dialog, {\n      show: dialog.show,\n      \"onUpdate:show\": _cache[3] || (_cache[3] = ($event: any) => ((dialog.show) = $event)),\n      title: dialog.data.title,\n      theme: \"round-button\",\n      className: \"dialog-recharge-tips\",\n      confirmButtonText: dialog.data.confirmButtonText\n    }, {\n      footer: _withCtx(() => [\n        _createElementVNode(\"div\", {\n          class: \"btn-confirm flex items-center justify-center\",\n          onClick: onClose\n        }, _toDisplayString(dialog.data.confirmButtonText), 1 /* TEXT */)\n      ]),\n      default: _withCtx(() => [\n        _createElementVNode(\"i\", {\n          class: \"icon-close block close-dark\",\n          onClick: onClose\n        }),\n        _createElementVNode(\"div\", null, [\n          _createElementVNode(\"div\", _hoisted_10, _toDisplayString(dialog.data.content), 1 /* TEXT */)\n        ])\n      ]),\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"show\", \"title\", \"confirmButtonText\"])\n  ]))\n}\n}\n\n})"
        ],
        "mappings": "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",
        "names": [
          "previewImage",
          "isWebView"
        ]
      }
    },
    {
      "name": "vite:json",
      "start": 1714699770684,
      "end": 1714699770684,
      "order": "normal"
    },
    {
      "name": "vite:worker",
      "start": 1714699770684,
      "end": 1714699770684,
      "order": "normal"
    },
    {
      "name": "vite:vue",
      "start": 1714699770684,
      "end": 1714699770684,
      "order": "normal"
    },
    {
      "name": "vite:vue-jsx",
      "start": 1714699770684,
      "end": 1714699770684,
      "order": "normal"
    },
    {
      "name": "vite-plugin-vconsole",
      "result": "import { defineComponent as _defineComponent } from \"vue\";\nimport { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = (n) => (_pushScopeId(\"data-v-27ac4185\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = { class: \"recharge-container flex flex-col justify-between\" };\nconst _hoisted_2 = { class: \"coin-type-toggle-container flex justify-center text-center\" };\nconst _hoisted_3 = { class: \"usdt-recharge-qrcode-container flex flex-col justify-between items-center\" };\nconst _hoisted_4 = [\"src\"];\nconst _hoisted_5 = /* @__PURE__ */ _withScopeId(() => /* @__PURE__ */ _createElementVNode(\n  \"div\",\n  { class: \"recharge-text\" },\n  \"USDT充币二维码\",\n  -1\n  /* HOISTED */\n));\nconst _hoisted_6 = { class: \"recharge-address-container flex flex-col justify-between\" };\nconst _hoisted_7 = /* @__PURE__ */ _withScopeId(() => /* @__PURE__ */ _createElementVNode(\n  \"div\",\n  { class: \"address-text\" },\n  \"地址\",\n  -1\n  /* HOISTED */\n));\nconst _hoisted_8 = { class: \"address-content flex justify-between items-center\" };\nconst _hoisted_9 = /* @__PURE__ */ _withScopeId(() => /* @__PURE__ */ _createElementVNode(\n  \"div\",\n  { class: \"recharge-tips-container text-center\" },\n  [\n    /* @__PURE__ */ _createElementVNode(\"div\", null, \"最少充值数量：1USDT\"),\n    /* @__PURE__ */ _createElementVNode(\"div\", null, \"扫描或者复制地址完成充值,\"),\n    /* @__PURE__ */ _createElementVNode(\"div\", null, \"仅发送Tether(USDT_TRC20)到该地址。\"),\n    /* @__PURE__ */ _createElementVNode(\"div\", null, \"发送其他加密货币可能会造成永久损失。\")\n  ],\n  -1\n  /* HOISTED */\n));\nconst _hoisted_10 = { class: \"content\" };\nimport verified from \"@/assets/images/common/verified.png\";\nimport { useCommonStore } from \"@/store/modules/common\";\nimport { useUserStore } from \"@/store/modules/user\";\nimport { storeToRefs } from \"pinia\";\nimport QRCode from \"qrcode\";\nimport { showToast } from \"vant\";\nimport { computed, nextTick, onMounted, onUnmounted, reactive, ref, watch } from \"vue\";\nimport clipboard3 from \"vue-clipboard3\";\nimport { useRoute } from \"vue-router\";\nexport default /* @__PURE__ */ _defineComponent({\n  __name: \"Recharge\",\n  setup(__props) {\n    const route = useRoute();\n    const userStore = useUserStore();\n    const { getUserWalletAddressApi } = userStore;\n    const { userWallet } = storeToRefs(userStore);\n    const commonStore = useCommonStore();\n    const coinInfoMap = {\n      USDT_TRC20: {\n        coin_name: \"USDT\",\n        coin_protocol: \"USDT_TRC20\",\n        coin_wallet_api: \"TRX_SYS\"\n      },\n      USDT_ERC20: {\n        coin_name: \"USDT\",\n        coin_protocol: \"USDT_ERC20\",\n        coin_wallet_api: \"UDUNCLOUD\"\n      }\n    };\n    const isWebView = sessionStorage.getItem(\"isWebview\") === \"1\";\n    const coinProtocol = ref(\"USDT_TRC20\");\n    const qrcodeUrl = ref(\"\");\n    const btnSaveCodeText = ref(isWebView ? \"请截图保存二维码\" : \"保存二维码\");\n    const dialog = reactive({\n      show: false,\n      data: {\n        title: \"提示\",\n        content: \"请等待1-3分钟各个区块节点确认后，充值金额才会入账，如有疑问请联系客服。\",\n        confirmButtonText: \"确定\"\n      }\n    });\n    const rechargeInfo = computed(\n      () => userWallet.value?.find((item) => item.coin_protocol === coinProtocol.value)\n    );\n    watch(\n      rechargeInfo,\n      (walletInfo, oldWalletInfo) => {\n        generateQR(walletInfo?.coin_address ?? \"未知错误\");\n      },\n      { deep: true }\n    );\n    const onClose = () => {\n      dialog.show = false;\n    };\n    let getUserWalletTimer;\n    const getRechargeInfo = async () => {\n      try {\n        const params = {\n          mtype: 2,\n          ...coinInfoMap[coinProtocol.value]\n        };\n        commonStore.setShowLoading(true);\n        await getUserWalletAddressApi({\n          create: 0,\n          ...params\n        });\n        if (!userWallet.value.length) {\n          getUserWalletTimer = setTimeout(async () => {\n            await getUserWalletAddressApi({\n              create: 1,\n              ...params\n            });\n            getUserWalletAddressApi({\n              create: 0,\n              ...params\n            });\n          }, 1e3);\n        }\n      } catch (error) {\n        console.error(error);\n      } finally {\n        commonStore.setShowLoading(false);\n      }\n    };\n    const onChangeCoinProtocol = (protocol) => {\n      coinProtocol.value = protocol;\n      getRechargeInfo();\n    };\n    const generateQR = async (text) => {\n      try {\n        const base64Url = await QRCode.toDataURL(text, { width: 225 });\n        qrcodeUrl.value = base64Url;\n      } catch (err) {\n        console.error(err);\n      }\n    };\n    const { toClipboard } = clipboard3();\n    const onCopy = async (text) => {\n      try {\n        await toClipboard(text);\n        showToast({\n          message: \"钱包地址已复制到剪切板\",\n          icon: verified,\n          iconSize: \"48px\"\n        });\n      } catch (error) {\n        showToast({\n          message: \"复制失败!!\",\n          icon: verified,\n          iconSize: \"48px\"\n        });\n      }\n    };\n    const previewImage = (imgUrl) => {\n      const image = new Image();\n      image.src = imgUrl;\n      image.onload = () => {\n        const previewContainer = document.createElement(\"div\");\n        previewContainer.style.position = \"fixed\";\n        previewContainer.style.top = \"0\";\n        previewContainer.style.bottom = \"0\";\n        previewContainer.style.left = \"0\";\n        previewContainer.style.right = \"0\";\n        previewContainer.style.backgroundColor = \"rgba(0,0,0,0.8)\";\n        previewContainer.style.display = \"flex\";\n        previewContainer.style.justifyContent = \"center\";\n        previewContainer.style.alignItems = \"center\";\n        document.body.appendChild(previewContainer);\n        const previewImage2 = document.createElement(\"img\");\n        previewImage2.src = imgUrl;\n        previewImage2.style.maxWidth = \"400px\";\n        previewImage2.style.maxHeight = \"400px\";\n        previewImage2.style.width = \"60%\";\n        previewContainer.appendChild(previewImage2);\n        previewContainer.addEventListener(\"click\", () => {\n          document.body.removeChild(previewContainer);\n        });\n      };\n    };\n    const downloadRechargeQrCode = async (e) => {\n      const isWebView2 = sessionStorage.getItem(\"isWebview\") === \"1\";\n      if (isWebView2) {\n        previewImage(qrcodeUrl.value);\n      } else {\n        const link = document.createElement(\"a\");\n        link.href = qrcodeUrl.value;\n        link.download = `${coinProtocol.value}.png`;\n        link.click();\n        nextTick(() => {\n          showToast({\n            message: \"保存成功\",\n            icon: verified,\n            iconSize: \"48px\"\n          });\n        });\n      }\n    };\n    onMounted(() => {\n      generateQR(rechargeInfo.value?.coin_address ?? \"未知错误\");\n      getRechargeInfo();\n    });\n    onUnmounted(() => {\n      getUserWalletTimer && clearTimeout(getUserWalletTimer);\n      getUserWalletTimer = null;\n    });\n    return (_ctx, _cache) => {\n      const _component_van_dialog = _resolveComponent(\"van-dialog\");\n      return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n        _createElementVNode(\"div\", _hoisted_2, [\n          _createElementVNode(\"div\", {\n            class: \"btn-usdt-trc20\",\n            onClick: _cache[0] || (_cache[0] = ($event) => onChangeCoinProtocol(\"USDT_TRC20\"))\n          }, \" USDT_TRC20 \")\n        ]),\n        _createElementVNode(\"div\", _hoisted_3, [\n          _createElementVNode(\"img\", {\n            src: qrcodeUrl.value,\n            class: \"qr-code\"\n          }, null, 8, _hoisted_4),\n          _hoisted_5\n        ]),\n        _createElementVNode(\n          \"div\",\n          {\n            class: \"btn-save text-center\",\n            onClick: downloadRechargeQrCode\n          },\n          _toDisplayString(btnSaveCodeText.value),\n          1\n          /* TEXT */\n        ),\n        _createElementVNode(\"div\", _hoisted_6, [\n          _hoisted_7,\n          _createElementVNode(\"div\", _hoisted_8, [\n            _createElementVNode(\n              \"div\",\n              null,\n              _toDisplayString(rechargeInfo.value?.coin_address),\n              1\n              /* TEXT */\n            ),\n            _createElementVNode(\"i\", {\n              class: \"copy\",\n              onClick: _cache[1] || (_cache[1] = ($event) => onCopy(rechargeInfo.value?.coin_address))\n            })\n          ])\n        ]),\n        _hoisted_9,\n        _createElementVNode(\"div\", {\n          class: \"btn-ok text-center\",\n          onClick: _cache[2] || (_cache[2] = ($event) => dialog.show = true)\n        }, \" 完成充值 \"),\n        _createVNode(_component_van_dialog, {\n          show: dialog.show,\n          \"onUpdate:show\": _cache[3] || (_cache[3] = ($event) => dialog.show = $event),\n          title: dialog.data.title,\n          theme: \"round-button\",\n          className: \"dialog-recharge-tips\",\n          confirmButtonText: dialog.data.confirmButtonText\n        }, {\n          footer: _withCtx(() => [\n            _createElementVNode(\n              \"div\",\n              {\n                class: \"btn-confirm flex items-center justify-center\",\n                onClick: onClose\n              },\n              _toDisplayString(dialog.data.confirmButtonText),\n              1\n              /* TEXT */\n            )\n          ]),\n          default: _withCtx(() => [\n            _createElementVNode(\"i\", {\n              class: \"icon-close block close-dark\",\n              onClick: onClose\n            }),\n            _createElementVNode(\"div\", null, [\n              _createElementVNode(\n                \"div\",\n                _hoisted_10,\n                _toDisplayString(dialog.data.content),\n                1\n                /* TEXT */\n              )\n            ])\n          ]),\n          _: 1\n          /* STABLE */\n        }, 8, [\"show\", \"title\", \"confirmButtonText\"])\n      ]);\n    };\n  }\n});\n",
      "start": 1714699770684,
      "end": 1714699770684,
      "order": "normal",
      "sourcemaps": null
    },
    {
      "name": "esbuild",
      "result": "\"use strict\";\nimport { defineComponent as _defineComponent } from \"vue\";\nimport { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = (n) => (_pushScopeId(\"data-v-27ac4185\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = { class: \"recharge-container flex flex-col justify-between\" };\nconst _hoisted_2 = { class: \"coin-type-toggle-container flex justify-center text-center\" };\nconst _hoisted_3 = { class: \"usdt-recharge-qrcode-container flex flex-col justify-between items-center\" };\nconst _hoisted_4 = [\"src\"];\nconst _hoisted_5 = /* @__PURE__ */ _withScopeId(() => /* @__PURE__ */ _createElementVNode(\n  \"div\",\n  { class: \"recharge-text\" },\n  \"USDT\\u5145\\u5E01\\u4E8C\\u7EF4\\u7801\",\n  -1\n  /* HOISTED */\n));\nconst _hoisted_6 = { class: \"recharge-address-container flex flex-col justify-between\" };\nconst _hoisted_7 = /* @__PURE__ */ _withScopeId(() => /* @__PURE__ */ _createElementVNode(\n  \"div\",\n  { class: \"address-text\" },\n  \"\\u5730\\u5740\",\n  -1\n  /* HOISTED */\n));\nconst _hoisted_8 = { class: \"address-content flex justify-between items-center\" };\nconst _hoisted_9 = /* @__PURE__ */ _withScopeId(() => /* @__PURE__ */ _createElementVNode(\n  \"div\",\n  { class: \"recharge-tips-container text-center\" },\n  [\n    /* @__PURE__ */ _createElementVNode(\"div\", null, \"\\u6700\\u5C11\\u5145\\u503C\\u6570\\u91CF\\uFF1A1USDT\"),\n    /* @__PURE__ */ _createElementVNode(\"div\", null, \"\\u626B\\u63CF\\u6216\\u8005\\u590D\\u5236\\u5730\\u5740\\u5B8C\\u6210\\u5145\\u503C,\"),\n    /* @__PURE__ */ _createElementVNode(\"div\", null, \"\\u4EC5\\u53D1\\u9001Tether(USDT_TRC20)\\u5230\\u8BE5\\u5730\\u5740\\u3002\"),\n    /* @__PURE__ */ _createElementVNode(\"div\", null, \"\\u53D1\\u9001\\u5176\\u4ED6\\u52A0\\u5BC6\\u8D27\\u5E01\\u53EF\\u80FD\\u4F1A\\u9020\\u6210\\u6C38\\u4E45\\u635F\\u5931\\u3002\")\n  ],\n  -1\n  /* HOISTED */\n));\nconst _hoisted_10 = { class: \"content\" };\nimport verified from \"@/assets/images/common/verified.png\";\nimport { useCommonStore } from \"@/store/modules/common\";\nimport { useUserStore } from \"@/store/modules/user\";\nimport { storeToRefs } from \"pinia\";\nimport QRCode from \"qrcode\";\nimport { showToast } from \"vant\";\nimport { computed, nextTick, onMounted, onUnmounted, reactive, ref, watch } from \"vue\";\nimport clipboard3 from \"vue-clipboard3\";\nimport { useRoute } from \"vue-router\";\nexport default /* @__PURE__ */ _defineComponent({\n  __name: \"Recharge\",\n  setup(__props) {\n    const route = useRoute();\n    const userStore = useUserStore();\n    const { getUserWalletAddressApi } = userStore;\n    const { userWallet } = storeToRefs(userStore);\n    const commonStore = useCommonStore();\n    const coinInfoMap = {\n      USDT_TRC20: {\n        coin_name: \"USDT\",\n        coin_protocol: \"USDT_TRC20\",\n        coin_wallet_api: \"TRX_SYS\"\n      },\n      USDT_ERC20: {\n        coin_name: \"USDT\",\n        coin_protocol: \"USDT_ERC20\",\n        coin_wallet_api: \"UDUNCLOUD\"\n      }\n    };\n    const isWebView = sessionStorage.getItem(\"isWebview\") === \"1\";\n    const coinProtocol = ref(\"USDT_TRC20\");\n    const qrcodeUrl = ref(\"\");\n    const btnSaveCodeText = ref(isWebView ? \"\\u8BF7\\u622A\\u56FE\\u4FDD\\u5B58\\u4E8C\\u7EF4\\u7801\" : \"\\u4FDD\\u5B58\\u4E8C\\u7EF4\\u7801\");\n    const dialog = reactive({\n      show: false,\n      data: {\n        title: \"\\u63D0\\u793A\",\n        content: \"\\u8BF7\\u7B49\\u5F851-3\\u5206\\u949F\\u5404\\u4E2A\\u533A\\u5757\\u8282\\u70B9\\u786E\\u8BA4\\u540E\\uFF0C\\u5145\\u503C\\u91D1\\u989D\\u624D\\u4F1A\\u5165\\u8D26\\uFF0C\\u5982\\u6709\\u7591\\u95EE\\u8BF7\\u8054\\u7CFB\\u5BA2\\u670D\\u3002\",\n        confirmButtonText: \"\\u786E\\u5B9A\"\n      }\n    });\n    const rechargeInfo = computed(\n      () => {\n        var _a;\n        return (_a = userWallet.value) == null ? void 0 : _a.find((item) => item.coin_protocol === coinProtocol.value);\n      }\n    );\n    watch(\n      rechargeInfo,\n      (walletInfo, oldWalletInfo) => {\n        var _a;\n        generateQR((_a = walletInfo == null ? void 0 : walletInfo.coin_address) != null ? _a : \"\\u672A\\u77E5\\u9519\\u8BEF\");\n      },\n      { deep: true }\n    );\n    const onClose = () => {\n      dialog.show = false;\n    };\n    let getUserWalletTimer;\n    const getRechargeInfo = async () => {\n      try {\n        const params = {\n          mtype: 2,\n          ...coinInfoMap[coinProtocol.value]\n        };\n        commonStore.setShowLoading(true);\n        await getUserWalletAddressApi({\n          create: 0,\n          ...params\n        });\n        if (!userWallet.value.length) {\n          getUserWalletTimer = setTimeout(async () => {\n            await getUserWalletAddressApi({\n              create: 1,\n              ...params\n            });\n            getUserWalletAddressApi({\n              create: 0,\n              ...params\n            });\n          }, 1e3);\n        }\n      } catch (error) {\n        console.error(error);\n      } finally {\n        commonStore.setShowLoading(false);\n      }\n    };\n    const onChangeCoinProtocol = (protocol) => {\n      coinProtocol.value = protocol;\n      getRechargeInfo();\n    };\n    const generateQR = async (text) => {\n      try {\n        const base64Url = await QRCode.toDataURL(text, { width: 225 });\n        qrcodeUrl.value = base64Url;\n      } catch (err) {\n        console.error(err);\n      }\n    };\n    const { toClipboard } = clipboard3();\n    const onCopy = async (text) => {\n      try {\n        await toClipboard(text);\n        showToast({\n          message: \"\\u94B1\\u5305\\u5730\\u5740\\u5DF2\\u590D\\u5236\\u5230\\u526A\\u5207\\u677F\",\n          icon: verified,\n          iconSize: \"48px\"\n        });\n      } catch (error) {\n        showToast({\n          message: \"\\u590D\\u5236\\u5931\\u8D25!!\",\n          icon: verified,\n          iconSize: \"48px\"\n        });\n      }\n    };\n    const previewImage = (imgUrl) => {\n      const image = new Image();\n      image.src = imgUrl;\n      image.onload = () => {\n        const previewContainer = document.createElement(\"div\");\n        previewContainer.style.position = \"fixed\";\n        previewContainer.style.top = \"0\";\n        previewContainer.style.bottom = \"0\";\n        previewContainer.style.left = \"0\";\n        previewContainer.style.right = \"0\";\n        previewContainer.style.backgroundColor = \"rgba(0,0,0,0.8)\";\n        previewContainer.style.display = \"flex\";\n        previewContainer.style.justifyContent = \"center\";\n        previewContainer.style.alignItems = \"center\";\n        document.body.appendChild(previewContainer);\n        const previewImage2 = document.createElement(\"img\");\n        previewImage2.src = imgUrl;\n        previewImage2.style.maxWidth = \"400px\";\n        previewImage2.style.maxHeight = \"400px\";\n        previewImage2.style.width = \"60%\";\n        previewContainer.appendChild(previewImage2);\n        previewContainer.addEventListener(\"click\", () => {\n          document.body.removeChild(previewContainer);\n        });\n      };\n    };\n    const downloadRechargeQrCode = async (e) => {\n      const isWebView2 = sessionStorage.getItem(\"isWebview\") === \"1\";\n      if (isWebView2) {\n        previewImage(qrcodeUrl.value);\n      } else {\n        const link = document.createElement(\"a\");\n        link.href = qrcodeUrl.value;\n        link.download = `${coinProtocol.value}.png`;\n        link.click();\n        nextTick(() => {\n          showToast({\n            message: \"\\u4FDD\\u5B58\\u6210\\u529F\",\n            icon: verified,\n            iconSize: \"48px\"\n          });\n        });\n      }\n    };\n    onMounted(() => {\n      var _a, _b;\n      generateQR((_b = (_a = rechargeInfo.value) == null ? void 0 : _a.coin_address) != null ? _b : \"\\u672A\\u77E5\\u9519\\u8BEF\");\n      getRechargeInfo();\n    });\n    onUnmounted(() => {\n      getUserWalletTimer && clearTimeout(getUserWalletTimer);\n      getUserWalletTimer = null;\n    });\n    return (_ctx, _cache) => {\n      var _a;\n      const _component_van_dialog = _resolveComponent(\"van-dialog\");\n      return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n        _createElementVNode(\"div\", _hoisted_2, [\n          _createElementVNode(\"div\", {\n            class: \"btn-usdt-trc20\",\n            onClick: _cache[0] || (_cache[0] = ($event) => onChangeCoinProtocol(\"USDT_TRC20\"))\n          }, \" USDT_TRC20 \")\n        ]),\n        _createElementVNode(\"div\", _hoisted_3, [\n          _createElementVNode(\"img\", {\n            src: qrcodeUrl.value,\n            class: \"qr-code\"\n          }, null, 8, _hoisted_4),\n          _hoisted_5\n        ]),\n        _createElementVNode(\n          \"div\",\n          {\n            class: \"btn-save text-center\",\n            onClick: downloadRechargeQrCode\n          },\n          _toDisplayString(btnSaveCodeText.value),\n          1\n          /* TEXT */\n        ),\n        _createElementVNode(\"div\", _hoisted_6, [\n          _hoisted_7,\n          _createElementVNode(\"div\", _hoisted_8, [\n            _createElementVNode(\n              \"div\",\n              null,\n              _toDisplayString((_a = rechargeInfo.value) == null ? void 0 : _a.coin_address),\n              1\n              /* TEXT */\n            ),\n            _createElementVNode(\"i\", {\n              class: \"copy\",\n              onClick: _cache[1] || (_cache[1] = ($event) => {\n                var _a2;\n                return onCopy((_a2 = rechargeInfo.value) == null ? void 0 : _a2.coin_address);\n              })\n            })\n          ])\n        ]),\n        _hoisted_9,\n        _createElementVNode(\"div\", {\n          class: \"btn-ok text-center\",\n          onClick: _cache[2] || (_cache[2] = ($event) => dialog.show = true)\n        }, \" \\u5B8C\\u6210\\u5145\\u503C \"),\n        _createVNode(_component_van_dialog, {\n          show: dialog.show,\n          \"onUpdate:show\": _cache[3] || (_cache[3] = ($event) => dialog.show = $event),\n          title: dialog.data.title,\n          theme: \"round-button\",\n          className: \"dialog-recharge-tips\",\n          confirmButtonText: dialog.data.confirmButtonText\n        }, {\n          footer: _withCtx(() => [\n            _createElementVNode(\n              \"div\",\n              {\n                class: \"btn-confirm flex items-center justify-center\",\n                onClick: onClose\n              },\n              _toDisplayString(dialog.data.confirmButtonText),\n              1\n              /* TEXT */\n            )\n          ]),\n          default: _withCtx(() => [\n            _createElementVNode(\"i\", {\n              class: \"icon-close block close-dark\",\n              onClick: onClose\n            }),\n            _createElementVNode(\"div\", null, [\n              _createElementVNode(\n                \"div\",\n                _hoisted_10,\n                _toDisplayString(dialog.data.content),\n                1\n                /* TEXT */\n              )\n            ])\n          ]),\n          _: 1\n          /* STABLE */\n        }, 8, [\"show\", \"title\", \"confirmButtonText\"])\n      ]);\n    };\n  }\n});\n",
      "start": 1714699770684,
      "end": 1714699770999,
      "order": "normal",
      "sourcemaps": "{\n  \"version\": 3,\n  \"sources\": [\"/Users/afeng/Desktop/work/gdpayh5-web/src/pages/Bricks/Recharge.vue?vue&type=script&setup=true&lang.ts\"],\n  \"sourcesContent\": [\"import { defineComponent as _defineComponent } from \\\"vue\\\";\\nimport { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \\\"vue\\\";\\nconst _withScopeId = (n) => (_pushScopeId(\\\"data-v-27ac4185\\\"), n = n(), _popScopeId(), n);\\nconst _hoisted_1 = { class: \\\"recharge-container flex flex-col justify-between\\\" };\\nconst _hoisted_2 = { class: \\\"coin-type-toggle-container flex justify-center text-center\\\" };\\nconst _hoisted_3 = { class: \\\"usdt-recharge-qrcode-container flex flex-col justify-between items-center\\\" };\\nconst _hoisted_4 = [\\\"src\\\"];\\nconst _hoisted_5 = /* @__PURE__ */ _withScopeId(() => /* @__PURE__ */ _createElementVNode(\\n  \\\"div\\\",\\n  { class: \\\"recharge-text\\\" },\\n  \\\"USDT\\u5145\\u5E01\\u4E8C\\u7EF4\\u7801\\\",\\n  -1\\n  /* HOISTED */\\n));\\nconst _hoisted_6 = { class: \\\"recharge-address-container flex flex-col justify-between\\\" };\\nconst _hoisted_7 = /* @__PURE__ */ _withScopeId(() => /* @__PURE__ */ _createElementVNode(\\n  \\\"div\\\",\\n  { class: \\\"address-text\\\" },\\n  \\\"\\u5730\\u5740\\\",\\n  -1\\n  /* HOISTED */\\n));\\nconst _hoisted_8 = { class: \\\"address-content flex justify-between items-center\\\" };\\nconst _hoisted_9 = /* @__PURE__ */ _withScopeId(() => /* @__PURE__ */ _createElementVNode(\\n  \\\"div\\\",\\n  { class: \\\"recharge-tips-container text-center\\\" },\\n  [\\n    /* @__PURE__ */ _createElementVNode(\\\"div\\\", null, \\\"\\u6700\\u5C11\\u5145\\u503C\\u6570\\u91CF\\uFF1A1USDT\\\"),\\n    /* @__PURE__ */ _createElementVNode(\\\"div\\\", null, \\\"\\u626B\\u63CF\\u6216\\u8005\\u590D\\u5236\\u5730\\u5740\\u5B8C\\u6210\\u5145\\u503C,\\\"),\\n    /* @__PURE__ */ _createElementVNode(\\\"div\\\", null, \\\"\\u4EC5\\u53D1\\u9001Tether(USDT_TRC20)\\u5230\\u8BE5\\u5730\\u5740\\u3002\\\"),\\n    /* @__PURE__ */ _createElementVNode(\\\"div\\\", null, \\\"\\u53D1\\u9001\\u5176\\u4ED6\\u52A0\\u5BC6\\u8D27\\u5E01\\u53EF\\u80FD\\u4F1A\\u9020\\u6210\\u6C38\\u4E45\\u635F\\u5931\\u3002\\\")\\n  ],\\n  -1\\n  /* HOISTED */\\n));\\nconst _hoisted_10 = { class: \\\"content\\\" };\\nimport verified from \\\"@/assets/images/common/verified.png\\\";\\nimport { useCommonStore } from \\\"@/store/modules/common\\\";\\nimport { useUserStore } from \\\"@/store/modules/user\\\";\\nimport { storeToRefs } from \\\"pinia\\\";\\nimport QRCode from \\\"qrcode\\\";\\nimport { showToast } from \\\"vant\\\";\\nimport { computed, nextTick, onMounted, onUnmounted, reactive, ref, watch } from \\\"vue\\\";\\nimport clipboard3 from \\\"vue-clipboard3\\\";\\nimport { useRoute } from \\\"vue-router\\\";\\nexport default /* @__PURE__ */ _defineComponent({\\n  __name: \\\"Recharge\\\",\\n  setup(__props) {\\n    const route = useRoute();\\n    const userStore = useUserStore();\\n    const { getUserWalletAddressApi } = userStore;\\n    const { userWallet } = storeToRefs(userStore);\\n    const commonStore = useCommonStore();\\n    const coinInfoMap = {\\n      USDT_TRC20: {\\n        coin_name: \\\"USDT\\\",\\n        coin_protocol: \\\"USDT_TRC20\\\",\\n        coin_wallet_api: \\\"TRX_SYS\\\"\\n      },\\n      USDT_ERC20: {\\n        coin_name: \\\"USDT\\\",\\n        coin_protocol: \\\"USDT_ERC20\\\",\\n        coin_wallet_api: \\\"UDUNCLOUD\\\"\\n      }\\n    };\\n    const isWebView = sessionStorage.getItem(\\\"isWebview\\\") === \\\"1\\\";\\n    const coinProtocol = ref(\\\"USDT_TRC20\\\");\\n    const qrcodeUrl = ref(\\\"\\\");\\n    const btnSaveCodeText = ref(isWebView ? \\\"\\u8BF7\\u622A\\u56FE\\u4FDD\\u5B58\\u4E8C\\u7EF4\\u7801\\\" : \\\"\\u4FDD\\u5B58\\u4E8C\\u7EF4\\u7801\\\");\\n    const dialog = reactive({\\n      show: false,\\n      data: {\\n        title: \\\"\\u63D0\\u793A\\\",\\n        content: \\\"\\u8BF7\\u7B49\\u5F851-3\\u5206\\u949F\\u5404\\u4E2A\\u533A\\u5757\\u8282\\u70B9\\u786E\\u8BA4\\u540E\\uFF0C\\u5145\\u503C\\u91D1\\u989D\\u624D\\u4F1A\\u5165\\u8D26\\uFF0C\\u5982\\u6709\\u7591\\u95EE\\u8BF7\\u8054\\u7CFB\\u5BA2\\u670D\\u3002\\\",\\n        confirmButtonText: \\\"\\u786E\\u5B9A\\\"\\n      }\\n    });\\n    const rechargeInfo = computed(\\n      () => userWallet.value?.find((item) => item.coin_protocol === coinProtocol.value)\\n    );\\n    watch(\\n      rechargeInfo,\\n      (walletInfo, oldWalletInfo) => {\\n        generateQR(walletInfo?.coin_address ?? \\\"\\u672A\\u77E5\\u9519\\u8BEF\\\");\\n      },\\n      { deep: true }\\n    );\\n    const onClose = () => {\\n      dialog.show = false;\\n    };\\n    let getUserWalletTimer;\\n    const getRechargeInfo = async () => {\\n      try {\\n        const params = {\\n          mtype: 2,\\n          ...coinInfoMap[coinProtocol.value]\\n        };\\n        commonStore.setShowLoading(true);\\n        await getUserWalletAddressApi({\\n          create: 0,\\n          ...params\\n        });\\n        if (!userWallet.value.length) {\\n          getUserWalletTimer = setTimeout(async () => {\\n            await getUserWalletAddressApi({\\n              create: 1,\\n              ...params\\n            });\\n            getUserWalletAddressApi({\\n              create: 0,\\n              ...params\\n            });\\n          }, 1e3);\\n        }\\n      } catch (error) {\\n        console.error(error);\\n      } finally {\\n        commonStore.setShowLoading(false);\\n      }\\n    };\\n    const onChangeCoinProtocol = (protocol) => {\\n      coinProtocol.value = protocol;\\n      getRechargeInfo();\\n    };\\n    const generateQR = async (text) => {\\n      try {\\n        const base64Url = await QRCode.toDataURL(text, { width: 225 });\\n        qrcodeUrl.value = base64Url;\\n      } catch (err) {\\n        console.error(err);\\n      }\\n    };\\n    const { toClipboard } = clipboard3();\\n    const onCopy = async (text) => {\\n      try {\\n        await toClipboard(text);\\n        showToast({\\n          message: \\\"\\u94B1\\u5305\\u5730\\u5740\\u5DF2\\u590D\\u5236\\u5230\\u526A\\u5207\\u677F\\\",\\n          icon: verified,\\n          iconSize: \\\"48px\\\"\\n        });\\n      } catch (error) {\\n        showToast({\\n          message: \\\"\\u590D\\u5236\\u5931\\u8D25!!\\\",\\n          icon: verified,\\n          iconSize: \\\"48px\\\"\\n        });\\n      }\\n    };\\n    const previewImage = (imgUrl) => {\\n      const image = new Image();\\n      image.src = imgUrl;\\n      image.onload = () => {\\n        const previewContainer = document.createElement(\\\"div\\\");\\n        previewContainer.style.position = \\\"fixed\\\";\\n        previewContainer.style.top = \\\"0\\\";\\n        previewContainer.style.bottom = \\\"0\\\";\\n        previewContainer.style.left = \\\"0\\\";\\n        previewContainer.style.right = \\\"0\\\";\\n        previewContainer.style.backgroundColor = \\\"rgba(0,0,0,0.8)\\\";\\n        previewContainer.style.display = \\\"flex\\\";\\n        previewContainer.style.justifyContent = \\\"center\\\";\\n        previewContainer.style.alignItems = \\\"center\\\";\\n        document.body.appendChild(previewContainer);\\n        const previewImage2 = document.createElement(\\\"img\\\");\\n        previewImage2.src = imgUrl;\\n        previewImage2.style.maxWidth = \\\"400px\\\";\\n        previewImage2.style.maxHeight = \\\"400px\\\";\\n        previewImage2.style.width = \\\"60%\\\";\\n        previewContainer.appendChild(previewImage2);\\n        previewContainer.addEventListener(\\\"click\\\", () => {\\n          document.body.removeChild(previewContainer);\\n        });\\n      };\\n    };\\n    const downloadRechargeQrCode = async (e) => {\\n      const isWebView2 = sessionStorage.getItem(\\\"isWebview\\\") === \\\"1\\\";\\n      if (isWebView2) {\\n        previewImage(qrcodeUrl.value);\\n      } else {\\n        const link = document.createElement(\\\"a\\\");\\n        link.href = qrcodeUrl.value;\\n        link.download = `${coinProtocol.value}.png`;\\n        link.click();\\n        nextTick(() => {\\n          showToast({\\n            message: \\\"\\u4FDD\\u5B58\\u6210\\u529F\\\",\\n            icon: verified,\\n            iconSize: \\\"48px\\\"\\n          });\\n        });\\n      }\\n    };\\n    onMounted(() => {\\n      generateQR(rechargeInfo.value?.coin_address ?? \\\"\\u672A\\u77E5\\u9519\\u8BEF\\\");\\n      getRechargeInfo();\\n    });\\n    onUnmounted(() => {\\n      getUserWalletTimer && clearTimeout(getUserWalletTimer);\\n      getUserWalletTimer = null;\\n    });\\n    return (_ctx, _cache) => {\\n      const _component_van_dialog = _resolveComponent(\\\"van-dialog\\\");\\n      return _openBlock(), _createElementBlock(\\\"div\\\", _hoisted_1, [\\n        _createElementVNode(\\\"div\\\", _hoisted_2, [\\n          _createElementVNode(\\\"div\\\", {\\n            class: \\\"btn-usdt-trc20\\\",\\n            onClick: _cache[0] || (_cache[0] = ($event) => onChangeCoinProtocol(\\\"USDT_TRC20\\\"))\\n          }, \\\" USDT_TRC20 \\\")\\n        ]),\\n        _createElementVNode(\\\"div\\\", _hoisted_3, [\\n          _createElementVNode(\\\"img\\\", {\\n            src: qrcodeUrl.value,\\n            class: \\\"qr-code\\\"\\n          }, null, 8, _hoisted_4),\\n          _hoisted_5\\n        ]),\\n        _createElementVNode(\\n          \\\"div\\\",\\n          {\\n            class: \\\"btn-save text-center\\\",\\n            onClick: downloadRechargeQrCode\\n          },\\n          _toDisplayString(btnSaveCodeText.value),\\n          1\\n          /* TEXT */\\n        ),\\n        _createElementVNode(\\\"div\\\", _hoisted_6, [\\n          _hoisted_7,\\n          _createElementVNode(\\\"div\\\", _hoisted_8, [\\n            _createElementVNode(\\n              \\\"div\\\",\\n              null,\\n              _toDisplayString(rechargeInfo.value?.coin_address),\\n              1\\n              /* TEXT */\\n            ),\\n            _createElementVNode(\\\"i\\\", {\\n              class: \\\"copy\\\",\\n              onClick: _cache[1] || (_cache[1] = ($event) => onCopy(rechargeInfo.value?.coin_address))\\n            })\\n          ])\\n        ]),\\n        _hoisted_9,\\n        _createElementVNode(\\\"div\\\", {\\n          class: \\\"btn-ok text-center\\\",\\n          onClick: _cache[2] || (_cache[2] = ($event) => dialog.show = true)\\n        }, \\\" \\u5B8C\\u6210\\u5145\\u503C \\\"),\\n        _createVNode(_component_van_dialog, {\\n          show: dialog.show,\\n          \\\"onUpdate:show\\\": _cache[3] || (_cache[3] = ($event) => dialog.show = $event),\\n          title: dialog.data.title,\\n          theme: \\\"round-button\\\",\\n          className: \\\"dialog-recharge-tips\\\",\\n          confirmButtonText: dialog.data.confirmButtonText\\n        }, {\\n          footer: _withCtx(() => [\\n            _createElementVNode(\\n              \\\"div\\\",\\n              {\\n                class: \\\"btn-confirm flex items-center justify-center\\\",\\n                onClick: onClose\\n              },\\n              _toDisplayString(dialog.data.confirmButtonText),\\n              1\\n              /* TEXT */\\n            )\\n          ]),\\n          default: _withCtx(() => [\\n            _createElementVNode(\\\"i\\\", {\\n              class: \\\"icon-close block close-dark\\\",\\n              onClick: onClose\\n            }),\\n            _createElementVNode(\\\"div\\\", null, [\\n              _createElementVNode(\\n                \\\"div\\\",\\n                _hoisted_10,\\n                _toDisplayString(dialog.data.content),\\n                1\\n                /* TEXT */\\n              )\\n            ])\\n          ]),\\n          _: 1\\n          /* STABLE */\\n        }, 8, [\\\"show\\\", \\\"title\\\", \\\"confirmButtonText\\\"])\\n      ]);\\n    };\\n  }\\n});\\n\"],\n  \"mappings\": \"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\",\n  \"names\": [\"_a\"]\n}\n"
    },
    {
      "name": "vite:define",
      "start": 1714699770999,
      "end": 1714699770999,
      "order": "normal"
    },
    {
      "name": "vite:css-post",
      "start": 1714699770999,
      "end": 1714699770999,
      "order": "normal"
    },
    {
      "name": "vite:build-html",
      "start": 1714699770999,
      "end": 1714699770999,
      "order": "normal"
    },
    {
      "name": "vite:worker-import-meta-url",
      "start": 1714699770999,
      "end": 1714699770999,
      "order": "normal"
    },
    {
      "name": "vite:asset-import-meta-url",
      "start": 1714699770999,
      "end": 1714699770999,
      "order": "normal"
    },
    {
      "name": "commonjs",
      "start": 1714699770999,
      "end": 1714699770999,
      "order": "normal"
    },
    {
      "name": "vite:dynamic-import-vars",
      "start": 1714699770999,
      "end": 1714699771000,
      "order": "normal"
    },
    {
      "name": "vite:import-glob",
      "start": 1714699771000,
      "end": 1714699771000,
      "order": "normal"
    },
    {
      "name": "unplugin-auto-import",
      "start": 1714699771000,
      "end": 1714699771001,
      "order": "post"
    },
    {
      "name": "unplugin-vue-components",
      "result": "/* unplugin-vue-components disabled */import { Dialog as __unplugin_components_0 } from 'vant/es';import 'vant/es/dialog/style/index';\n\"use strict\";\nimport { defineComponent as _defineComponent } from \"vue\";\nimport { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = (n) => (_pushScopeId(\"data-v-27ac4185\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = { class: \"recharge-container flex flex-col justify-between\" };\nconst _hoisted_2 = { class: \"coin-type-toggle-container flex justify-center text-center\" };\nconst _hoisted_3 = { class: \"usdt-recharge-qrcode-container flex flex-col justify-between items-center\" };\nconst _hoisted_4 = [\"src\"];\nconst _hoisted_5 = /* @__PURE__ */ _withScopeId(() => /* @__PURE__ */ _createElementVNode(\n  \"div\",\n  { class: \"recharge-text\" },\n  \"USDT\\u5145\\u5E01\\u4E8C\\u7EF4\\u7801\",\n  -1\n  /* HOISTED */\n));\nconst _hoisted_6 = { class: \"recharge-address-container flex flex-col justify-between\" };\nconst _hoisted_7 = /* @__PURE__ */ _withScopeId(() => /* @__PURE__ */ _createElementVNode(\n  \"div\",\n  { class: \"address-text\" },\n  \"\\u5730\\u5740\",\n  -1\n  /* HOISTED */\n));\nconst _hoisted_8 = { class: \"address-content flex justify-between items-center\" };\nconst _hoisted_9 = /* @__PURE__ */ _withScopeId(() => /* @__PURE__ */ _createElementVNode(\n  \"div\",\n  { class: \"recharge-tips-container text-center\" },\n  [\n    /* @__PURE__ */ _createElementVNode(\"div\", null, \"\\u6700\\u5C11\\u5145\\u503C\\u6570\\u91CF\\uFF1A1USDT\"),\n    /* @__PURE__ */ _createElementVNode(\"div\", null, \"\\u626B\\u63CF\\u6216\\u8005\\u590D\\u5236\\u5730\\u5740\\u5B8C\\u6210\\u5145\\u503C,\"),\n    /* @__PURE__ */ _createElementVNode(\"div\", null, \"\\u4EC5\\u53D1\\u9001Tether(USDT_TRC20)\\u5230\\u8BE5\\u5730\\u5740\\u3002\"),\n    /* @__PURE__ */ _createElementVNode(\"div\", null, \"\\u53D1\\u9001\\u5176\\u4ED6\\u52A0\\u5BC6\\u8D27\\u5E01\\u53EF\\u80FD\\u4F1A\\u9020\\u6210\\u6C38\\u4E45\\u635F\\u5931\\u3002\")\n  ],\n  -1\n  /* HOISTED */\n));\nconst _hoisted_10 = { class: \"content\" };\nimport verified from \"@/assets/images/common/verified.png\";\nimport { useCommonStore } from \"@/store/modules/common\";\nimport { useUserStore } from \"@/store/modules/user\";\nimport { storeToRefs } from \"pinia\";\nimport QRCode from \"qrcode\";\nimport { showToast } from \"vant\";\nimport { computed, nextTick, onMounted, onUnmounted, reactive, ref, watch } from \"vue\";\nimport clipboard3 from \"vue-clipboard3\";\nimport { useRoute } from \"vue-router\";\nexport default /* @__PURE__ */ _defineComponent({\n  __name: \"Recharge\",\n  setup(__props) {\n    const route = useRoute();\n    const userStore = useUserStore();\n    const { getUserWalletAddressApi } = userStore;\n    const { userWallet } = storeToRefs(userStore);\n    const commonStore = useCommonStore();\n    const coinInfoMap = {\n      USDT_TRC20: {\n        coin_name: \"USDT\",\n        coin_protocol: \"USDT_TRC20\",\n        coin_wallet_api: \"TRX_SYS\"\n      },\n      USDT_ERC20: {\n        coin_name: \"USDT\",\n        coin_protocol: \"USDT_ERC20\",\n        coin_wallet_api: \"UDUNCLOUD\"\n      }\n    };\n    const isWebView = sessionStorage.getItem(\"isWebview\") === \"1\";\n    const coinProtocol = ref(\"USDT_TRC20\");\n    const qrcodeUrl = ref(\"\");\n    const btnSaveCodeText = ref(isWebView ? \"\\u8BF7\\u622A\\u56FE\\u4FDD\\u5B58\\u4E8C\\u7EF4\\u7801\" : \"\\u4FDD\\u5B58\\u4E8C\\u7EF4\\u7801\");\n    const dialog = reactive({\n      show: false,\n      data: {\n        title: \"\\u63D0\\u793A\",\n        content: \"\\u8BF7\\u7B49\\u5F851-3\\u5206\\u949F\\u5404\\u4E2A\\u533A\\u5757\\u8282\\u70B9\\u786E\\u8BA4\\u540E\\uFF0C\\u5145\\u503C\\u91D1\\u989D\\u624D\\u4F1A\\u5165\\u8D26\\uFF0C\\u5982\\u6709\\u7591\\u95EE\\u8BF7\\u8054\\u7CFB\\u5BA2\\u670D\\u3002\",\n        confirmButtonText: \"\\u786E\\u5B9A\"\n      }\n    });\n    const rechargeInfo = computed(\n      () => {\n        var _a;\n        return (_a = userWallet.value) == null ? void 0 : _a.find((item) => item.coin_protocol === coinProtocol.value);\n      }\n    );\n    watch(\n      rechargeInfo,\n      (walletInfo, oldWalletInfo) => {\n        var _a;\n        generateQR((_a = walletInfo == null ? void 0 : walletInfo.coin_address) != null ? _a : \"\\u672A\\u77E5\\u9519\\u8BEF\");\n      },\n      { deep: true }\n    );\n    const onClose = () => {\n      dialog.show = false;\n    };\n    let getUserWalletTimer;\n    const getRechargeInfo = async () => {\n      try {\n        const params = {\n          mtype: 2,\n          ...coinInfoMap[coinProtocol.value]\n        };\n        commonStore.setShowLoading(true);\n        await getUserWalletAddressApi({\n          create: 0,\n          ...params\n        });\n        if (!userWallet.value.length) {\n          getUserWalletTimer = setTimeout(async () => {\n            await getUserWalletAddressApi({\n              create: 1,\n              ...params\n            });\n            getUserWalletAddressApi({\n              create: 0,\n              ...params\n            });\n          }, 1e3);\n        }\n      } catch (error) {\n        console.error(error);\n      } finally {\n        commonStore.setShowLoading(false);\n      }\n    };\n    const onChangeCoinProtocol = (protocol) => {\n      coinProtocol.value = protocol;\n      getRechargeInfo();\n    };\n    const generateQR = async (text) => {\n      try {\n        const base64Url = await QRCode.toDataURL(text, { width: 225 });\n        qrcodeUrl.value = base64Url;\n      } catch (err) {\n        console.error(err);\n      }\n    };\n    const { toClipboard } = clipboard3();\n    const onCopy = async (text) => {\n      try {\n        await toClipboard(text);\n        showToast({\n          message: \"\\u94B1\\u5305\\u5730\\u5740\\u5DF2\\u590D\\u5236\\u5230\\u526A\\u5207\\u677F\",\n          icon: verified,\n          iconSize: \"48px\"\n        });\n      } catch (error) {\n        showToast({\n          message: \"\\u590D\\u5236\\u5931\\u8D25!!\",\n          icon: verified,\n          iconSize: \"48px\"\n        });\n      }\n    };\n    const previewImage = (imgUrl) => {\n      const image = new Image();\n      image.src = imgUrl;\n      image.onload = () => {\n        const previewContainer = document.createElement(\"div\");\n        previewContainer.style.position = \"fixed\";\n        previewContainer.style.top = \"0\";\n        previewContainer.style.bottom = \"0\";\n        previewContainer.style.left = \"0\";\n        previewContainer.style.right = \"0\";\n        previewContainer.style.backgroundColor = \"rgba(0,0,0,0.8)\";\n        previewContainer.style.display = \"flex\";\n        previewContainer.style.justifyContent = \"center\";\n        previewContainer.style.alignItems = \"center\";\n        document.body.appendChild(previewContainer);\n        const previewImage2 = document.createElement(\"img\");\n        previewImage2.src = imgUrl;\n        previewImage2.style.maxWidth = \"400px\";\n        previewImage2.style.maxHeight = \"400px\";\n        previewImage2.style.width = \"60%\";\n        previewContainer.appendChild(previewImage2);\n        previewContainer.addEventListener(\"click\", () => {\n          document.body.removeChild(previewContainer);\n        });\n      };\n    };\n    const downloadRechargeQrCode = async (e) => {\n      const isWebView2 = sessionStorage.getItem(\"isWebview\") === \"1\";\n      if (isWebView2) {\n        previewImage(qrcodeUrl.value);\n      } else {\n        const link = document.createElement(\"a\");\n        link.href = qrcodeUrl.value;\n        link.download = `${coinProtocol.value}.png`;\n        link.click();\n        nextTick(() => {\n          showToast({\n            message: \"\\u4FDD\\u5B58\\u6210\\u529F\",\n            icon: verified,\n            iconSize: \"48px\"\n          });\n        });\n      }\n    };\n    onMounted(() => {\n      var _a, _b;\n      generateQR((_b = (_a = rechargeInfo.value) == null ? void 0 : _a.coin_address) != null ? _b : \"\\u672A\\u77E5\\u9519\\u8BEF\");\n      getRechargeInfo();\n    });\n    onUnmounted(() => {\n      getUserWalletTimer && clearTimeout(getUserWalletTimer);\n      getUserWalletTimer = null;\n    });\n    return (_ctx, _cache) => {\n      var _a;\n      const _component_van_dialog = __unplugin_components_0;\n      return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n        _createElementVNode(\"div\", _hoisted_2, [\n          _createElementVNode(\"div\", {\n            class: \"btn-usdt-trc20\",\n            onClick: _cache[0] || (_cache[0] = ($event) => onChangeCoinProtocol(\"USDT_TRC20\"))\n          }, \" USDT_TRC20 \")\n        ]),\n        _createElementVNode(\"div\", _hoisted_3, [\n          _createElementVNode(\"img\", {\n            src: qrcodeUrl.value,\n            class: \"qr-code\"\n          }, null, 8, _hoisted_4),\n          _hoisted_5\n        ]),\n        _createElementVNode(\n          \"div\",\n          {\n            class: \"btn-save text-center\",\n            onClick: downloadRechargeQrCode\n          },\n          _toDisplayString(btnSaveCodeText.value),\n          1\n          /* TEXT */\n        ),\n        _createElementVNode(\"div\", _hoisted_6, [\n          _hoisted_7,\n          _createElementVNode(\"div\", _hoisted_8, [\n            _createElementVNode(\n              \"div\",\n              null,\n              _toDisplayString((_a = rechargeInfo.value) == null ? void 0 : _a.coin_address),\n              1\n              /* TEXT */\n            ),\n            _createElementVNode(\"i\", {\n              class: \"copy\",\n              onClick: _cache[1] || (_cache[1] = ($event) => {\n                var _a2;\n                return onCopy((_a2 = rechargeInfo.value) == null ? void 0 : _a2.coin_address);\n              })\n            })\n          ])\n        ]),\n        _hoisted_9,\n        _createElementVNode(\"div\", {\n          class: \"btn-ok text-center\",\n          onClick: _cache[2] || (_cache[2] = ($event) => dialog.show = true)\n        }, \" \\u5B8C\\u6210\\u5145\\u503C \"),\n        _createVNode(_component_van_dialog, {\n          show: dialog.show,\n          \"onUpdate:show\": _cache[3] || (_cache[3] = ($event) => dialog.show = $event),\n          title: dialog.data.title,\n          theme: \"round-button\",\n          className: \"dialog-recharge-tips\",\n          confirmButtonText: dialog.data.confirmButtonText\n        }, {\n          footer: _withCtx(() => [\n            _createElementVNode(\n              \"div\",\n              {\n                class: \"btn-confirm flex items-center justify-center\",\n                onClick: onClose\n              },\n              _toDisplayString(dialog.data.confirmButtonText),\n              1\n              /* TEXT */\n            )\n          ]),\n          default: _withCtx(() => [\n            _createElementVNode(\"i\", {\n              class: \"icon-close block close-dark\",\n              onClick: onClose\n            }),\n            _createElementVNode(\"div\", null, [\n              _createElementVNode(\n                \"div\",\n                _hoisted_10,\n                _toDisplayString(dialog.data.content),\n                1\n                /* TEXT */\n              )\n            ])\n          ]),\n          _: 1\n          /* STABLE */\n        }, 8, [\"show\", \"title\", \"confirmButtonText\"])\n      ]);\n    };\n  }\n});\n",
      "start": 1714699771001,
      "end": 1714699771001,
      "order": "post",
      "sourcemaps": {
        "version": 3,
        "sources": [
          "/Users/afeng/Desktop/work/gdpayh5-web/src/pages/Bricks/Recharge.vue?vue&type=script&setup=true&lang.ts"
        ],
        "sourcesContent": [
          "\"use strict\";\nimport { defineComponent as _defineComponent } from \"vue\";\nimport { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = (n) => (_pushScopeId(\"data-v-27ac4185\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = { class: \"recharge-container flex flex-col justify-between\" };\nconst _hoisted_2 = { class: \"coin-type-toggle-container flex justify-center text-center\" };\nconst _hoisted_3 = { class: \"usdt-recharge-qrcode-container flex flex-col justify-between items-center\" };\nconst _hoisted_4 = [\"src\"];\nconst _hoisted_5 = /* @__PURE__ */ _withScopeId(() => /* @__PURE__ */ _createElementVNode(\n  \"div\",\n  { class: \"recharge-text\" },\n  \"USDT\\u5145\\u5E01\\u4E8C\\u7EF4\\u7801\",\n  -1\n  /* HOISTED */\n));\nconst _hoisted_6 = { class: \"recharge-address-container flex flex-col justify-between\" };\nconst _hoisted_7 = /* @__PURE__ */ _withScopeId(() => /* @__PURE__ */ _createElementVNode(\n  \"div\",\n  { class: \"address-text\" },\n  \"\\u5730\\u5740\",\n  -1\n  /* HOISTED */\n));\nconst _hoisted_8 = { class: \"address-content flex justify-between items-center\" };\nconst _hoisted_9 = /* @__PURE__ */ _withScopeId(() => /* @__PURE__ */ _createElementVNode(\n  \"div\",\n  { class: \"recharge-tips-container text-center\" },\n  [\n    /* @__PURE__ */ _createElementVNode(\"div\", null, \"\\u6700\\u5C11\\u5145\\u503C\\u6570\\u91CF\\uFF1A1USDT\"),\n    /* @__PURE__ */ _createElementVNode(\"div\", null, \"\\u626B\\u63CF\\u6216\\u8005\\u590D\\u5236\\u5730\\u5740\\u5B8C\\u6210\\u5145\\u503C,\"),\n    /* @__PURE__ */ _createElementVNode(\"div\", null, \"\\u4EC5\\u53D1\\u9001Tether(USDT_TRC20)\\u5230\\u8BE5\\u5730\\u5740\\u3002\"),\n    /* @__PURE__ */ _createElementVNode(\"div\", null, \"\\u53D1\\u9001\\u5176\\u4ED6\\u52A0\\u5BC6\\u8D27\\u5E01\\u53EF\\u80FD\\u4F1A\\u9020\\u6210\\u6C38\\u4E45\\u635F\\u5931\\u3002\")\n  ],\n  -1\n  /* HOISTED */\n));\nconst _hoisted_10 = { class: \"content\" };\nimport verified from \"@/assets/images/common/verified.png\";\nimport { useCommonStore } from \"@/store/modules/common\";\nimport { useUserStore } from \"@/store/modules/user\";\nimport { storeToRefs } from \"pinia\";\nimport QRCode from \"qrcode\";\nimport { showToast } from \"vant\";\nimport { computed, nextTick, onMounted, onUnmounted, reactive, ref, watch } from \"vue\";\nimport clipboard3 from \"vue-clipboard3\";\nimport { useRoute } from \"vue-router\";\nexport default /* @__PURE__ */ _defineComponent({\n  __name: \"Recharge\",\n  setup(__props) {\n    const route = useRoute();\n    const userStore = useUserStore();\n    const { getUserWalletAddressApi } = userStore;\n    const { userWallet } = storeToRefs(userStore);\n    const commonStore = useCommonStore();\n    const coinInfoMap = {\n      USDT_TRC20: {\n        coin_name: \"USDT\",\n        coin_protocol: \"USDT_TRC20\",\n        coin_wallet_api: \"TRX_SYS\"\n      },\n      USDT_ERC20: {\n        coin_name: \"USDT\",\n        coin_protocol: \"USDT_ERC20\",\n        coin_wallet_api: \"UDUNCLOUD\"\n      }\n    };\n    const isWebView = sessionStorage.getItem(\"isWebview\") === \"1\";\n    const coinProtocol = ref(\"USDT_TRC20\");\n    const qrcodeUrl = ref(\"\");\n    const btnSaveCodeText = ref(isWebView ? \"\\u8BF7\\u622A\\u56FE\\u4FDD\\u5B58\\u4E8C\\u7EF4\\u7801\" : \"\\u4FDD\\u5B58\\u4E8C\\u7EF4\\u7801\");\n    const dialog = reactive({\n      show: false,\n      data: {\n        title: \"\\u63D0\\u793A\",\n        content: \"\\u8BF7\\u7B49\\u5F851-3\\u5206\\u949F\\u5404\\u4E2A\\u533A\\u5757\\u8282\\u70B9\\u786E\\u8BA4\\u540E\\uFF0C\\u5145\\u503C\\u91D1\\u989D\\u624D\\u4F1A\\u5165\\u8D26\\uFF0C\\u5982\\u6709\\u7591\\u95EE\\u8BF7\\u8054\\u7CFB\\u5BA2\\u670D\\u3002\",\n        confirmButtonText: \"\\u786E\\u5B9A\"\n      }\n    });\n    const rechargeInfo = computed(\n      () => {\n        var _a;\n        return (_a = userWallet.value) == null ? void 0 : _a.find((item) => item.coin_protocol === coinProtocol.value);\n      }\n    );\n    watch(\n      rechargeInfo,\n      (walletInfo, oldWalletInfo) => {\n        var _a;\n        generateQR((_a = walletInfo == null ? void 0 : walletInfo.coin_address) != null ? _a : \"\\u672A\\u77E5\\u9519\\u8BEF\");\n      },\n      { deep: true }\n    );\n    const onClose = () => {\n      dialog.show = false;\n    };\n    let getUserWalletTimer;\n    const getRechargeInfo = async () => {\n      try {\n        const params = {\n          mtype: 2,\n          ...coinInfoMap[coinProtocol.value]\n        };\n        commonStore.setShowLoading(true);\n        await getUserWalletAddressApi({\n          create: 0,\n          ...params\n        });\n        if (!userWallet.value.length) {\n          getUserWalletTimer = setTimeout(async () => {\n            await getUserWalletAddressApi({\n              create: 1,\n              ...params\n            });\n            getUserWalletAddressApi({\n              create: 0,\n              ...params\n            });\n          }, 1e3);\n        }\n      } catch (error) {\n        console.error(error);\n      } finally {\n        commonStore.setShowLoading(false);\n      }\n    };\n    const onChangeCoinProtocol = (protocol) => {\n      coinProtocol.value = protocol;\n      getRechargeInfo();\n    };\n    const generateQR = async (text) => {\n      try {\n        const base64Url = await QRCode.toDataURL(text, { width: 225 });\n        qrcodeUrl.value = base64Url;\n      } catch (err) {\n        console.error(err);\n      }\n    };\n    const { toClipboard } = clipboard3();\n    const onCopy = async (text) => {\n      try {\n        await toClipboard(text);\n        showToast({\n          message: \"\\u94B1\\u5305\\u5730\\u5740\\u5DF2\\u590D\\u5236\\u5230\\u526A\\u5207\\u677F\",\n          icon: verified,\n          iconSize: \"48px\"\n        });\n      } catch (error) {\n        showToast({\n          message: \"\\u590D\\u5236\\u5931\\u8D25!!\",\n          icon: verified,\n          iconSize: \"48px\"\n        });\n      }\n    };\n    const previewImage = (imgUrl) => {\n      const image = new Image();\n      image.src = imgUrl;\n      image.onload = () => {\n        const previewContainer = document.createElement(\"div\");\n        previewContainer.style.position = \"fixed\";\n        previewContainer.style.top = \"0\";\n        previewContainer.style.bottom = \"0\";\n        previewContainer.style.left = \"0\";\n        previewContainer.style.right = \"0\";\n        previewContainer.style.backgroundColor = \"rgba(0,0,0,0.8)\";\n        previewContainer.style.display = \"flex\";\n        previewContainer.style.justifyContent = \"center\";\n        previewContainer.style.alignItems = \"center\";\n        document.body.appendChild(previewContainer);\n        const previewImage2 = document.createElement(\"img\");\n        previewImage2.src = imgUrl;\n        previewImage2.style.maxWidth = \"400px\";\n        previewImage2.style.maxHeight = \"400px\";\n        previewImage2.style.width = \"60%\";\n        previewContainer.appendChild(previewImage2);\n        previewContainer.addEventListener(\"click\", () => {\n          document.body.removeChild(previewContainer);\n        });\n      };\n    };\n    const downloadRechargeQrCode = async (e) => {\n      const isWebView2 = sessionStorage.getItem(\"isWebview\") === \"1\";\n      if (isWebView2) {\n        previewImage(qrcodeUrl.value);\n      } else {\n        const link = document.createElement(\"a\");\n        link.href = qrcodeUrl.value;\n        link.download = `${coinProtocol.value}.png`;\n        link.click();\n        nextTick(() => {\n          showToast({\n            message: \"\\u4FDD\\u5B58\\u6210\\u529F\",\n            icon: verified,\n            iconSize: \"48px\"\n          });\n        });\n      }\n    };\n    onMounted(() => {\n      var _a, _b;\n      generateQR((_b = (_a = rechargeInfo.value) == null ? void 0 : _a.coin_address) != null ? _b : \"\\u672A\\u77E5\\u9519\\u8BEF\");\n      getRechargeInfo();\n    });\n    onUnmounted(() => {\n      getUserWalletTimer && clearTimeout(getUserWalletTimer);\n      getUserWalletTimer = null;\n    });\n    return (_ctx, _cache) => {\n      var _a;\n      const _component_van_dialog = _resolveComponent(\"van-dialog\");\n      return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n        _createElementVNode(\"div\", _hoisted_2, [\n          _createElementVNode(\"div\", {\n            class: \"btn-usdt-trc20\",\n            onClick: _cache[0] || (_cache[0] = ($event) => onChangeCoinProtocol(\"USDT_TRC20\"))\n          }, \" USDT_TRC20 \")\n        ]),\n        _createElementVNode(\"div\", _hoisted_3, [\n          _createElementVNode(\"img\", {\n            src: qrcodeUrl.value,\n            class: \"qr-code\"\n          }, null, 8, _hoisted_4),\n          _hoisted_5\n        ]),\n        _createElementVNode(\n          \"div\",\n          {\n            class: \"btn-save text-center\",\n            onClick: downloadRechargeQrCode\n          },\n          _toDisplayString(btnSaveCodeText.value),\n          1\n          /* TEXT */\n        ),\n        _createElementVNode(\"div\", _hoisted_6, [\n          _hoisted_7,\n          _createElementVNode(\"div\", _hoisted_8, [\n            _createElementVNode(\n              \"div\",\n              null,\n              _toDisplayString((_a = rechargeInfo.value) == null ? void 0 : _a.coin_address),\n              1\n              /* TEXT */\n            ),\n            _createElementVNode(\"i\", {\n              class: \"copy\",\n              onClick: _cache[1] || (_cache[1] = ($event) => {\n                var _a2;\n                return onCopy((_a2 = rechargeInfo.value) == null ? void 0 : _a2.coin_address);\n              })\n            })\n          ])\n        ]),\n        _hoisted_9,\n        _createElementVNode(\"div\", {\n          class: \"btn-ok text-center\",\n          onClick: _cache[2] || (_cache[2] = ($event) => dialog.show = true)\n        }, \" \\u5B8C\\u6210\\u5145\\u503C \"),\n        _createVNode(_component_van_dialog, {\n          show: dialog.show,\n          \"onUpdate:show\": _cache[3] || (_cache[3] = ($event) => dialog.show = $event),\n          title: dialog.data.title,\n          theme: \"round-button\",\n          className: \"dialog-recharge-tips\",\n          confirmButtonText: dialog.data.confirmButtonText\n        }, {\n          footer: _withCtx(() => [\n            _createElementVNode(\n              \"div\",\n              {\n                class: \"btn-confirm flex items-center justify-center\",\n                onClick: onClose\n              },\n              _toDisplayString(dialog.data.confirmButtonText),\n              1\n              /* TEXT */\n            )\n          ]),\n          default: _withCtx(() => [\n            _createElementVNode(\"i\", {\n              class: \"icon-close block close-dark\",\n              onClick: onClose\n            }),\n            _createElementVNode(\"div\", null, [\n              _createElementVNode(\n                \"div\",\n                _hoisted_10,\n                _toDisplayString(dialog.data.content),\n                1\n                /* TEXT */\n              )\n            ])\n          ]),\n          _: 1\n          /* STABLE */\n        }, 8, [\"show\", \"title\", \"confirmButtonText\"])\n      ]);\n    };\n  }\n});\n"
        ],
        "names": [],
        "mappings": ";AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,uBAA+B;AACnE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;"
      }
    },
    {
      "name": "vite:style-import",
      "start": 1714699771001,
      "end": 1714699771001,
      "order": "post"
    },
    {
      "name": "vite:build-import-analysis",
      "start": 1714699771001,
      "end": 1714699771001,
      "order": "normal"
    },
    {
      "name": "vite:reporter",
      "start": 1714699771001,
      "end": 1714699771001,
      "order": "normal"
    }
  ]
}
