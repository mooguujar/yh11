{
  "resolvedId": "/Users/afeng/Desktop/work/gdpayh5-web/src/components/Point/LuckyDraw.vue?vue&type=script&setup=true&lang.ts",
  "transforms": [
    {
      "name": "vite:vue",
      "result": "import { defineComponent as _defineComponent } from 'vue'\nimport { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, normalizeClass as _normalizeClass, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, unref as _unref, withCtx as _withCtx, createBlock as _createBlock, resolveComponent as _resolveComponent, createVNode as _createVNode } from \"vue\"\n\nconst _hoisted_1 = { class: \"lucky-draw-container\" }\nconst _hoisted_2 = { class: \"draw-middle-container flex items-center\" }\nconst _hoisted_3 = { class: \"award-loop-container flex items-center flex-wrap\" }\nconst _hoisted_4 = { class: \"icon-container flex items-center justify-center\" }\nconst _hoisted_5 = [\"src\"]\nconst _hoisted_6 = { class: \"right-scroll-container\" }\nconst _hoisted_7 = /*#__PURE__*/_createElementVNode(\"div\", { class: \"title\" }, \"中奖记录\", -1 /* HOISTED */)\nconst _hoisted_8 = {\n  key: 1,\n  class: \"no-data flex flex-col items-center justify-center text-center\"\n}\nconst _hoisted_9 = [\"src\"]\nconst _hoisted_10 = /*#__PURE__*/_createElementVNode(\"div\", { class: \"text-no-data\" }, \"暂无数据\", -1 /* HOISTED */)\nconst _hoisted_11 = { class: \"lottery-container flex items-center justify-between\" }\nconst _hoisted_12 = [\"onClick\"]\nconst _hoisted_13 = { className: \"item-name\" }\nconst _hoisted_14 = { className: \"item-required-point\" }\nconst _hoisted_15 = {\n  key: 0,\n  class: \"discount\"\n}\nconst _hoisted_16 = { className: \"discount-num\" }\nconst _hoisted_17 = /*#__PURE__*/_createElementVNode(\"div\", { class: \"title\" }, \"抽奖结果\", -1 /* HOISTED */)\nconst _hoisted_18 = { class: \"content\" }\nconst _hoisted_19 = { class: \"result-summary\" }\nconst _hoisted_20 = {\n  key: 0,\n  class: \"item-result-title lucky-king\"\n}\nconst _hoisted_21 = {\n  key: 0,\n  class: \"item-result-title\"\n}\nconst _hoisted_22 = /*#__PURE__*/_createElementVNode(\"span\", null, \"获得积分：\", -1 /* HOISTED */)\nconst _hoisted_23 = { class: \"result-value\" }\nconst _hoisted_24 = {\n  key: 1,\n  class: \"item-result-title\"\n}\nconst _hoisted_25 = { class: \"result-value\" }\nconst _hoisted_26 = { class: \"award-list-container flex flex-wrap justify-between\" }\nconst _hoisted_27 = { class: \"award-icon\" }\nconst _hoisted_28 = [\"src\"]\nconst _hoisted_29 = { class: \"award-name\" }\n\nimport noData from '@/assets/images/common/noData-gold.png'\nimport iconWarning from '@/assets/images/common/warning.png'\nimport { useAuthStore } from '@/store'\nimport { useCommonStore } from '@/store/modules/common'\nimport { useEntryStore } from '@/store/modules/entry'\nimport { useTaskActivityStore } from '@/store/modules/taskActivity'\nimport { INormal } from '@/store/types/entry'\nimport {\n  IAwardData,\n  IGameRecord,\n  IGameRecordData,\n  IPlayTurntableData,\n  ITurntableAward,\n  ITurntableOption\n} from '@/store/types/taskActivity'\nimport dayjs from 'dayjs'\nimport { storeToRefs } from 'pinia'\nimport { showToast } from 'vant'\nimport { computed, onBeforeUnmount, onMounted, reactive, ref } from 'vue'\nimport { Vue3SeamlessScroll as SeamlessScroll } from 'vue3-seamless-scroll'\n\ntype TTurntableAward = Partial<ITurntableAward>\n\n// 抽奖记录\ninterface IAwardState {\n  currentIndex: number // 当前位置\n  isRunning: boolean // 是否正在抽奖\n  speed: number // 抽奖转动速度\n  runTurnTableTimer: NodeJS.Timeout | null // 抽奖轮盘计时器\n  turnTableLimitTimer: NodeJS.Timeout | null // 抽奖频率计时器\n  currentRunCount: number // 已跑次数\n  totalRunCount: number // 总共跑动次数 10的倍数\n  prizeId: number // 中奖id\n  continue: number // 是否可以继续抽奖\n}\n// 抽奖相关数据状态\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'LuckyDraw',\n  emits: ['update-coins'],\n  setup(__props, { emit: __emit }) {\n\nconst coin_name = sessionStorage.getItem('coin_name')\nconst emit = __emit\n\nconst winRecordList = ref<IGameRecord[]>([])\n// 抽奖轮盘奖项列表\nconst awardLoopList = ref<TTurntableAward[]>([\n  {\n    class: 'RMB-4'\n  },\n  {\n    class: 'point-1'\n  },\n  {\n    class: 'RMB-gold-box'\n  },\n  {\n    class: 'lucky-star'\n  },\n  {\n    class: 'point-5'\n  },\n  {\n    class: 'point-8'\n  },\n  {\n    class: 'RMB-1'\n  },\n  {\n    class: 'RMB-silver-box'\n  },\n  {\n    class: 'point-3'\n  },\n  {\n    class: 'RMB-3'\n  }\n])\nconst awardState = reactive<IAwardState>({\n  currentIndex: -1, // 当前位置\n  isRunning: false, // 是否正在抽奖\n  speed: 10, // 抽奖转动速度\n  runTurnTableTimer: null, // 抽奖轮盘计时器\n  turnTableLimitTimer: null, // 抽奖频率计时器\n  currentRunCount: 0, // 已跑次数\n  totalRunCount: 40, // 总共跑动次数 10的倍数\n  prizeId: 0, // 中奖id\n  continue: 1 // 是否可以继续抽奖\n})\nconst awardResult = reactive<IPlayTurntableData>({\n  awards: [],\n  mtype: {\n    '0': 0,\n    '1': 0,\n    '20': 0\n  }\n})\n// 奖品高亮顺序\nconst prizeSort = [0, 1, 2, 3, 4, 9, 8, 7, 6, 5, 0]\n// 抽奖按钮\nconst btnList = ref<ITurntableOption[]>([])\n\nconst entryStore = useEntryStore()\nconst { config } = storeToRefs(entryStore)\n\nconst appDomain = computed(() => {\n  return (config.value.Web_Set_DefaultInfo?.imgserver_url as INormal).v || ''\n})\n\nconst taskActivityStore = useTaskActivityStore()\nconst { getTurntableAwardsApi, getGameRecordApi, getPlayTurntableApi } = taskActivityStore\nconst { turntableAwards, awardRecord } = storeToRefs(taskActivityStore)\n\nconst handleTurnTableAwardsData = (data: IAwardData) => {\n  awardLoopList.value = data.awards\n  btnList.value = data.options\n}\n// 获取轮盘奖项列表\nconst getTurntableAwards = async () => {\n  try {\n    let res: IAwardData = turntableAwards.value\n\n    if (!res.awards?.length) {\n      res = await getTurntableAwardsApi()\n    }\n\n    handleTurnTableAwardsData(res)\n\n    window.log('轮盘奖项列表', res)\n  } catch (error) {\n    console.error(error)\n  }\n}\n// 获取抽奖记录\nconst getGameRecord = async (isReq: boolean = false) => {\n  try {\n    let res: IGameRecordData\n\n    if (awardRecord.value.count && !isReq) {\n      res = awardRecord.value\n    } else {\n      res = await getGameRecordApi()\n    }\n\n    if (res.list?.length) {\n      winRecordList.value = res.list\n    }\n\n    window.log('抽奖记录', res)\n  } catch (error) {\n    console.error(error)\n  }\n}\n\n// 要执行总步数\nconst totalRunStep = computed(() => {\n  return awardState.totalRunCount + prizeSort.indexOf(awardState.prizeId)\n})\n\n// 获取随机数\nconst getRandomNum = () => {\n  // 这里一次必然可以取到 时间为1次\n  return prizeSort[Math.floor(Math.random() * prizeSort.length)]\n}\n\nconst authStore = useAuthStore()\nconst { getUserMoneyByMType } = storeToRefs(authStore)\n// 点击抽奖\nconst runTurntable = (item: ITurntableOption) => {\n  const point = +(getUserMoneyByMType.value(20)?.coincash ?? 0)\n  if (point < +item.consume) {\n    showToast({\n      message: '积分不足',\n      icon: iconWarning\n    })\n\n    return\n  }\n  if (!awardState.continue) {\n    showToast({\n      message: '10秒内只能操作一次',\n      icon: iconWarning\n    })\n\n    return\n  }\n\n  if (!awardState.isRunning) {\n    // 重置数据\n    awardState.currentRunCount = 0\n    awardState.speed = 30\n    awardState.isRunning = true\n\n    // 如果接口突然报错如何处理？直接调用stopRun()方法停止转动\n    getTurnTableData(item.id)\n  }\n}\n\nconst startRun = () => {\n  stopRun()\n  // window.log('--currentRunCount-totalRunStep--', awardState.currentRunCount, totalRunStep.value)\n  // 要执行总步数\n  // 已走步数超过\n  if (awardState.currentRunCount > totalRunStep.value) {\n    awardState.isRunning = false\n    showDialog.value = true\n    awardState.currentIndex = -1\n    emit('update-coins', true)\n    getGameRecord(true)\n    return\n  }\n  awardState.currentIndex = prizeSort[awardState.currentRunCount % 10]\n  // 如果当前步数超过了2/3则速度慢下来\n  if (awardState.currentRunCount > Math.floor((awardState.totalRunCount * 2) / 3)) {\n    awardState.speed = awardState.speed + Math.floor(awardState.currentRunCount / 3)\n    // console.log('速度>>>>', awardState.speed)\n  }\n  awardState.runTurnTableTimer = setTimeout(() => {\n    awardState.currentRunCount++\n    startRun()\n  }, awardState.speed)\n}\n\nconst stopRun = () => {\n  awardState.runTurnTableTimer && clearTimeout(awardState.runTurnTableTimer)\n}\n\nconst commonStore = useCommonStore()\n// 轮盘抽奖\nconst getTurnTableData = async (id: number) => {\n  try {\n    commonStore.setShowLoading(true)\n    awardState.continue = 0\n\n    const params = {\n      config_id: id\n    }\n\n    const res = await getPlayTurntableApi(params)\n\n    if (res.awards?.length) {\n      awardResult.awards = res.awards\n      awardResult.mtype = res.mtype\n\n      const prizeId = awardLoopList.value.findIndex(\n        item => item.turntable_idd === res.awards[0].turntable_idd\n      )\n\n      if (~prizeId) {\n        awardState.prizeId = prizeId\n        startRun()\n      }\n    }\n\n    window.log('抽奖', res)\n  } catch (error) {\n    console.error(error)\n  } finally {\n    commonStore.setShowLoading(false)\n\n    awardState.turnTableLimitTimer && clearTimeout(awardState.turnTableLimitTimer)\n    awardState.turnTableLimitTimer = setTimeout(() => {\n      awardState.isRunning = false\n      awardState.continue = 1\n    }, 10 * 1000)\n  }\n}\n\nconst showDialog = ref(false)\n\nconst closeDialog = () => {\n  showDialog.value = false\n}\n\nonMounted(() => {\n  getTurntableAwards()\n  getGameRecord()\n})\nonBeforeUnmount(() => {\n  awardState.runTurnTableTimer && clearTimeout(awardState.runTurnTableTimer)\n  awardState.runTurnTableTimer = null\n  awardState.turnTableLimitTimer && clearTimeout(awardState.turnTableLimitTimer)\n  awardState.turnTableLimitTimer = null\n})\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_van_dialog = _resolveComponent(\"van-dialog\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createElementVNode(\"div\", _hoisted_3, [\n        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(awardLoopList.value, (item, index) => {\n          return (_openBlock(), _createElementBlock(\"div\", {\n            key: item.id,\n            class: _normalizeClass([\"item-award flex flex-col items-center justify-between\", { active: awardState.currentIndex === index }])\n          }, [\n            _createElementVNode(\"div\", _hoisted_4, [\n              (item.activity_img)\n                ? (_openBlock(), _createElementBlock(\"img\", {\n                    key: 0,\n                    src: appDomain.value + item.activity_img\n                  }, null, 8 /* PROPS */, _hoisted_5))\n                : (_openBlock(), _createElementBlock(\"i\", {\n                    key: 1,\n                    class: _normalizeClass(item.class)\n                  }, null, 2 /* CLASS */))\n            ]),\n            _createElementVNode(\"div\", {\n              class: _normalizeClass([\"award-name\", { 'final-award-name': item.turntable_name && item.turntable_name.length > 5 }])\n            }, _toDisplayString(item.turntable_name), 3 /* TEXT, CLASS */)\n          ], 2 /* CLASS */))\n        }), 128 /* KEYED_FRAGMENT */))\n      ]),\n      _createElementVNode(\"div\", _hoisted_6, [\n        _hoisted_7,\n        _createElementVNode(\"div\", {\n          class: _normalizeClass([\"winning-record\", !winRecordList.value.length ? 'flex items-center justify-center' : ''])\n        }, [\n          (winRecordList.value.length)\n            ? (_openBlock(), _createBlock(_unref(SeamlessScroll), {\n                key: 0,\n                list: winRecordList.value,\n                limitScrollNum: 7,\n                step: 0.3,\n                class: \"seamless-scroll\"\n              }, {\n                default: _withCtx(() => [\n                  (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(winRecordList.value, (item, index) => {\n                    return (_openBlock(), _createElementBlock(\"div\", {\n                      key: index,\n                      class: \"item-award-history ellipsis\"\n                    }, _toDisplayString(_unref(dayjs)(item.addtime).format('HH:mm')) + \"中奖\" + _toDisplayString(item.record_desc), 1 /* TEXT */))\n                  }), 128 /* KEYED_FRAGMENT */))\n                ]),\n                _: 1 /* STABLE */\n              }, 8 /* PROPS */, [\"list\"]))\n            : (_openBlock(), _createElementBlock(\"div\", _hoisted_8, [\n                _createElementVNode(\"img\", { src: _unref(noData) }, null, 8 /* PROPS */, _hoisted_9),\n                _hoisted_10\n              ]))\n        ], 2 /* CLASS */)\n      ])\n    ]),\n    _createElementVNode(\"div\", _hoisted_11, [\n      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(btnList.value, (item) => {\n        return (_openBlock(), _createElementBlock(\"div\", {\n          key: item.id,\n          class: \"award-btn\",\n          onClick: ($event: any) => (runTurntable(item))\n        }, [\n          _createElementVNode(\"div\", _hoisted_13, _toDisplayString(item.title), 1 /* TEXT */),\n          _createElementVNode(\"div\", _hoisted_14, \"(\" + _toDisplayString(item.consume) + \"积分)\", 1 /* TEXT */),\n          (item.discount)\n            ? (_openBlock(), _createElementBlock(\"div\", _hoisted_15, [\n                _createElementVNode(\"div\", _hoisted_16, _toDisplayString(item.discount), 1 /* TEXT */)\n              ]))\n            : _createCommentVNode(\"v-if\", true)\n        ], 8 /* PROPS */, _hoisted_12))\n      }), 128 /* KEYED_FRAGMENT */))\n    ]),\n    _createVNode(_component_van_dialog, {\n      show: showDialog.value,\n      \"onUpdate:show\": _cache[0] || (_cache[0] = ($event: any) => ((showDialog).value = $event)),\n      theme: \"round-button\",\n      confirmButtonText: \"确定\",\n      class: \"point-dialog award-result-dialog\"\n    }, {\n      default: _withCtx(() => [\n        _createElementVNode(\"i\", {\n          class: \"close-white block icon-pos\",\n          onClick: closeDialog\n        }),\n        _hoisted_17,\n        _createElementVNode(\"div\", _hoisted_18, [\n          _createElementVNode(\"div\", _hoisted_19, [\n            (!awardResult.mtype['1'] && !awardResult.mtype['20'])\n              ? (_openBlock(), _createElementBlock(\"div\", _hoisted_20, _toDisplayString(awardResult.awards[0]?.turntable_name), 1 /* TEXT */))\n              : (_openBlock(), _createElementBlock(_Fragment, { key: 1 }, [\n                  (awardResult.mtype['20'])\n                    ? (_openBlock(), _createElementBlock(\"div\", _hoisted_21, [\n                        _hoisted_22,\n                        _createElementVNode(\"span\", _hoisted_23, \"+\" + _toDisplayString(awardResult.mtype['20']), 1 /* TEXT */)\n                      ]))\n                    : _createCommentVNode(\"v-if\", true),\n                  (awardResult.mtype['1'])\n                    ? (_openBlock(), _createElementBlock(\"div\", _hoisted_24, [\n                        _createElementVNode(\"span\", null, \"获得\" + _toDisplayString(_unref(coin_name)) + \"：\", 1 /* TEXT */),\n                        _createElementVNode(\"span\", _hoisted_25, \"+\" + _toDisplayString(awardResult.mtype['1'].toTruncFixed(2)), 1 /* TEXT */)\n                      ]))\n                    : _createCommentVNode(\"v-if\", true)\n                ], 64 /* STABLE_FRAGMENT */))\n          ]),\n          _createElementVNode(\"div\", _hoisted_26, [\n            (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(awardResult.awards, (item, index) => {\n              return (_openBlock(), _createElementBlock(\"div\", {\n                key: index,\n                class: \"item-award flex flex-col justify-center items-center\"\n              }, [\n                _createElementVNode(\"div\", _hoisted_27, [\n                  _createElementVNode(\"img\", {\n                    src: appDomain.value + item.activity_img\n                  }, null, 8 /* PROPS */, _hoisted_28)\n                ]),\n                _createElementVNode(\"div\", _hoisted_29, _toDisplayString(item.turntable_name), 1 /* TEXT */)\n              ]))\n            }), 128 /* KEYED_FRAGMENT */))\n          ])\n        ])\n      ]),\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"show\"])\n  ]))\n}\n}\n\n})",
      "start": 1714699771960,
      "end": 1714699771960
    },
    {
      "name": "vite:css",
      "start": 1714699771960,
      "end": 1714699771960,
      "order": "normal"
    },
    {
      "name": "vite:esbuild",
      "result": "import { defineComponent as _defineComponent } from \"vue\";\nimport { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, normalizeClass as _normalizeClass, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, unref as _unref, withCtx as _withCtx, createBlock as _createBlock, resolveComponent as _resolveComponent, createVNode as _createVNode } from \"vue\";\nconst _hoisted_1 = { class: \"lucky-draw-container\" };\nconst _hoisted_2 = { class: \"draw-middle-container flex items-center\" };\nconst _hoisted_3 = { class: \"award-loop-container flex items-center flex-wrap\" };\nconst _hoisted_4 = { class: \"icon-container flex items-center justify-center\" };\nconst _hoisted_5 = [\"src\"];\nconst _hoisted_6 = { class: \"right-scroll-container\" };\nconst _hoisted_7 = /* @__PURE__ */ _createElementVNode(\n  \"div\",\n  { class: \"title\" },\n  \"中奖记录\",\n  -1\n  /* HOISTED */\n);\nconst _hoisted_8 = {\n  key: 1,\n  class: \"no-data flex flex-col items-center justify-center text-center\"\n};\nconst _hoisted_9 = [\"src\"];\nconst _hoisted_10 = /* @__PURE__ */ _createElementVNode(\n  \"div\",\n  { class: \"text-no-data\" },\n  \"暂无数据\",\n  -1\n  /* HOISTED */\n);\nconst _hoisted_11 = { class: \"lottery-container flex items-center justify-between\" };\nconst _hoisted_12 = [\"onClick\"];\nconst _hoisted_13 = { className: \"item-name\" };\nconst _hoisted_14 = { className: \"item-required-point\" };\nconst _hoisted_15 = {\n  key: 0,\n  class: \"discount\"\n};\nconst _hoisted_16 = { className: \"discount-num\" };\nconst _hoisted_17 = /* @__PURE__ */ _createElementVNode(\n  \"div\",\n  { class: \"title\" },\n  \"抽奖结果\",\n  -1\n  /* HOISTED */\n);\nconst _hoisted_18 = { class: \"content\" };\nconst _hoisted_19 = { class: \"result-summary\" };\nconst _hoisted_20 = {\n  key: 0,\n  class: \"item-result-title lucky-king\"\n};\nconst _hoisted_21 = {\n  key: 0,\n  class: \"item-result-title\"\n};\nconst _hoisted_22 = /* @__PURE__ */ _createElementVNode(\n  \"span\",\n  null,\n  \"获得积分：\",\n  -1\n  /* HOISTED */\n);\nconst _hoisted_23 = { class: \"result-value\" };\nconst _hoisted_24 = {\n  key: 1,\n  class: \"item-result-title\"\n};\nconst _hoisted_25 = { class: \"result-value\" };\nconst _hoisted_26 = { class: \"award-list-container flex flex-wrap justify-between\" };\nconst _hoisted_27 = { class: \"award-icon\" };\nconst _hoisted_28 = [\"src\"];\nconst _hoisted_29 = { class: \"award-name\" };\nimport noData from \"@/assets/images/common/noData-gold.png\";\nimport iconWarning from \"@/assets/images/common/warning.png\";\nimport { useAuthStore } from \"@/store\";\nimport { useCommonStore } from \"@/store/modules/common\";\nimport { useEntryStore } from \"@/store/modules/entry\";\nimport { useTaskActivityStore } from \"@/store/modules/taskActivity\";\nimport dayjs from \"dayjs\";\nimport { storeToRefs } from \"pinia\";\nimport { showToast } from \"vant\";\nimport { computed, onBeforeUnmount, onMounted, reactive, ref } from \"vue\";\nimport { Vue3SeamlessScroll as SeamlessScroll } from \"vue3-seamless-scroll\";\nexport default /* @__PURE__ */ _defineComponent({\n  __name: \"LuckyDraw\",\n  emits: [\"update-coins\"],\n  setup(__props, { emit: __emit }) {\n    const coin_name = sessionStorage.getItem(\"coin_name\");\n    const emit = __emit;\n    const winRecordList = ref([]);\n    const awardLoopList = ref([\n      {\n        class: \"RMB-4\"\n      },\n      {\n        class: \"point-1\"\n      },\n      {\n        class: \"RMB-gold-box\"\n      },\n      {\n        class: \"lucky-star\"\n      },\n      {\n        class: \"point-5\"\n      },\n      {\n        class: \"point-8\"\n      },\n      {\n        class: \"RMB-1\"\n      },\n      {\n        class: \"RMB-silver-box\"\n      },\n      {\n        class: \"point-3\"\n      },\n      {\n        class: \"RMB-3\"\n      }\n    ]);\n    const awardState = reactive({\n      currentIndex: -1,\n      // 当前位置\n      isRunning: false,\n      // 是否正在抽奖\n      speed: 10,\n      // 抽奖转动速度\n      runTurnTableTimer: null,\n      // 抽奖轮盘计时器\n      turnTableLimitTimer: null,\n      // 抽奖频率计时器\n      currentRunCount: 0,\n      // 已跑次数\n      totalRunCount: 40,\n      // 总共跑动次数 10的倍数\n      prizeId: 0,\n      // 中奖id\n      continue: 1\n      // 是否可以继续抽奖\n    });\n    const awardResult = reactive({\n      awards: [],\n      mtype: {\n        \"0\": 0,\n        \"1\": 0,\n        \"20\": 0\n      }\n    });\n    const prizeSort = [0, 1, 2, 3, 4, 9, 8, 7, 6, 5, 0];\n    const btnList = ref([]);\n    const entryStore = useEntryStore();\n    const { config } = storeToRefs(entryStore);\n    const appDomain = computed(() => {\n      return (config.value.Web_Set_DefaultInfo?.imgserver_url).v || \"\";\n    });\n    const taskActivityStore = useTaskActivityStore();\n    const { getTurntableAwardsApi, getGameRecordApi, getPlayTurntableApi } = taskActivityStore;\n    const { turntableAwards, awardRecord } = storeToRefs(taskActivityStore);\n    const handleTurnTableAwardsData = (data) => {\n      awardLoopList.value = data.awards;\n      btnList.value = data.options;\n    };\n    const getTurntableAwards = async () => {\n      try {\n        let res = turntableAwards.value;\n        if (!res.awards?.length) {\n          res = await getTurntableAwardsApi();\n        }\n        handleTurnTableAwardsData(res);\n        window.log(\"轮盘奖项列表\", res);\n      } catch (error) {\n        console.error(error);\n      }\n    };\n    const getGameRecord = async (isReq = false) => {\n      try {\n        let res;\n        if (awardRecord.value.count && !isReq) {\n          res = awardRecord.value;\n        } else {\n          res = await getGameRecordApi();\n        }\n        if (res.list?.length) {\n          winRecordList.value = res.list;\n        }\n        window.log(\"抽奖记录\", res);\n      } catch (error) {\n        console.error(error);\n      }\n    };\n    const totalRunStep = computed(() => {\n      return awardState.totalRunCount + prizeSort.indexOf(awardState.prizeId);\n    });\n    const getRandomNum = () => {\n      return prizeSort[Math.floor(Math.random() * prizeSort.length)];\n    };\n    const authStore = useAuthStore();\n    const { getUserMoneyByMType } = storeToRefs(authStore);\n    const runTurntable = (item) => {\n      const point = +(getUserMoneyByMType.value(20)?.coincash ?? 0);\n      if (point < +item.consume) {\n        showToast({\n          message: \"积分不足\",\n          icon: iconWarning\n        });\n        return;\n      }\n      if (!awardState.continue) {\n        showToast({\n          message: \"10秒内只能操作一次\",\n          icon: iconWarning\n        });\n        return;\n      }\n      if (!awardState.isRunning) {\n        awardState.currentRunCount = 0;\n        awardState.speed = 30;\n        awardState.isRunning = true;\n        getTurnTableData(item.id);\n      }\n    };\n    const startRun = () => {\n      stopRun();\n      if (awardState.currentRunCount > totalRunStep.value) {\n        awardState.isRunning = false;\n        showDialog.value = true;\n        awardState.currentIndex = -1;\n        emit(\"update-coins\", true);\n        getGameRecord(true);\n        return;\n      }\n      awardState.currentIndex = prizeSort[awardState.currentRunCount % 10];\n      if (awardState.currentRunCount > Math.floor(awardState.totalRunCount * 2 / 3)) {\n        awardState.speed = awardState.speed + Math.floor(awardState.currentRunCount / 3);\n      }\n      awardState.runTurnTableTimer = setTimeout(() => {\n        awardState.currentRunCount++;\n        startRun();\n      }, awardState.speed);\n    };\n    const stopRun = () => {\n      awardState.runTurnTableTimer && clearTimeout(awardState.runTurnTableTimer);\n    };\n    const commonStore = useCommonStore();\n    const getTurnTableData = async (id) => {\n      try {\n        commonStore.setShowLoading(true);\n        awardState.continue = 0;\n        const params = {\n          config_id: id\n        };\n        const res = await getPlayTurntableApi(params);\n        if (res.awards?.length) {\n          awardResult.awards = res.awards;\n          awardResult.mtype = res.mtype;\n          const prizeId = awardLoopList.value.findIndex(\n            (item) => item.turntable_idd === res.awards[0].turntable_idd\n          );\n          if (~prizeId) {\n            awardState.prizeId = prizeId;\n            startRun();\n          }\n        }\n        window.log(\"抽奖\", res);\n      } catch (error) {\n        console.error(error);\n      } finally {\n        commonStore.setShowLoading(false);\n        awardState.turnTableLimitTimer && clearTimeout(awardState.turnTableLimitTimer);\n        awardState.turnTableLimitTimer = setTimeout(() => {\n          awardState.isRunning = false;\n          awardState.continue = 1;\n        }, 10 * 1e3);\n      }\n    };\n    const showDialog = ref(false);\n    const closeDialog = () => {\n      showDialog.value = false;\n    };\n    onMounted(() => {\n      getTurntableAwards();\n      getGameRecord();\n    });\n    onBeforeUnmount(() => {\n      awardState.runTurnTableTimer && clearTimeout(awardState.runTurnTableTimer);\n      awardState.runTurnTableTimer = null;\n      awardState.turnTableLimitTimer && clearTimeout(awardState.turnTableLimitTimer);\n      awardState.turnTableLimitTimer = null;\n    });\n    return (_ctx, _cache) => {\n      const _component_van_dialog = _resolveComponent(\"van-dialog\");\n      return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n        _createElementVNode(\"div\", _hoisted_2, [\n          _createElementVNode(\"div\", _hoisted_3, [\n            (_openBlock(true), _createElementBlock(\n              _Fragment,\n              null,\n              _renderList(awardLoopList.value, (item, index) => {\n                return _openBlock(), _createElementBlock(\n                  \"div\",\n                  {\n                    key: item.id,\n                    class: _normalizeClass([\"item-award flex flex-col items-center justify-between\", { active: awardState.currentIndex === index }])\n                  },\n                  [\n                    _createElementVNode(\"div\", _hoisted_4, [\n                      item.activity_img ? (_openBlock(), _createElementBlock(\"img\", {\n                        key: 0,\n                        src: appDomain.value + item.activity_img\n                      }, null, 8, _hoisted_5)) : (_openBlock(), _createElementBlock(\n                        \"i\",\n                        {\n                          key: 1,\n                          class: _normalizeClass(item.class)\n                        },\n                        null,\n                        2\n                        /* CLASS */\n                      ))\n                    ]),\n                    _createElementVNode(\n                      \"div\",\n                      {\n                        class: _normalizeClass([\"award-name\", { \"final-award-name\": item.turntable_name && item.turntable_name.length > 5 }])\n                      },\n                      _toDisplayString(item.turntable_name),\n                      3\n                      /* TEXT, CLASS */\n                    )\n                  ],\n                  2\n                  /* CLASS */\n                );\n              }),\n              128\n              /* KEYED_FRAGMENT */\n            ))\n          ]),\n          _createElementVNode(\"div\", _hoisted_6, [\n            _hoisted_7,\n            _createElementVNode(\n              \"div\",\n              {\n                class: _normalizeClass([\"winning-record\", !winRecordList.value.length ? \"flex items-center justify-center\" : \"\"])\n              },\n              [\n                winRecordList.value.length ? (_openBlock(), _createBlock(_unref(SeamlessScroll), {\n                  key: 0,\n                  list: winRecordList.value,\n                  limitScrollNum: 7,\n                  step: 0.3,\n                  class: \"seamless-scroll\"\n                }, {\n                  default: _withCtx(() => [\n                    (_openBlock(true), _createElementBlock(\n                      _Fragment,\n                      null,\n                      _renderList(winRecordList.value, (item, index) => {\n                        return _openBlock(), _createElementBlock(\n                          \"div\",\n                          {\n                            key: index,\n                            class: \"item-award-history ellipsis\"\n                          },\n                          _toDisplayString(_unref(dayjs)(item.addtime).format(\"HH:mm\")) + \"中奖\" + _toDisplayString(item.record_desc),\n                          1\n                          /* TEXT */\n                        );\n                      }),\n                      128\n                      /* KEYED_FRAGMENT */\n                    ))\n                  ]),\n                  _: 1\n                  /* STABLE */\n                }, 8, [\"list\"])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_8, [\n                  _createElementVNode(\"img\", { src: _unref(noData) }, null, 8, _hoisted_9),\n                  _hoisted_10\n                ]))\n              ],\n              2\n              /* CLASS */\n            )\n          ])\n        ]),\n        _createElementVNode(\"div\", _hoisted_11, [\n          (_openBlock(true), _createElementBlock(\n            _Fragment,\n            null,\n            _renderList(btnList.value, (item) => {\n              return _openBlock(), _createElementBlock(\"div\", {\n                key: item.id,\n                class: \"award-btn\",\n                onClick: ($event) => runTurntable(item)\n              }, [\n                _createElementVNode(\n                  \"div\",\n                  _hoisted_13,\n                  _toDisplayString(item.title),\n                  1\n                  /* TEXT */\n                ),\n                _createElementVNode(\n                  \"div\",\n                  _hoisted_14,\n                  \"(\" + _toDisplayString(item.consume) + \"积分)\",\n                  1\n                  /* TEXT */\n                ),\n                item.discount ? (_openBlock(), _createElementBlock(\"div\", _hoisted_15, [\n                  _createElementVNode(\n                    \"div\",\n                    _hoisted_16,\n                    _toDisplayString(item.discount),\n                    1\n                    /* TEXT */\n                  )\n                ])) : _createCommentVNode(\"v-if\", true)\n              ], 8, _hoisted_12);\n            }),\n            128\n            /* KEYED_FRAGMENT */\n          ))\n        ]),\n        _createVNode(_component_van_dialog, {\n          show: showDialog.value,\n          \"onUpdate:show\": _cache[0] || (_cache[0] = ($event) => showDialog.value = $event),\n          theme: \"round-button\",\n          confirmButtonText: \"确定\",\n          class: \"point-dialog award-result-dialog\"\n        }, {\n          default: _withCtx(() => [\n            _createElementVNode(\"i\", {\n              class: \"close-white block icon-pos\",\n              onClick: closeDialog\n            }),\n            _hoisted_17,\n            _createElementVNode(\"div\", _hoisted_18, [\n              _createElementVNode(\"div\", _hoisted_19, [\n                !awardResult.mtype[\"1\"] && !awardResult.mtype[\"20\"] ? (_openBlock(), _createElementBlock(\n                  \"div\",\n                  _hoisted_20,\n                  _toDisplayString(awardResult.awards[0]?.turntable_name),\n                  1\n                  /* TEXT */\n                )) : (_openBlock(), _createElementBlock(\n                  _Fragment,\n                  { key: 1 },\n                  [\n                    awardResult.mtype[\"20\"] ? (_openBlock(), _createElementBlock(\"div\", _hoisted_21, [\n                      _hoisted_22,\n                      _createElementVNode(\n                        \"span\",\n                        _hoisted_23,\n                        \"+\" + _toDisplayString(awardResult.mtype[\"20\"]),\n                        1\n                        /* TEXT */\n                      )\n                    ])) : _createCommentVNode(\"v-if\", true),\n                    awardResult.mtype[\"1\"] ? (_openBlock(), _createElementBlock(\"div\", _hoisted_24, [\n                      _createElementVNode(\n                        \"span\",\n                        null,\n                        \"获得\" + _toDisplayString(_unref(coin_name)) + \"：\",\n                        1\n                        /* TEXT */\n                      ),\n                      _createElementVNode(\n                        \"span\",\n                        _hoisted_25,\n                        \"+\" + _toDisplayString(awardResult.mtype[\"1\"].toTruncFixed(2)),\n                        1\n                        /* TEXT */\n                      )\n                    ])) : _createCommentVNode(\"v-if\", true)\n                  ],\n                  64\n                  /* STABLE_FRAGMENT */\n                ))\n              ]),\n              _createElementVNode(\"div\", _hoisted_26, [\n                (_openBlock(true), _createElementBlock(\n                  _Fragment,\n                  null,\n                  _renderList(awardResult.awards, (item, index) => {\n                    return _openBlock(), _createElementBlock(\"div\", {\n                      key: index,\n                      class: \"item-award flex flex-col justify-center items-center\"\n                    }, [\n                      _createElementVNode(\"div\", _hoisted_27, [\n                        _createElementVNode(\"img\", {\n                          src: appDomain.value + item.activity_img\n                        }, null, 8, _hoisted_28)\n                      ]),\n                      _createElementVNode(\n                        \"div\",\n                        _hoisted_29,\n                        _toDisplayString(item.turntable_name),\n                        1\n                        /* TEXT */\n                      )\n                    ]);\n                  }),\n                  128\n                  /* KEYED_FRAGMENT */\n                ))\n              ])\n            ])\n          ]),\n          _: 1\n          /* STABLE */\n        }, 8, [\"show\"])\n      ]);\n    };\n  }\n});\n",
      "start": 1714699771962,
      "end": 1714699772213,
      "order": "normal",
      "sourcemaps": {
        "version": 3,
        "sources": [
          "/Users/afeng/Desktop/work/gdpayh5-web/src/components/Point/LuckyDraw.vue?vue&type=script&setup=true&lang.ts"
        ],
        "sourcesContent": [
          "import { defineComponent as _defineComponent } from 'vue'\nimport { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, normalizeClass as _normalizeClass, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, unref as _unref, withCtx as _withCtx, createBlock as _createBlock, resolveComponent as _resolveComponent, createVNode as _createVNode } from \"vue\"\n\nconst _hoisted_1 = { class: \"lucky-draw-container\" }\nconst _hoisted_2 = { class: \"draw-middle-container flex items-center\" }\nconst _hoisted_3 = { class: \"award-loop-container flex items-center flex-wrap\" }\nconst _hoisted_4 = { class: \"icon-container flex items-center justify-center\" }\nconst _hoisted_5 = [\"src\"]\nconst _hoisted_6 = { class: \"right-scroll-container\" }\nconst _hoisted_7 = /*#__PURE__*/_createElementVNode(\"div\", { class: \"title\" }, \"中奖记录\", -1 /* HOISTED */)\nconst _hoisted_8 = {\n  key: 1,\n  class: \"no-data flex flex-col items-center justify-center text-center\"\n}\nconst _hoisted_9 = [\"src\"]\nconst _hoisted_10 = /*#__PURE__*/_createElementVNode(\"div\", { class: \"text-no-data\" }, \"暂无数据\", -1 /* HOISTED */)\nconst _hoisted_11 = { class: \"lottery-container flex items-center justify-between\" }\nconst _hoisted_12 = [\"onClick\"]\nconst _hoisted_13 = { className: \"item-name\" }\nconst _hoisted_14 = { className: \"item-required-point\" }\nconst _hoisted_15 = {\n  key: 0,\n  class: \"discount\"\n}\nconst _hoisted_16 = { className: \"discount-num\" }\nconst _hoisted_17 = /*#__PURE__*/_createElementVNode(\"div\", { class: \"title\" }, \"抽奖结果\", -1 /* HOISTED */)\nconst _hoisted_18 = { class: \"content\" }\nconst _hoisted_19 = { class: \"result-summary\" }\nconst _hoisted_20 = {\n  key: 0,\n  class: \"item-result-title lucky-king\"\n}\nconst _hoisted_21 = {\n  key: 0,\n  class: \"item-result-title\"\n}\nconst _hoisted_22 = /*#__PURE__*/_createElementVNode(\"span\", null, \"获得积分：\", -1 /* HOISTED */)\nconst _hoisted_23 = { class: \"result-value\" }\nconst _hoisted_24 = {\n  key: 1,\n  class: \"item-result-title\"\n}\nconst _hoisted_25 = { class: \"result-value\" }\nconst _hoisted_26 = { class: \"award-list-container flex flex-wrap justify-between\" }\nconst _hoisted_27 = { class: \"award-icon\" }\nconst _hoisted_28 = [\"src\"]\nconst _hoisted_29 = { class: \"award-name\" }\n\nimport noData from '@/assets/images/common/noData-gold.png'\nimport iconWarning from '@/assets/images/common/warning.png'\nimport { useAuthStore } from '@/store'\nimport { useCommonStore } from '@/store/modules/common'\nimport { useEntryStore } from '@/store/modules/entry'\nimport { useTaskActivityStore } from '@/store/modules/taskActivity'\nimport { INormal } from '@/store/types/entry'\nimport {\n  IAwardData,\n  IGameRecord,\n  IGameRecordData,\n  IPlayTurntableData,\n  ITurntableAward,\n  ITurntableOption\n} from '@/store/types/taskActivity'\nimport dayjs from 'dayjs'\nimport { storeToRefs } from 'pinia'\nimport { showToast } from 'vant'\nimport { computed, onBeforeUnmount, onMounted, reactive, ref } from 'vue'\nimport { Vue3SeamlessScroll as SeamlessScroll } from 'vue3-seamless-scroll'\n\ntype TTurntableAward = Partial<ITurntableAward>\n\n// 抽奖记录\ninterface IAwardState {\n  currentIndex: number // 当前位置\n  isRunning: boolean // 是否正在抽奖\n  speed: number // 抽奖转动速度\n  runTurnTableTimer: NodeJS.Timeout | null // 抽奖轮盘计时器\n  turnTableLimitTimer: NodeJS.Timeout | null // 抽奖频率计时器\n  currentRunCount: number // 已跑次数\n  totalRunCount: number // 总共跑动次数 10的倍数\n  prizeId: number // 中奖id\n  continue: number // 是否可以继续抽奖\n}\n// 抽奖相关数据状态\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'LuckyDraw',\n  emits: ['update-coins'],\n  setup(__props, { emit: __emit }) {\n\nconst coin_name = sessionStorage.getItem('coin_name')\nconst emit = __emit\n\nconst winRecordList = ref<IGameRecord[]>([])\n// 抽奖轮盘奖项列表\nconst awardLoopList = ref<TTurntableAward[]>([\n  {\n    class: 'RMB-4'\n  },\n  {\n    class: 'point-1'\n  },\n  {\n    class: 'RMB-gold-box'\n  },\n  {\n    class: 'lucky-star'\n  },\n  {\n    class: 'point-5'\n  },\n  {\n    class: 'point-8'\n  },\n  {\n    class: 'RMB-1'\n  },\n  {\n    class: 'RMB-silver-box'\n  },\n  {\n    class: 'point-3'\n  },\n  {\n    class: 'RMB-3'\n  }\n])\nconst awardState = reactive<IAwardState>({\n  currentIndex: -1, // 当前位置\n  isRunning: false, // 是否正在抽奖\n  speed: 10, // 抽奖转动速度\n  runTurnTableTimer: null, // 抽奖轮盘计时器\n  turnTableLimitTimer: null, // 抽奖频率计时器\n  currentRunCount: 0, // 已跑次数\n  totalRunCount: 40, // 总共跑动次数 10的倍数\n  prizeId: 0, // 中奖id\n  continue: 1 // 是否可以继续抽奖\n})\nconst awardResult = reactive<IPlayTurntableData>({\n  awards: [],\n  mtype: {\n    '0': 0,\n    '1': 0,\n    '20': 0\n  }\n})\n// 奖品高亮顺序\nconst prizeSort = [0, 1, 2, 3, 4, 9, 8, 7, 6, 5, 0]\n// 抽奖按钮\nconst btnList = ref<ITurntableOption[]>([])\n\nconst entryStore = useEntryStore()\nconst { config } = storeToRefs(entryStore)\n\nconst appDomain = computed(() => {\n  return (config.value.Web_Set_DefaultInfo?.imgserver_url as INormal).v || ''\n})\n\nconst taskActivityStore = useTaskActivityStore()\nconst { getTurntableAwardsApi, getGameRecordApi, getPlayTurntableApi } = taskActivityStore\nconst { turntableAwards, awardRecord } = storeToRefs(taskActivityStore)\n\nconst handleTurnTableAwardsData = (data: IAwardData) => {\n  awardLoopList.value = data.awards\n  btnList.value = data.options\n}\n// 获取轮盘奖项列表\nconst getTurntableAwards = async () => {\n  try {\n    let res: IAwardData = turntableAwards.value\n\n    if (!res.awards?.length) {\n      res = await getTurntableAwardsApi()\n    }\n\n    handleTurnTableAwardsData(res)\n\n    window.log('轮盘奖项列表', res)\n  } catch (error) {\n    console.error(error)\n  }\n}\n// 获取抽奖记录\nconst getGameRecord = async (isReq: boolean = false) => {\n  try {\n    let res: IGameRecordData\n\n    if (awardRecord.value.count && !isReq) {\n      res = awardRecord.value\n    } else {\n      res = await getGameRecordApi()\n    }\n\n    if (res.list?.length) {\n      winRecordList.value = res.list\n    }\n\n    window.log('抽奖记录', res)\n  } catch (error) {\n    console.error(error)\n  }\n}\n\n// 要执行总步数\nconst totalRunStep = computed(() => {\n  return awardState.totalRunCount + prizeSort.indexOf(awardState.prizeId)\n})\n\n// 获取随机数\nconst getRandomNum = () => {\n  // 这里一次必然可以取到 时间为1次\n  return prizeSort[Math.floor(Math.random() * prizeSort.length)]\n}\n\nconst authStore = useAuthStore()\nconst { getUserMoneyByMType } = storeToRefs(authStore)\n// 点击抽奖\nconst runTurntable = (item: ITurntableOption) => {\n  const point = +(getUserMoneyByMType.value(20)?.coincash ?? 0)\n  if (point < +item.consume) {\n    showToast({\n      message: '积分不足',\n      icon: iconWarning\n    })\n\n    return\n  }\n  if (!awardState.continue) {\n    showToast({\n      message: '10秒内只能操作一次',\n      icon: iconWarning\n    })\n\n    return\n  }\n\n  if (!awardState.isRunning) {\n    // 重置数据\n    awardState.currentRunCount = 0\n    awardState.speed = 30\n    awardState.isRunning = true\n\n    // 如果接口突然报错如何处理？直接调用stopRun()方法停止转动\n    getTurnTableData(item.id)\n  }\n}\n\nconst startRun = () => {\n  stopRun()\n  // window.log('--currentRunCount-totalRunStep--', awardState.currentRunCount, totalRunStep.value)\n  // 要执行总步数\n  // 已走步数超过\n  if (awardState.currentRunCount > totalRunStep.value) {\n    awardState.isRunning = false\n    showDialog.value = true\n    awardState.currentIndex = -1\n    emit('update-coins', true)\n    getGameRecord(true)\n    return\n  }\n  awardState.currentIndex = prizeSort[awardState.currentRunCount % 10]\n  // 如果当前步数超过了2/3则速度慢下来\n  if (awardState.currentRunCount > Math.floor((awardState.totalRunCount * 2) / 3)) {\n    awardState.speed = awardState.speed + Math.floor(awardState.currentRunCount / 3)\n    // console.log('速度>>>>', awardState.speed)\n  }\n  awardState.runTurnTableTimer = setTimeout(() => {\n    awardState.currentRunCount++\n    startRun()\n  }, awardState.speed)\n}\n\nconst stopRun = () => {\n  awardState.runTurnTableTimer && clearTimeout(awardState.runTurnTableTimer)\n}\n\nconst commonStore = useCommonStore()\n// 轮盘抽奖\nconst getTurnTableData = async (id: number) => {\n  try {\n    commonStore.setShowLoading(true)\n    awardState.continue = 0\n\n    const params = {\n      config_id: id\n    }\n\n    const res = await getPlayTurntableApi(params)\n\n    if (res.awards?.length) {\n      awardResult.awards = res.awards\n      awardResult.mtype = res.mtype\n\n      const prizeId = awardLoopList.value.findIndex(\n        item => item.turntable_idd === res.awards[0].turntable_idd\n      )\n\n      if (~prizeId) {\n        awardState.prizeId = prizeId\n        startRun()\n      }\n    }\n\n    window.log('抽奖', res)\n  } catch (error) {\n    console.error(error)\n  } finally {\n    commonStore.setShowLoading(false)\n\n    awardState.turnTableLimitTimer && clearTimeout(awardState.turnTableLimitTimer)\n    awardState.turnTableLimitTimer = setTimeout(() => {\n      awardState.isRunning = false\n      awardState.continue = 1\n    }, 10 * 1000)\n  }\n}\n\nconst showDialog = ref(false)\n\nconst closeDialog = () => {\n  showDialog.value = false\n}\n\nonMounted(() => {\n  getTurntableAwards()\n  getGameRecord()\n})\nonBeforeUnmount(() => {\n  awardState.runTurnTableTimer && clearTimeout(awardState.runTurnTableTimer)\n  awardState.runTurnTableTimer = null\n  awardState.turnTableLimitTimer && clearTimeout(awardState.turnTableLimitTimer)\n  awardState.turnTableLimitTimer = null\n})\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_van_dialog = _resolveComponent(\"van-dialog\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createElementVNode(\"div\", _hoisted_3, [\n        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(awardLoopList.value, (item, index) => {\n          return (_openBlock(), _createElementBlock(\"div\", {\n            key: item.id,\n            class: _normalizeClass([\"item-award flex flex-col items-center justify-between\", { active: awardState.currentIndex === index }])\n          }, [\n            _createElementVNode(\"div\", _hoisted_4, [\n              (item.activity_img)\n                ? (_openBlock(), _createElementBlock(\"img\", {\n                    key: 0,\n                    src: appDomain.value + item.activity_img\n                  }, null, 8 /* PROPS */, _hoisted_5))\n                : (_openBlock(), _createElementBlock(\"i\", {\n                    key: 1,\n                    class: _normalizeClass(item.class)\n                  }, null, 2 /* CLASS */))\n            ]),\n            _createElementVNode(\"div\", {\n              class: _normalizeClass([\"award-name\", { 'final-award-name': item.turntable_name && item.turntable_name.length > 5 }])\n            }, _toDisplayString(item.turntable_name), 3 /* TEXT, CLASS */)\n          ], 2 /* CLASS */))\n        }), 128 /* KEYED_FRAGMENT */))\n      ]),\n      _createElementVNode(\"div\", _hoisted_6, [\n        _hoisted_7,\n        _createElementVNode(\"div\", {\n          class: _normalizeClass([\"winning-record\", !winRecordList.value.length ? 'flex items-center justify-center' : ''])\n        }, [\n          (winRecordList.value.length)\n            ? (_openBlock(), _createBlock(_unref(SeamlessScroll), {\n                key: 0,\n                list: winRecordList.value,\n                limitScrollNum: 7,\n                step: 0.3,\n                class: \"seamless-scroll\"\n              }, {\n                default: _withCtx(() => [\n                  (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(winRecordList.value, (item, index) => {\n                    return (_openBlock(), _createElementBlock(\"div\", {\n                      key: index,\n                      class: \"item-award-history ellipsis\"\n                    }, _toDisplayString(_unref(dayjs)(item.addtime).format('HH:mm')) + \"中奖\" + _toDisplayString(item.record_desc), 1 /* TEXT */))\n                  }), 128 /* KEYED_FRAGMENT */))\n                ]),\n                _: 1 /* STABLE */\n              }, 8 /* PROPS */, [\"list\"]))\n            : (_openBlock(), _createElementBlock(\"div\", _hoisted_8, [\n                _createElementVNode(\"img\", { src: _unref(noData) }, null, 8 /* PROPS */, _hoisted_9),\n                _hoisted_10\n              ]))\n        ], 2 /* CLASS */)\n      ])\n    ]),\n    _createElementVNode(\"div\", _hoisted_11, [\n      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(btnList.value, (item) => {\n        return (_openBlock(), _createElementBlock(\"div\", {\n          key: item.id,\n          class: \"award-btn\",\n          onClick: ($event: any) => (runTurntable(item))\n        }, [\n          _createElementVNode(\"div\", _hoisted_13, _toDisplayString(item.title), 1 /* TEXT */),\n          _createElementVNode(\"div\", _hoisted_14, \"(\" + _toDisplayString(item.consume) + \"积分)\", 1 /* TEXT */),\n          (item.discount)\n            ? (_openBlock(), _createElementBlock(\"div\", _hoisted_15, [\n                _createElementVNode(\"div\", _hoisted_16, _toDisplayString(item.discount), 1 /* TEXT */)\n              ]))\n            : _createCommentVNode(\"v-if\", true)\n        ], 8 /* PROPS */, _hoisted_12))\n      }), 128 /* KEYED_FRAGMENT */))\n    ]),\n    _createVNode(_component_van_dialog, {\n      show: showDialog.value,\n      \"onUpdate:show\": _cache[0] || (_cache[0] = ($event: any) => ((showDialog).value = $event)),\n      theme: \"round-button\",\n      confirmButtonText: \"确定\",\n      class: \"point-dialog award-result-dialog\"\n    }, {\n      default: _withCtx(() => [\n        _createElementVNode(\"i\", {\n          class: \"close-white block icon-pos\",\n          onClick: closeDialog\n        }),\n        _hoisted_17,\n        _createElementVNode(\"div\", _hoisted_18, [\n          _createElementVNode(\"div\", _hoisted_19, [\n            (!awardResult.mtype['1'] && !awardResult.mtype['20'])\n              ? (_openBlock(), _createElementBlock(\"div\", _hoisted_20, _toDisplayString(awardResult.awards[0]?.turntable_name), 1 /* TEXT */))\n              : (_openBlock(), _createElementBlock(_Fragment, { key: 1 }, [\n                  (awardResult.mtype['20'])\n                    ? (_openBlock(), _createElementBlock(\"div\", _hoisted_21, [\n                        _hoisted_22,\n                        _createElementVNode(\"span\", _hoisted_23, \"+\" + _toDisplayString(awardResult.mtype['20']), 1 /* TEXT */)\n                      ]))\n                    : _createCommentVNode(\"v-if\", true),\n                  (awardResult.mtype['1'])\n                    ? (_openBlock(), _createElementBlock(\"div\", _hoisted_24, [\n                        _createElementVNode(\"span\", null, \"获得\" + _toDisplayString(_unref(coin_name)) + \"：\", 1 /* TEXT */),\n                        _createElementVNode(\"span\", _hoisted_25, \"+\" + _toDisplayString(awardResult.mtype['1'].toTruncFixed(2)), 1 /* TEXT */)\n                      ]))\n                    : _createCommentVNode(\"v-if\", true)\n                ], 64 /* STABLE_FRAGMENT */))\n          ]),\n          _createElementVNode(\"div\", _hoisted_26, [\n            (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(awardResult.awards, (item, index) => {\n              return (_openBlock(), _createElementBlock(\"div\", {\n                key: index,\n                class: \"item-award flex flex-col justify-center items-center\"\n              }, [\n                _createElementVNode(\"div\", _hoisted_27, [\n                  _createElementVNode(\"img\", {\n                    src: appDomain.value + item.activity_img\n                  }, null, 8 /* PROPS */, _hoisted_28)\n                ]),\n                _createElementVNode(\"div\", _hoisted_29, _toDisplayString(item.turntable_name), 1 /* TEXT */)\n              ]))\n            }), 128 /* KEYED_FRAGMENT */))\n          ])\n        ])\n      ]),\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"show\"])\n  ]))\n}\n}\n\n})"
        ],
        "mappings": "AAAA,SAAS,mBAAmB,wBAAwB;AACpD,SAAS,cAAc,aAAa,YAAY,WAAW,aAAa,YAAY,sBAAsB,qBAAqB,sBAAsB,qBAAqB,kBAAkB,iBAAiB,sBAAsB,qBAAqB,mBAAmB,kBAAkB,SAAS,QAAQ,WAAW,UAAU,eAAe,cAAc,oBAAoB,mBAAmB,eAAe,oBAAoB;AAE1a,MAAM,aAAa,EAAE,OAAO,uBAAuB;AACnD,MAAM,aAAa,EAAE,OAAO,0CAA0C;AACtE,MAAM,aAAa,EAAE,OAAO,mDAAmD;AAC/E,MAAM,aAAa,EAAE,OAAO,kDAAkD;AAC9E,MAAM,aAAa,CAAC,KAAK;AACzB,MAAM,aAAa,EAAE,OAAO,yBAAyB;AACrD,MAAM,aAA0B;AAAA,EAAoB;AAAA,EAAO,EAAE,OAAO,QAAQ;AAAA,EAAG;AAAA,EAAQ;AAAA;AAAgB;AACvG,MAAM,aAAa;AAAA,EACjB,KAAK;AAAA,EACL,OAAO;AACT;AACA,MAAM,aAAa,CAAC,KAAK;AACzB,MAAM,cAA2B;AAAA,EAAoB;AAAA,EAAO,EAAE,OAAO,eAAe;AAAA,EAAG;AAAA,EAAQ;AAAA;AAAgB;AAC/G,MAAM,cAAc,EAAE,OAAO,sDAAsD;AACnF,MAAM,cAAc,CAAC,SAAS;AAC9B,MAAM,cAAc,EAAE,WAAW,YAAY;AAC7C,MAAM,cAAc,EAAE,WAAW,sBAAsB;AACvD,MAAM,cAAc;AAAA,EAClB,KAAK;AAAA,EACL,OAAO;AACT;AACA,MAAM,cAAc,EAAE,WAAW,eAAe;AAChD,MAAM,cAA2B;AAAA,EAAoB;AAAA,EAAO,EAAE,OAAO,QAAQ;AAAA,EAAG;AAAA,EAAQ;AAAA;AAAgB;AACxG,MAAM,cAAc,EAAE,OAAO,UAAU;AACvC,MAAM,cAAc,EAAE,OAAO,iBAAiB;AAC9C,MAAM,cAAc;AAAA,EAClB,KAAK;AAAA,EACL,OAAO;AACT;AACA,MAAM,cAAc;AAAA,EAClB,KAAK;AAAA,EACL,OAAO;AACT;AACA,MAAM,cAA2B;AAAA,EAAoB;AAAA,EAAQ;AAAA,EAAM;AAAA,EAAS;AAAA;AAAgB;AAC5F,MAAM,cAAc,EAAE,OAAO,eAAe;AAC5C,MAAM,cAAc;AAAA,EAClB,KAAK;AAAA,EACL,OAAO;AACT;AACA,MAAM,cAAc,EAAE,OAAO,eAAe;AAC5C,MAAM,cAAc,EAAE,OAAO,sDAAsD;AACnF,MAAM,cAAc,EAAE,OAAO,aAAa;AAC1C,MAAM,cAAc,CAAC,KAAK;AAC1B,MAAM,cAAc,EAAE,OAAO,aAAa;AAE1C,OAAO,YAAY;AACnB,OAAO,iBAAiB;AACxB,SAAS,oBAAoB;AAC7B,SAAS,sBAAsB;AAC/B,SAAS,qBAAqB;AAC9B,SAAS,4BAA4B;AAUrC,OAAO,WAAW;AAClB,SAAS,mBAAmB;AAC5B,SAAS,iBAAiB;AAC1B,SAAS,UAAU,iBAAiB,WAAW,UAAU,WAAW;AACpE,SAAS,sBAAsB,sBAAsB;AAkBrD,eAA4B,iCAAiB;AAAA,EAC3C,QAAQ;AAAA,EACR,OAAO,CAAC,cAAc;AAAA,EACtB,MAAM,SAAS,EAAE,MAAM,OAAO,GAAG;AAEnC,UAAM,YAAY,eAAe,QAAQ,WAAW;AACpD,UAAM,OAAO;AAEb,UAAM,gBAAgB,IAAmB,CAAC,CAAC;AAE3C,UAAM,gBAAgB,IAAuB;AAAA,MAC3C;AAAA,QACE,OAAO;AAAA,MACT;AAAA,MACA;AAAA,QACE,OAAO;AAAA,MACT;AAAA,MACA;AAAA,QACE,OAAO;AAAA,MACT;AAAA,MACA;AAAA,QACE,OAAO;AAAA,MACT;AAAA,MACA;AAAA,QACE,OAAO;AAAA,MACT;AAAA,MACA;AAAA,QACE,OAAO;AAAA,MACT;AAAA,MACA;AAAA,QACE,OAAO;AAAA,MACT;AAAA,MACA;AAAA,QACE,OAAO;AAAA,MACT;AAAA,MACA;AAAA,QACE,OAAO;AAAA,MACT;AAAA,MACA;AAAA,QACE,OAAO;AAAA,MACT;AAAA,IACF,CAAC;AACD,UAAM,aAAa,SAAsB;AAAA,MACvC,cAAc;AAAA;AAAA,MACd,WAAW;AAAA;AAAA,MACX,OAAO;AAAA;AAAA,MACP,mBAAmB;AAAA;AAAA,MACnB,qBAAqB;AAAA;AAAA,MACrB,iBAAiB;AAAA;AAAA,MACjB,eAAe;AAAA;AAAA,MACf,SAAS;AAAA;AAAA,MACT,UAAU;AAAA;AAAA,IACZ,CAAC;AACD,UAAM,cAAc,SAA6B;AAAA,MAC/C,QAAQ,CAAC;AAAA,MACT,OAAO;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AAAA,QACL,MAAM;AAAA,MACR;AAAA,IACF,CAAC;AAED,UAAM,YAAY,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC;AAElD,UAAM,UAAU,IAAwB,CAAC,CAAC;AAE1C,UAAM,aAAa,cAAc;AACjC,UAAM,EAAE,OAAO,IAAI,YAAY,UAAU;AAEzC,UAAM,YAAY,SAAS,MAAM;AAC/B,cAAQ,OAAO,MAAM,qBAAqB,eAA0B,KAAK;AAAA,IAC3E,CAAC;AAED,UAAM,oBAAoB,qBAAqB;AAC/C,UAAM,EAAE,uBAAuB,kBAAkB,oBAAoB,IAAI;AACzE,UAAM,EAAE,iBAAiB,YAAY,IAAI,YAAY,iBAAiB;AAEtE,UAAM,4BAA4B,CAAC,SAAqB;AACtD,oBAAc,QAAQ,KAAK;AAC3B,cAAQ,QAAQ,KAAK;AAAA,IACvB;AAEA,UAAM,qBAAqB,YAAY;AACrC,UAAI;AACF,YAAI,MAAkB,gBAAgB;AAEtC,YAAI,CAAC,IAAI,QAAQ,QAAQ;AACvB,gBAAM,MAAM,sBAAsB;AAAA,QACpC;AAEA,kCAA0B,GAAG;AAE7B,eAAO,IAAI,UAAU,GAAG;AAAA,MAC1B,SAAS,OAAO;AACd,gBAAQ,MAAM,KAAK;AAAA,MACrB;AAAA,IACF;AAEA,UAAM,gBAAgB,OAAO,QAAiB,UAAU;AACtD,UAAI;AACF,YAAI;AAEJ,YAAI,YAAY,MAAM,SAAS,CAAC,OAAO;AACrC,gBAAM,YAAY;AAAA,QACpB,OAAO;AACL,gBAAM,MAAM,iBAAiB;AAAA,QAC/B;AAEA,YAAI,IAAI,MAAM,QAAQ;AACpB,wBAAc,QAAQ,IAAI;AAAA,QAC5B;AAEA,eAAO,IAAI,QAAQ,GAAG;AAAA,MACxB,SAAS,OAAO;AACd,gBAAQ,MAAM,KAAK;AAAA,MACrB;AAAA,IACF;AAGA,UAAM,eAAe,SAAS,MAAM;AAClC,aAAO,WAAW,gBAAgB,UAAU,QAAQ,WAAW,OAAO;AAAA,IACxE,CAAC;AAGD,UAAM,eAAe,MAAM;AAEzB,aAAO,UAAU,KAAK,MAAM,KAAK,OAAO,IAAI,UAAU,MAAM,CAAC;AAAA,IAC/D;AAEA,UAAM,YAAY,aAAa;AAC/B,UAAM,EAAE,oBAAoB,IAAI,YAAY,SAAS;AAErD,UAAM,eAAe,CAAC,SAA2B;AAC/C,YAAM,QAAQ,EAAE,oBAAoB,MAAM,EAAE,GAAG,YAAY;AAC3D,UAAI,QAAQ,CAAC,KAAK,SAAS;AACzB,kBAAU;AAAA,UACR,SAAS;AAAA,UACT,MAAM;AAAA,QACR,CAAC;AAED;AAAA,MACF;AACA,UAAI,CAAC,WAAW,UAAU;AACxB,kBAAU;AAAA,UACR,SAAS;AAAA,UACT,MAAM;AAAA,QACR,CAAC;AAED;AAAA,MACF;AAEA,UAAI,CAAC,WAAW,WAAW;AAEzB,mBAAW,kBAAkB;AAC7B,mBAAW,QAAQ;AACnB,mBAAW,YAAY;AAGvB,yBAAiB,KAAK,EAAE;AAAA,MAC1B;AAAA,IACF;AAEA,UAAM,WAAW,MAAM;AACrB,cAAQ;AAIR,UAAI,WAAW,kBAAkB,aAAa,OAAO;AACnD,mBAAW,YAAY;AACvB,mBAAW,QAAQ;AACnB,mBAAW,eAAe;AAC1B,aAAK,gBAAgB,IAAI;AACzB,sBAAc,IAAI;AAClB;AAAA,MACF;AACA,iBAAW,eAAe,UAAU,WAAW,kBAAkB,EAAE;AAEnE,UAAI,WAAW,kBAAkB,KAAK,MAAO,WAAW,gBAAgB,IAAK,CAAC,GAAG;AAC/E,mBAAW,QAAQ,WAAW,QAAQ,KAAK,MAAM,WAAW,kBAAkB,CAAC;AAAA,MAEjF;AACA,iBAAW,oBAAoB,WAAW,MAAM;AAC9C,mBAAW;AACX,iBAAS;AAAA,MACX,GAAG,WAAW,KAAK;AAAA,IACrB;AAEA,UAAM,UAAU,MAAM;AACpB,iBAAW,qBAAqB,aAAa,WAAW,iBAAiB;AAAA,IAC3E;AAEA,UAAM,cAAc,eAAe;AAEnC,UAAM,mBAAmB,OAAO,OAAe;AAC7C,UAAI;AACF,oBAAY,eAAe,IAAI;AAC/B,mBAAW,WAAW;AAEtB,cAAM,SAAS;AAAA,UACb,WAAW;AAAA,QACb;AAEA,cAAM,MAAM,MAAM,oBAAoB,MAAM;AAE5C,YAAI,IAAI,QAAQ,QAAQ;AACtB,sBAAY,SAAS,IAAI;AACzB,sBAAY,QAAQ,IAAI;AAExB,gBAAM,UAAU,cAAc,MAAM;AAAA,YAClC,UAAQ,KAAK,kBAAkB,IAAI,OAAO,CAAC,EAAE;AAAA,UAC/C;AAEA,cAAI,CAAC,SAAS;AACZ,uBAAW,UAAU;AACrB,qBAAS;AAAA,UACX;AAAA,QACF;AAEA,eAAO,IAAI,MAAM,GAAG;AAAA,MACtB,SAAS,OAAO;AACd,gBAAQ,MAAM,KAAK;AAAA,MACrB,UAAE;AACA,oBAAY,eAAe,KAAK;AAEhC,mBAAW,uBAAuB,aAAa,WAAW,mBAAmB;AAC7E,mBAAW,sBAAsB,WAAW,MAAM;AAChD,qBAAW,YAAY;AACvB,qBAAW,WAAW;AAAA,QACxB,GAAG,KAAK,GAAI;AAAA,MACd;AAAA,IACF;AAEA,UAAM,aAAa,IAAI,KAAK;AAE5B,UAAM,cAAc,MAAM;AACxB,iBAAW,QAAQ;AAAA,IACrB;AAEA,cAAU,MAAM;AACd,yBAAmB;AACnB,oBAAc;AAAA,IAChB,CAAC;AACD,oBAAgB,MAAM;AACpB,iBAAW,qBAAqB,aAAa,WAAW,iBAAiB;AACzE,iBAAW,oBAAoB;AAC/B,iBAAW,uBAAuB,aAAa,WAAW,mBAAmB;AAC7E,iBAAW,sBAAsB;AAAA,IACnC,CAAC;AAED,WAAO,CAAC,MAAU,WAAgB;AAChC,YAAM,wBAAwB,kBAAkB,YAAY;AAE5D,aAAQ,WAAW,GAAG,oBAAoB,OAAO,YAAY;AAAA,QAC3D,oBAAoB,OAAO,YAAY;AAAA,UACrC,oBAAoB,OAAO,YAAY;AAAA,aACpC,WAAW,IAAI,GAAG;AAAA,cAAoB;AAAA,cAAW;AAAA,cAAM,YAAY,cAAc,OAAO,CAAC,MAAM,UAAU;AACxG,uBAAQ,WAAW,GAAG;AAAA,kBAAoB;AAAA,kBAAO;AAAA,oBAC/C,KAAK,KAAK;AAAA,oBACV,OAAO,gBAAgB,CAAC,yDAAyD,EAAE,QAAQ,WAAW,iBAAiB,MAAM,CAAC,CAAC;AAAA,kBACjI;AAAA,kBAAG;AAAA,oBACD,oBAAoB,OAAO,YAAY;AAAA,sBACpC,KAAK,gBACD,WAAW,GAAG,oBAAoB,OAAO;AAAA,wBACxC,KAAK;AAAA,wBACL,KAAK,UAAU,QAAQ,KAAK;AAAA,sBAC9B,GAAG,MAAM,GAAe,UAAU,MACjC,WAAW,GAAG;AAAA,wBAAoB;AAAA,wBAAK;AAAA,0BACtC,KAAK;AAAA,0BACL,OAAO,gBAAgB,KAAK,KAAK;AAAA,wBACnC;AAAA,wBAAG;AAAA,wBAAM;AAAA;AAAA,sBAAa;AAAA,oBAC5B,CAAC;AAAA,oBACD;AAAA,sBAAoB;AAAA,sBAAO;AAAA,wBACzB,OAAO,gBAAgB,CAAC,cAAc,EAAE,oBAAoB,KAAK,kBAAkB,KAAK,eAAe,SAAS,EAAE,CAAC,CAAC;AAAA,sBACtH;AAAA,sBAAG,iBAAiB,KAAK,cAAc;AAAA,sBAAG;AAAA;AAAA,oBAAmB;AAAA,kBAC/D;AAAA,kBAAG;AAAA;AAAA,gBAAa;AAAA,cAClB,CAAC;AAAA,cAAG;AAAA;AAAA,YAAwB;AAAA,UAC9B,CAAC;AAAA,UACD,oBAAoB,OAAO,YAAY;AAAA,YACrC;AAAA,YACA;AAAA,cAAoB;AAAA,cAAO;AAAA,gBACzB,OAAO,gBAAgB,CAAC,kBAAkB,CAAC,cAAc,MAAM,SAAS,qCAAqC,EAAE,CAAC;AAAA,cAClH;AAAA,cAAG;AAAA,gBACA,cAAc,MAAM,UAChB,WAAW,GAAG,aAAa,OAAO,cAAc,GAAG;AAAA,kBAClD,KAAK;AAAA,kBACL,MAAM,cAAc;AAAA,kBACpB,gBAAgB;AAAA,kBAChB,MAAM;AAAA,kBACN,OAAO;AAAA,gBACT,GAAG;AAAA,kBACD,SAAS,SAAS,MAAM;AAAA,qBACrB,WAAW,IAAI,GAAG;AAAA,sBAAoB;AAAA,sBAAW;AAAA,sBAAM,YAAY,cAAc,OAAO,CAAC,MAAM,UAAU;AACxG,+BAAQ,WAAW,GAAG;AAAA,0BAAoB;AAAA,0BAAO;AAAA,4BAC/C,KAAK;AAAA,4BACL,OAAO;AAAA,0BACT;AAAA,0BAAG,iBAAiB,OAAO,KAAK,EAAE,KAAK,OAAO,EAAE,OAAO,OAAO,CAAC,IAAI,OAAO,iBAAiB,KAAK,WAAW;AAAA,0BAAG;AAAA;AAAA,wBAAY;AAAA,sBAC5H,CAAC;AAAA,sBAAG;AAAA;AAAA,oBAAwB;AAAA,kBAC9B,CAAC;AAAA,kBACD,GAAG;AAAA;AAAA,gBACL,GAAG,GAAe,CAAC,MAAM,CAAC,MACzB,WAAW,GAAG,oBAAoB,OAAO,YAAY;AAAA,kBACpD,oBAAoB,OAAO,EAAE,KAAK,OAAO,MAAM,EAAE,GAAG,MAAM,GAAe,UAAU;AAAA,kBACnF;AAAA,gBACF,CAAC;AAAA,cACP;AAAA,cAAG;AAAA;AAAA,YAAa;AAAA,UAClB,CAAC;AAAA,QACH,CAAC;AAAA,QACD,oBAAoB,OAAO,aAAa;AAAA,WACrC,WAAW,IAAI,GAAG;AAAA,YAAoB;AAAA,YAAW;AAAA,YAAM,YAAY,QAAQ,OAAO,CAAC,SAAS;AAC3F,qBAAQ,WAAW,GAAG,oBAAoB,OAAO;AAAA,gBAC/C,KAAK,KAAK;AAAA,gBACV,OAAO;AAAA,gBACP,SAAS,CAAC,WAAiB,aAAa,IAAI;AAAA,cAC9C,GAAG;AAAA,gBACD;AAAA,kBAAoB;AAAA,kBAAO;AAAA,kBAAa,iBAAiB,KAAK,KAAK;AAAA,kBAAG;AAAA;AAAA,gBAAY;AAAA,gBAClF;AAAA,kBAAoB;AAAA,kBAAO;AAAA,kBAAa,MAAM,iBAAiB,KAAK,OAAO,IAAI;AAAA,kBAAO;AAAA;AAAA,gBAAY;AAAA,gBACjG,KAAK,YACD,WAAW,GAAG,oBAAoB,OAAO,aAAa;AAAA,kBACrD;AAAA,oBAAoB;AAAA,oBAAO;AAAA,oBAAa,iBAAiB,KAAK,QAAQ;AAAA,oBAAG;AAAA;AAAA,kBAAY;AAAA,gBACvF,CAAC,KACD,oBAAoB,QAAQ,IAAI;AAAA,cACtC,GAAG,GAAe,WAAW;AAAA,YAC/B,CAAC;AAAA,YAAG;AAAA;AAAA,UAAwB;AAAA,QAC9B,CAAC;AAAA,QACD,aAAa,uBAAuB;AAAA,UAClC,MAAM,WAAW;AAAA,UACjB,iBAAiB,OAAO,CAAC,MAAM,OAAO,CAAC,IAAI,CAAC,WAAkB,WAAY,QAAQ;AAAA,UAClF,OAAO;AAAA,UACP,mBAAmB;AAAA,UACnB,OAAO;AAAA,QACT,GAAG;AAAA,UACD,SAAS,SAAS,MAAM;AAAA,YACtB,oBAAoB,KAAK;AAAA,cACvB,OAAO;AAAA,cACP,SAAS;AAAA,YACX,CAAC;AAAA,YACD;AAAA,YACA,oBAAoB,OAAO,aAAa;AAAA,cACtC,oBAAoB,OAAO,aAAa;AAAA,gBACrC,CAAC,YAAY,MAAM,GAAG,KAAK,CAAC,YAAY,MAAM,IAAI,KAC9C,WAAW,GAAG;AAAA,kBAAoB;AAAA,kBAAO;AAAA,kBAAa,iBAAiB,YAAY,OAAO,CAAC,GAAG,cAAc;AAAA,kBAAG;AAAA;AAAA,gBAAY,MAC3H,WAAW,GAAG;AAAA,kBAAoB;AAAA,kBAAW,EAAE,KAAK,EAAE;AAAA,kBAAG;AAAA,oBACvD,YAAY,MAAM,IAAI,KAClB,WAAW,GAAG,oBAAoB,OAAO,aAAa;AAAA,sBACrD;AAAA,sBACA;AAAA,wBAAoB;AAAA,wBAAQ;AAAA,wBAAa,MAAM,iBAAiB,YAAY,MAAM,IAAI,CAAC;AAAA,wBAAG;AAAA;AAAA,sBAAY;AAAA,oBACxG,CAAC,KACD,oBAAoB,QAAQ,IAAI;AAAA,oBACnC,YAAY,MAAM,GAAG,KACjB,WAAW,GAAG,oBAAoB,OAAO,aAAa;AAAA,sBACrD;AAAA,wBAAoB;AAAA,wBAAQ;AAAA,wBAAM,OAAO,iBAAiB,OAAO,SAAS,CAAC,IAAI;AAAA,wBAAK;AAAA;AAAA,sBAAY;AAAA,sBAChG;AAAA,wBAAoB;AAAA,wBAAQ;AAAA,wBAAa,MAAM,iBAAiB,YAAY,MAAM,GAAG,EAAE,aAAa,CAAC,CAAC;AAAA,wBAAG;AAAA;AAAA,sBAAY;AAAA,oBACvH,CAAC,KACD,oBAAoB,QAAQ,IAAI;AAAA,kBACtC;AAAA,kBAAG;AAAA;AAAA,gBAAwB;AAAA,cACjC,CAAC;AAAA,cACD,oBAAoB,OAAO,aAAa;AAAA,iBACrC,WAAW,IAAI,GAAG;AAAA,kBAAoB;AAAA,kBAAW;AAAA,kBAAM,YAAY,YAAY,QAAQ,CAAC,MAAM,UAAU;AACvG,2BAAQ,WAAW,GAAG,oBAAoB,OAAO;AAAA,sBAC/C,KAAK;AAAA,sBACL,OAAO;AAAA,oBACT,GAAG;AAAA,sBACD,oBAAoB,OAAO,aAAa;AAAA,wBACtC,oBAAoB,OAAO;AAAA,0BACzB,KAAK,UAAU,QAAQ,KAAK;AAAA,wBAC9B,GAAG,MAAM,GAAe,WAAW;AAAA,sBACrC,CAAC;AAAA,sBACD;AAAA,wBAAoB;AAAA,wBAAO;AAAA,wBAAa,iBAAiB,KAAK,cAAc;AAAA,wBAAG;AAAA;AAAA,sBAAY;AAAA,oBAC7F,CAAC;AAAA,kBACH,CAAC;AAAA,kBAAG;AAAA;AAAA,gBAAwB;AAAA,cAC9B,CAAC;AAAA,YACH,CAAC;AAAA,UACH,CAAC;AAAA,UACD,GAAG;AAAA;AAAA,QACL,GAAG,GAAe,CAAC,MAAM,CAAC;AAAA,MAC5B,CAAC;AAAA,IACH;AAAA,EACA;AAEA,CAAC;",
        "names": []
      }
    },
    {
      "name": "vite:json",
      "start": 1714699772213,
      "end": 1714699772213,
      "order": "normal"
    },
    {
      "name": "vite:worker",
      "start": 1714699772213,
      "end": 1714699772213,
      "order": "normal"
    },
    {
      "name": "vite:vue",
      "start": 1714699772213,
      "end": 1714699772213,
      "order": "normal"
    },
    {
      "name": "vite:vue-jsx",
      "start": 1714699772213,
      "end": 1714699772213,
      "order": "normal"
    },
    {
      "name": "vite-plugin-vconsole",
      "result": "import { defineComponent as _defineComponent } from \"vue\";\nimport { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, normalizeClass as _normalizeClass, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, unref as _unref, withCtx as _withCtx, createBlock as _createBlock, resolveComponent as _resolveComponent, createVNode as _createVNode } from \"vue\";\nconst _hoisted_1 = { class: \"lucky-draw-container\" };\nconst _hoisted_2 = { class: \"draw-middle-container flex items-center\" };\nconst _hoisted_3 = { class: \"award-loop-container flex items-center flex-wrap\" };\nconst _hoisted_4 = { class: \"icon-container flex items-center justify-center\" };\nconst _hoisted_5 = [\"src\"];\nconst _hoisted_6 = { class: \"right-scroll-container\" };\nconst _hoisted_7 = /* @__PURE__ */ _createElementVNode(\n  \"div\",\n  { class: \"title\" },\n  \"中奖记录\",\n  -1\n  /* HOISTED */\n);\nconst _hoisted_8 = {\n  key: 1,\n  class: \"no-data flex flex-col items-center justify-center text-center\"\n};\nconst _hoisted_9 = [\"src\"];\nconst _hoisted_10 = /* @__PURE__ */ _createElementVNode(\n  \"div\",\n  { class: \"text-no-data\" },\n  \"暂无数据\",\n  -1\n  /* HOISTED */\n);\nconst _hoisted_11 = { class: \"lottery-container flex items-center justify-between\" };\nconst _hoisted_12 = [\"onClick\"];\nconst _hoisted_13 = { className: \"item-name\" };\nconst _hoisted_14 = { className: \"item-required-point\" };\nconst _hoisted_15 = {\n  key: 0,\n  class: \"discount\"\n};\nconst _hoisted_16 = { className: \"discount-num\" };\nconst _hoisted_17 = /* @__PURE__ */ _createElementVNode(\n  \"div\",\n  { class: \"title\" },\n  \"抽奖结果\",\n  -1\n  /* HOISTED */\n);\nconst _hoisted_18 = { class: \"content\" };\nconst _hoisted_19 = { class: \"result-summary\" };\nconst _hoisted_20 = {\n  key: 0,\n  class: \"item-result-title lucky-king\"\n};\nconst _hoisted_21 = {\n  key: 0,\n  class: \"item-result-title\"\n};\nconst _hoisted_22 = /* @__PURE__ */ _createElementVNode(\n  \"span\",\n  null,\n  \"获得积分：\",\n  -1\n  /* HOISTED */\n);\nconst _hoisted_23 = { class: \"result-value\" };\nconst _hoisted_24 = {\n  key: 1,\n  class: \"item-result-title\"\n};\nconst _hoisted_25 = { class: \"result-value\" };\nconst _hoisted_26 = { class: \"award-list-container flex flex-wrap justify-between\" };\nconst _hoisted_27 = { class: \"award-icon\" };\nconst _hoisted_28 = [\"src\"];\nconst _hoisted_29 = { class: \"award-name\" };\nimport noData from \"@/assets/images/common/noData-gold.png\";\nimport iconWarning from \"@/assets/images/common/warning.png\";\nimport { useAuthStore } from \"@/store\";\nimport { useCommonStore } from \"@/store/modules/common\";\nimport { useEntryStore } from \"@/store/modules/entry\";\nimport { useTaskActivityStore } from \"@/store/modules/taskActivity\";\nimport dayjs from \"dayjs\";\nimport { storeToRefs } from \"pinia\";\nimport { showToast } from \"vant\";\nimport { computed, onBeforeUnmount, onMounted, reactive, ref } from \"vue\";\nimport { Vue3SeamlessScroll as SeamlessScroll } from \"vue3-seamless-scroll\";\nexport default /* @__PURE__ */ _defineComponent({\n  __name: \"LuckyDraw\",\n  emits: [\"update-coins\"],\n  setup(__props, { emit: __emit }) {\n    const coin_name = sessionStorage.getItem(\"coin_name\");\n    const emit = __emit;\n    const winRecordList = ref([]);\n    const awardLoopList = ref([\n      {\n        class: \"RMB-4\"\n      },\n      {\n        class: \"point-1\"\n      },\n      {\n        class: \"RMB-gold-box\"\n      },\n      {\n        class: \"lucky-star\"\n      },\n      {\n        class: \"point-5\"\n      },\n      {\n        class: \"point-8\"\n      },\n      {\n        class: \"RMB-1\"\n      },\n      {\n        class: \"RMB-silver-box\"\n      },\n      {\n        class: \"point-3\"\n      },\n      {\n        class: \"RMB-3\"\n      }\n    ]);\n    const awardState = reactive({\n      currentIndex: -1,\n      // 当前位置\n      isRunning: false,\n      // 是否正在抽奖\n      speed: 10,\n      // 抽奖转动速度\n      runTurnTableTimer: null,\n      // 抽奖轮盘计时器\n      turnTableLimitTimer: null,\n      // 抽奖频率计时器\n      currentRunCount: 0,\n      // 已跑次数\n      totalRunCount: 40,\n      // 总共跑动次数 10的倍数\n      prizeId: 0,\n      // 中奖id\n      continue: 1\n      // 是否可以继续抽奖\n    });\n    const awardResult = reactive({\n      awards: [],\n      mtype: {\n        \"0\": 0,\n        \"1\": 0,\n        \"20\": 0\n      }\n    });\n    const prizeSort = [0, 1, 2, 3, 4, 9, 8, 7, 6, 5, 0];\n    const btnList = ref([]);\n    const entryStore = useEntryStore();\n    const { config } = storeToRefs(entryStore);\n    const appDomain = computed(() => {\n      return (config.value.Web_Set_DefaultInfo?.imgserver_url).v || \"\";\n    });\n    const taskActivityStore = useTaskActivityStore();\n    const { getTurntableAwardsApi, getGameRecordApi, getPlayTurntableApi } = taskActivityStore;\n    const { turntableAwards, awardRecord } = storeToRefs(taskActivityStore);\n    const handleTurnTableAwardsData = (data) => {\n      awardLoopList.value = data.awards;\n      btnList.value = data.options;\n    };\n    const getTurntableAwards = async () => {\n      try {\n        let res = turntableAwards.value;\n        if (!res.awards?.length) {\n          res = await getTurntableAwardsApi();\n        }\n        handleTurnTableAwardsData(res);\n        window.log(\"轮盘奖项列表\", res);\n      } catch (error) {\n        console.error(error);\n      }\n    };\n    const getGameRecord = async (isReq = false) => {\n      try {\n        let res;\n        if (awardRecord.value.count && !isReq) {\n          res = awardRecord.value;\n        } else {\n          res = await getGameRecordApi();\n        }\n        if (res.list?.length) {\n          winRecordList.value = res.list;\n        }\n        window.log(\"抽奖记录\", res);\n      } catch (error) {\n        console.error(error);\n      }\n    };\n    const totalRunStep = computed(() => {\n      return awardState.totalRunCount + prizeSort.indexOf(awardState.prizeId);\n    });\n    const getRandomNum = () => {\n      return prizeSort[Math.floor(Math.random() * prizeSort.length)];\n    };\n    const authStore = useAuthStore();\n    const { getUserMoneyByMType } = storeToRefs(authStore);\n    const runTurntable = (item) => {\n      const point = +(getUserMoneyByMType.value(20)?.coincash ?? 0);\n      if (point < +item.consume) {\n        showToast({\n          message: \"积分不足\",\n          icon: iconWarning\n        });\n        return;\n      }\n      if (!awardState.continue) {\n        showToast({\n          message: \"10秒内只能操作一次\",\n          icon: iconWarning\n        });\n        return;\n      }\n      if (!awardState.isRunning) {\n        awardState.currentRunCount = 0;\n        awardState.speed = 30;\n        awardState.isRunning = true;\n        getTurnTableData(item.id);\n      }\n    };\n    const startRun = () => {\n      stopRun();\n      if (awardState.currentRunCount > totalRunStep.value) {\n        awardState.isRunning = false;\n        showDialog.value = true;\n        awardState.currentIndex = -1;\n        emit(\"update-coins\", true);\n        getGameRecord(true);\n        return;\n      }\n      awardState.currentIndex = prizeSort[awardState.currentRunCount % 10];\n      if (awardState.currentRunCount > Math.floor(awardState.totalRunCount * 2 / 3)) {\n        awardState.speed = awardState.speed + Math.floor(awardState.currentRunCount / 3);\n      }\n      awardState.runTurnTableTimer = setTimeout(() => {\n        awardState.currentRunCount++;\n        startRun();\n      }, awardState.speed);\n    };\n    const stopRun = () => {\n      awardState.runTurnTableTimer && clearTimeout(awardState.runTurnTableTimer);\n    };\n    const commonStore = useCommonStore();\n    const getTurnTableData = async (id) => {\n      try {\n        commonStore.setShowLoading(true);\n        awardState.continue = 0;\n        const params = {\n          config_id: id\n        };\n        const res = await getPlayTurntableApi(params);\n        if (res.awards?.length) {\n          awardResult.awards = res.awards;\n          awardResult.mtype = res.mtype;\n          const prizeId = awardLoopList.value.findIndex(\n            (item) => item.turntable_idd === res.awards[0].turntable_idd\n          );\n          if (~prizeId) {\n            awardState.prizeId = prizeId;\n            startRun();\n          }\n        }\n        window.log(\"抽奖\", res);\n      } catch (error) {\n        console.error(error);\n      } finally {\n        commonStore.setShowLoading(false);\n        awardState.turnTableLimitTimer && clearTimeout(awardState.turnTableLimitTimer);\n        awardState.turnTableLimitTimer = setTimeout(() => {\n          awardState.isRunning = false;\n          awardState.continue = 1;\n        }, 10 * 1e3);\n      }\n    };\n    const showDialog = ref(false);\n    const closeDialog = () => {\n      showDialog.value = false;\n    };\n    onMounted(() => {\n      getTurntableAwards();\n      getGameRecord();\n    });\n    onBeforeUnmount(() => {\n      awardState.runTurnTableTimer && clearTimeout(awardState.runTurnTableTimer);\n      awardState.runTurnTableTimer = null;\n      awardState.turnTableLimitTimer && clearTimeout(awardState.turnTableLimitTimer);\n      awardState.turnTableLimitTimer = null;\n    });\n    return (_ctx, _cache) => {\n      const _component_van_dialog = _resolveComponent(\"van-dialog\");\n      return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n        _createElementVNode(\"div\", _hoisted_2, [\n          _createElementVNode(\"div\", _hoisted_3, [\n            (_openBlock(true), _createElementBlock(\n              _Fragment,\n              null,\n              _renderList(awardLoopList.value, (item, index) => {\n                return _openBlock(), _createElementBlock(\n                  \"div\",\n                  {\n                    key: item.id,\n                    class: _normalizeClass([\"item-award flex flex-col items-center justify-between\", { active: awardState.currentIndex === index }])\n                  },\n                  [\n                    _createElementVNode(\"div\", _hoisted_4, [\n                      item.activity_img ? (_openBlock(), _createElementBlock(\"img\", {\n                        key: 0,\n                        src: appDomain.value + item.activity_img\n                      }, null, 8, _hoisted_5)) : (_openBlock(), _createElementBlock(\n                        \"i\",\n                        {\n                          key: 1,\n                          class: _normalizeClass(item.class)\n                        },\n                        null,\n                        2\n                        /* CLASS */\n                      ))\n                    ]),\n                    _createElementVNode(\n                      \"div\",\n                      {\n                        class: _normalizeClass([\"award-name\", { \"final-award-name\": item.turntable_name && item.turntable_name.length > 5 }])\n                      },\n                      _toDisplayString(item.turntable_name),\n                      3\n                      /* TEXT, CLASS */\n                    )\n                  ],\n                  2\n                  /* CLASS */\n                );\n              }),\n              128\n              /* KEYED_FRAGMENT */\n            ))\n          ]),\n          _createElementVNode(\"div\", _hoisted_6, [\n            _hoisted_7,\n            _createElementVNode(\n              \"div\",\n              {\n                class: _normalizeClass([\"winning-record\", !winRecordList.value.length ? \"flex items-center justify-center\" : \"\"])\n              },\n              [\n                winRecordList.value.length ? (_openBlock(), _createBlock(_unref(SeamlessScroll), {\n                  key: 0,\n                  list: winRecordList.value,\n                  limitScrollNum: 7,\n                  step: 0.3,\n                  class: \"seamless-scroll\"\n                }, {\n                  default: _withCtx(() => [\n                    (_openBlock(true), _createElementBlock(\n                      _Fragment,\n                      null,\n                      _renderList(winRecordList.value, (item, index) => {\n                        return _openBlock(), _createElementBlock(\n                          \"div\",\n                          {\n                            key: index,\n                            class: \"item-award-history ellipsis\"\n                          },\n                          _toDisplayString(_unref(dayjs)(item.addtime).format(\"HH:mm\")) + \"中奖\" + _toDisplayString(item.record_desc),\n                          1\n                          /* TEXT */\n                        );\n                      }),\n                      128\n                      /* KEYED_FRAGMENT */\n                    ))\n                  ]),\n                  _: 1\n                  /* STABLE */\n                }, 8, [\"list\"])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_8, [\n                  _createElementVNode(\"img\", { src: _unref(noData) }, null, 8, _hoisted_9),\n                  _hoisted_10\n                ]))\n              ],\n              2\n              /* CLASS */\n            )\n          ])\n        ]),\n        _createElementVNode(\"div\", _hoisted_11, [\n          (_openBlock(true), _createElementBlock(\n            _Fragment,\n            null,\n            _renderList(btnList.value, (item) => {\n              return _openBlock(), _createElementBlock(\"div\", {\n                key: item.id,\n                class: \"award-btn\",\n                onClick: ($event) => runTurntable(item)\n              }, [\n                _createElementVNode(\n                  \"div\",\n                  _hoisted_13,\n                  _toDisplayString(item.title),\n                  1\n                  /* TEXT */\n                ),\n                _createElementVNode(\n                  \"div\",\n                  _hoisted_14,\n                  \"(\" + _toDisplayString(item.consume) + \"积分)\",\n                  1\n                  /* TEXT */\n                ),\n                item.discount ? (_openBlock(), _createElementBlock(\"div\", _hoisted_15, [\n                  _createElementVNode(\n                    \"div\",\n                    _hoisted_16,\n                    _toDisplayString(item.discount),\n                    1\n                    /* TEXT */\n                  )\n                ])) : _createCommentVNode(\"v-if\", true)\n              ], 8, _hoisted_12);\n            }),\n            128\n            /* KEYED_FRAGMENT */\n          ))\n        ]),\n        _createVNode(_component_van_dialog, {\n          show: showDialog.value,\n          \"onUpdate:show\": _cache[0] || (_cache[0] = ($event) => showDialog.value = $event),\n          theme: \"round-button\",\n          confirmButtonText: \"确定\",\n          class: \"point-dialog award-result-dialog\"\n        }, {\n          default: _withCtx(() => [\n            _createElementVNode(\"i\", {\n              class: \"close-white block icon-pos\",\n              onClick: closeDialog\n            }),\n            _hoisted_17,\n            _createElementVNode(\"div\", _hoisted_18, [\n              _createElementVNode(\"div\", _hoisted_19, [\n                !awardResult.mtype[\"1\"] && !awardResult.mtype[\"20\"] ? (_openBlock(), _createElementBlock(\n                  \"div\",\n                  _hoisted_20,\n                  _toDisplayString(awardResult.awards[0]?.turntable_name),\n                  1\n                  /* TEXT */\n                )) : (_openBlock(), _createElementBlock(\n                  _Fragment,\n                  { key: 1 },\n                  [\n                    awardResult.mtype[\"20\"] ? (_openBlock(), _createElementBlock(\"div\", _hoisted_21, [\n                      _hoisted_22,\n                      _createElementVNode(\n                        \"span\",\n                        _hoisted_23,\n                        \"+\" + _toDisplayString(awardResult.mtype[\"20\"]),\n                        1\n                        /* TEXT */\n                      )\n                    ])) : _createCommentVNode(\"v-if\", true),\n                    awardResult.mtype[\"1\"] ? (_openBlock(), _createElementBlock(\"div\", _hoisted_24, [\n                      _createElementVNode(\n                        \"span\",\n                        null,\n                        \"获得\" + _toDisplayString(_unref(coin_name)) + \"：\",\n                        1\n                        /* TEXT */\n                      ),\n                      _createElementVNode(\n                        \"span\",\n                        _hoisted_25,\n                        \"+\" + _toDisplayString(awardResult.mtype[\"1\"].toTruncFixed(2)),\n                        1\n                        /* TEXT */\n                      )\n                    ])) : _createCommentVNode(\"v-if\", true)\n                  ],\n                  64\n                  /* STABLE_FRAGMENT */\n                ))\n              ]),\n              _createElementVNode(\"div\", _hoisted_26, [\n                (_openBlock(true), _createElementBlock(\n                  _Fragment,\n                  null,\n                  _renderList(awardResult.awards, (item, index) => {\n                    return _openBlock(), _createElementBlock(\"div\", {\n                      key: index,\n                      class: \"item-award flex flex-col justify-center items-center\"\n                    }, [\n                      _createElementVNode(\"div\", _hoisted_27, [\n                        _createElementVNode(\"img\", {\n                          src: appDomain.value + item.activity_img\n                        }, null, 8, _hoisted_28)\n                      ]),\n                      _createElementVNode(\n                        \"div\",\n                        _hoisted_29,\n                        _toDisplayString(item.turntable_name),\n                        1\n                        /* TEXT */\n                      )\n                    ]);\n                  }),\n                  128\n                  /* KEYED_FRAGMENT */\n                ))\n              ])\n            ])\n          ]),\n          _: 1\n          /* STABLE */\n        }, 8, [\"show\"])\n      ]);\n    };\n  }\n});\n",
      "start": 1714699772213,
      "end": 1714699772213,
      "order": "normal",
      "sourcemaps": null
    },
    {
      "name": "esbuild",
      "result": "\"use strict\";\nimport { defineComponent as _defineComponent } from \"vue\";\nimport { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, normalizeClass as _normalizeClass, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, unref as _unref, withCtx as _withCtx, createBlock as _createBlock, resolveComponent as _resolveComponent, createVNode as _createVNode } from \"vue\";\nconst _hoisted_1 = { class: \"lucky-draw-container\" };\nconst _hoisted_2 = { class: \"draw-middle-container flex items-center\" };\nconst _hoisted_3 = { class: \"award-loop-container flex items-center flex-wrap\" };\nconst _hoisted_4 = { class: \"icon-container flex items-center justify-center\" };\nconst _hoisted_5 = [\"src\"];\nconst _hoisted_6 = { class: \"right-scroll-container\" };\nconst _hoisted_7 = /* @__PURE__ */ _createElementVNode(\n  \"div\",\n  { class: \"title\" },\n  \"\\u4E2D\\u5956\\u8BB0\\u5F55\",\n  -1\n  /* HOISTED */\n);\nconst _hoisted_8 = {\n  key: 1,\n  class: \"no-data flex flex-col items-center justify-center text-center\"\n};\nconst _hoisted_9 = [\"src\"];\nconst _hoisted_10 = /* @__PURE__ */ _createElementVNode(\n  \"div\",\n  { class: \"text-no-data\" },\n  \"\\u6682\\u65E0\\u6570\\u636E\",\n  -1\n  /* HOISTED */\n);\nconst _hoisted_11 = { class: \"lottery-container flex items-center justify-between\" };\nconst _hoisted_12 = [\"onClick\"];\nconst _hoisted_13 = { className: \"item-name\" };\nconst _hoisted_14 = { className: \"item-required-point\" };\nconst _hoisted_15 = {\n  key: 0,\n  class: \"discount\"\n};\nconst _hoisted_16 = { className: \"discount-num\" };\nconst _hoisted_17 = /* @__PURE__ */ _createElementVNode(\n  \"div\",\n  { class: \"title\" },\n  \"\\u62BD\\u5956\\u7ED3\\u679C\",\n  -1\n  /* HOISTED */\n);\nconst _hoisted_18 = { class: \"content\" };\nconst _hoisted_19 = { class: \"result-summary\" };\nconst _hoisted_20 = {\n  key: 0,\n  class: \"item-result-title lucky-king\"\n};\nconst _hoisted_21 = {\n  key: 0,\n  class: \"item-result-title\"\n};\nconst _hoisted_22 = /* @__PURE__ */ _createElementVNode(\n  \"span\",\n  null,\n  \"\\u83B7\\u5F97\\u79EF\\u5206\\uFF1A\",\n  -1\n  /* HOISTED */\n);\nconst _hoisted_23 = { class: \"result-value\" };\nconst _hoisted_24 = {\n  key: 1,\n  class: \"item-result-title\"\n};\nconst _hoisted_25 = { class: \"result-value\" };\nconst _hoisted_26 = { class: \"award-list-container flex flex-wrap justify-between\" };\nconst _hoisted_27 = { class: \"award-icon\" };\nconst _hoisted_28 = [\"src\"];\nconst _hoisted_29 = { class: \"award-name\" };\nimport noData from \"@/assets/images/common/noData-gold.png\";\nimport iconWarning from \"@/assets/images/common/warning.png\";\nimport { useAuthStore } from \"@/store\";\nimport { useCommonStore } from \"@/store/modules/common\";\nimport { useEntryStore } from \"@/store/modules/entry\";\nimport { useTaskActivityStore } from \"@/store/modules/taskActivity\";\nimport dayjs from \"dayjs\";\nimport { storeToRefs } from \"pinia\";\nimport { showToast } from \"vant\";\nimport { computed, onBeforeUnmount, onMounted, reactive, ref } from \"vue\";\nimport { Vue3SeamlessScroll as SeamlessScroll } from \"vue3-seamless-scroll\";\nexport default /* @__PURE__ */ _defineComponent({\n  __name: \"LuckyDraw\",\n  emits: [\"update-coins\"],\n  setup(__props, { emit: __emit }) {\n    const coin_name = sessionStorage.getItem(\"coin_name\");\n    const emit = __emit;\n    const winRecordList = ref([]);\n    const awardLoopList = ref([\n      {\n        class: \"RMB-4\"\n      },\n      {\n        class: \"point-1\"\n      },\n      {\n        class: \"RMB-gold-box\"\n      },\n      {\n        class: \"lucky-star\"\n      },\n      {\n        class: \"point-5\"\n      },\n      {\n        class: \"point-8\"\n      },\n      {\n        class: \"RMB-1\"\n      },\n      {\n        class: \"RMB-silver-box\"\n      },\n      {\n        class: \"point-3\"\n      },\n      {\n        class: \"RMB-3\"\n      }\n    ]);\n    const awardState = reactive({\n      currentIndex: -1,\n      // 当前位置\n      isRunning: false,\n      // 是否正在抽奖\n      speed: 10,\n      // 抽奖转动速度\n      runTurnTableTimer: null,\n      // 抽奖轮盘计时器\n      turnTableLimitTimer: null,\n      // 抽奖频率计时器\n      currentRunCount: 0,\n      // 已跑次数\n      totalRunCount: 40,\n      // 总共跑动次数 10的倍数\n      prizeId: 0,\n      // 中奖id\n      continue: 1\n      // 是否可以继续抽奖\n    });\n    const awardResult = reactive({\n      awards: [],\n      mtype: {\n        \"0\": 0,\n        \"1\": 0,\n        \"20\": 0\n      }\n    });\n    const prizeSort = [0, 1, 2, 3, 4, 9, 8, 7, 6, 5, 0];\n    const btnList = ref([]);\n    const entryStore = useEntryStore();\n    const { config } = storeToRefs(entryStore);\n    const appDomain = computed(() => {\n      var _a;\n      return ((_a = config.value.Web_Set_DefaultInfo) == null ? void 0 : _a.imgserver_url).v || \"\";\n    });\n    const taskActivityStore = useTaskActivityStore();\n    const { getTurntableAwardsApi, getGameRecordApi, getPlayTurntableApi } = taskActivityStore;\n    const { turntableAwards, awardRecord } = storeToRefs(taskActivityStore);\n    const handleTurnTableAwardsData = (data) => {\n      awardLoopList.value = data.awards;\n      btnList.value = data.options;\n    };\n    const getTurntableAwards = async () => {\n      var _a;\n      try {\n        let res = turntableAwards.value;\n        if (!((_a = res.awards) == null ? void 0 : _a.length)) {\n          res = await getTurntableAwardsApi();\n        }\n        handleTurnTableAwardsData(res);\n        window.log(\"\\u8F6E\\u76D8\\u5956\\u9879\\u5217\\u8868\", res);\n      } catch (error) {\n        console.error(error);\n      }\n    };\n    const getGameRecord = async (isReq = false) => {\n      var _a;\n      try {\n        let res;\n        if (awardRecord.value.count && !isReq) {\n          res = awardRecord.value;\n        } else {\n          res = await getGameRecordApi();\n        }\n        if ((_a = res.list) == null ? void 0 : _a.length) {\n          winRecordList.value = res.list;\n        }\n        window.log(\"\\u62BD\\u5956\\u8BB0\\u5F55\", res);\n      } catch (error) {\n        console.error(error);\n      }\n    };\n    const totalRunStep = computed(() => {\n      return awardState.totalRunCount + prizeSort.indexOf(awardState.prizeId);\n    });\n    const getRandomNum = () => {\n      return prizeSort[Math.floor(Math.random() * prizeSort.length)];\n    };\n    const authStore = useAuthStore();\n    const { getUserMoneyByMType } = storeToRefs(authStore);\n    const runTurntable = (item) => {\n      var _a, _b;\n      const point = +((_b = (_a = getUserMoneyByMType.value(20)) == null ? void 0 : _a.coincash) != null ? _b : 0);\n      if (point < +item.consume) {\n        showToast({\n          message: \"\\u79EF\\u5206\\u4E0D\\u8DB3\",\n          icon: iconWarning\n        });\n        return;\n      }\n      if (!awardState.continue) {\n        showToast({\n          message: \"10\\u79D2\\u5185\\u53EA\\u80FD\\u64CD\\u4F5C\\u4E00\\u6B21\",\n          icon: iconWarning\n        });\n        return;\n      }\n      if (!awardState.isRunning) {\n        awardState.currentRunCount = 0;\n        awardState.speed = 30;\n        awardState.isRunning = true;\n        getTurnTableData(item.id);\n      }\n    };\n    const startRun = () => {\n      stopRun();\n      if (awardState.currentRunCount > totalRunStep.value) {\n        awardState.isRunning = false;\n        showDialog.value = true;\n        awardState.currentIndex = -1;\n        emit(\"update-coins\", true);\n        getGameRecord(true);\n        return;\n      }\n      awardState.currentIndex = prizeSort[awardState.currentRunCount % 10];\n      if (awardState.currentRunCount > Math.floor(awardState.totalRunCount * 2 / 3)) {\n        awardState.speed = awardState.speed + Math.floor(awardState.currentRunCount / 3);\n      }\n      awardState.runTurnTableTimer = setTimeout(() => {\n        awardState.currentRunCount++;\n        startRun();\n      }, awardState.speed);\n    };\n    const stopRun = () => {\n      awardState.runTurnTableTimer && clearTimeout(awardState.runTurnTableTimer);\n    };\n    const commonStore = useCommonStore();\n    const getTurnTableData = async (id) => {\n      var _a;\n      try {\n        commonStore.setShowLoading(true);\n        awardState.continue = 0;\n        const params = {\n          config_id: id\n        };\n        const res = await getPlayTurntableApi(params);\n        if ((_a = res.awards) == null ? void 0 : _a.length) {\n          awardResult.awards = res.awards;\n          awardResult.mtype = res.mtype;\n          const prizeId = awardLoopList.value.findIndex(\n            (item) => item.turntable_idd === res.awards[0].turntable_idd\n          );\n          if (~prizeId) {\n            awardState.prizeId = prizeId;\n            startRun();\n          }\n        }\n        window.log(\"\\u62BD\\u5956\", res);\n      } catch (error) {\n        console.error(error);\n      } finally {\n        commonStore.setShowLoading(false);\n        awardState.turnTableLimitTimer && clearTimeout(awardState.turnTableLimitTimer);\n        awardState.turnTableLimitTimer = setTimeout(() => {\n          awardState.isRunning = false;\n          awardState.continue = 1;\n        }, 10 * 1e3);\n      }\n    };\n    const showDialog = ref(false);\n    const closeDialog = () => {\n      showDialog.value = false;\n    };\n    onMounted(() => {\n      getTurntableAwards();\n      getGameRecord();\n    });\n    onBeforeUnmount(() => {\n      awardState.runTurnTableTimer && clearTimeout(awardState.runTurnTableTimer);\n      awardState.runTurnTableTimer = null;\n      awardState.turnTableLimitTimer && clearTimeout(awardState.turnTableLimitTimer);\n      awardState.turnTableLimitTimer = null;\n    });\n    return (_ctx, _cache) => {\n      const _component_van_dialog = _resolveComponent(\"van-dialog\");\n      return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n        _createElementVNode(\"div\", _hoisted_2, [\n          _createElementVNode(\"div\", _hoisted_3, [\n            (_openBlock(true), _createElementBlock(\n              _Fragment,\n              null,\n              _renderList(awardLoopList.value, (item, index) => {\n                return _openBlock(), _createElementBlock(\n                  \"div\",\n                  {\n                    key: item.id,\n                    class: _normalizeClass([\"item-award flex flex-col items-center justify-between\", { active: awardState.currentIndex === index }])\n                  },\n                  [\n                    _createElementVNode(\"div\", _hoisted_4, [\n                      item.activity_img ? (_openBlock(), _createElementBlock(\"img\", {\n                        key: 0,\n                        src: appDomain.value + item.activity_img\n                      }, null, 8, _hoisted_5)) : (_openBlock(), _createElementBlock(\n                        \"i\",\n                        {\n                          key: 1,\n                          class: _normalizeClass(item.class)\n                        },\n                        null,\n                        2\n                        /* CLASS */\n                      ))\n                    ]),\n                    _createElementVNode(\n                      \"div\",\n                      {\n                        class: _normalizeClass([\"award-name\", { \"final-award-name\": item.turntable_name && item.turntable_name.length > 5 }])\n                      },\n                      _toDisplayString(item.turntable_name),\n                      3\n                      /* TEXT, CLASS */\n                    )\n                  ],\n                  2\n                  /* CLASS */\n                );\n              }),\n              128\n              /* KEYED_FRAGMENT */\n            ))\n          ]),\n          _createElementVNode(\"div\", _hoisted_6, [\n            _hoisted_7,\n            _createElementVNode(\n              \"div\",\n              {\n                class: _normalizeClass([\"winning-record\", !winRecordList.value.length ? \"flex items-center justify-center\" : \"\"])\n              },\n              [\n                winRecordList.value.length ? (_openBlock(), _createBlock(_unref(SeamlessScroll), {\n                  key: 0,\n                  list: winRecordList.value,\n                  limitScrollNum: 7,\n                  step: 0.3,\n                  class: \"seamless-scroll\"\n                }, {\n                  default: _withCtx(() => [\n                    (_openBlock(true), _createElementBlock(\n                      _Fragment,\n                      null,\n                      _renderList(winRecordList.value, (item, index) => {\n                        return _openBlock(), _createElementBlock(\n                          \"div\",\n                          {\n                            key: index,\n                            class: \"item-award-history ellipsis\"\n                          },\n                          _toDisplayString(_unref(dayjs)(item.addtime).format(\"HH:mm\")) + \"\\u4E2D\\u5956\" + _toDisplayString(item.record_desc),\n                          1\n                          /* TEXT */\n                        );\n                      }),\n                      128\n                      /* KEYED_FRAGMENT */\n                    ))\n                  ]),\n                  _: 1\n                  /* STABLE */\n                }, 8, [\"list\"])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_8, [\n                  _createElementVNode(\"img\", { src: _unref(noData) }, null, 8, _hoisted_9),\n                  _hoisted_10\n                ]))\n              ],\n              2\n              /* CLASS */\n            )\n          ])\n        ]),\n        _createElementVNode(\"div\", _hoisted_11, [\n          (_openBlock(true), _createElementBlock(\n            _Fragment,\n            null,\n            _renderList(btnList.value, (item) => {\n              return _openBlock(), _createElementBlock(\"div\", {\n                key: item.id,\n                class: \"award-btn\",\n                onClick: ($event) => runTurntable(item)\n              }, [\n                _createElementVNode(\n                  \"div\",\n                  _hoisted_13,\n                  _toDisplayString(item.title),\n                  1\n                  /* TEXT */\n                ),\n                _createElementVNode(\n                  \"div\",\n                  _hoisted_14,\n                  \"(\" + _toDisplayString(item.consume) + \"\\u79EF\\u5206)\",\n                  1\n                  /* TEXT */\n                ),\n                item.discount ? (_openBlock(), _createElementBlock(\"div\", _hoisted_15, [\n                  _createElementVNode(\n                    \"div\",\n                    _hoisted_16,\n                    _toDisplayString(item.discount),\n                    1\n                    /* TEXT */\n                  )\n                ])) : _createCommentVNode(\"v-if\", true)\n              ], 8, _hoisted_12);\n            }),\n            128\n            /* KEYED_FRAGMENT */\n          ))\n        ]),\n        _createVNode(_component_van_dialog, {\n          show: showDialog.value,\n          \"onUpdate:show\": _cache[0] || (_cache[0] = ($event) => showDialog.value = $event),\n          theme: \"round-button\",\n          confirmButtonText: \"\\u786E\\u5B9A\",\n          class: \"point-dialog award-result-dialog\"\n        }, {\n          default: _withCtx(() => {\n            var _a;\n            return [\n              _createElementVNode(\"i\", {\n                class: \"close-white block icon-pos\",\n                onClick: closeDialog\n              }),\n              _hoisted_17,\n              _createElementVNode(\"div\", _hoisted_18, [\n                _createElementVNode(\"div\", _hoisted_19, [\n                  !awardResult.mtype[\"1\"] && !awardResult.mtype[\"20\"] ? (_openBlock(), _createElementBlock(\n                    \"div\",\n                    _hoisted_20,\n                    _toDisplayString((_a = awardResult.awards[0]) == null ? void 0 : _a.turntable_name),\n                    1\n                    /* TEXT */\n                  )) : (_openBlock(), _createElementBlock(\n                    _Fragment,\n                    { key: 1 },\n                    [\n                      awardResult.mtype[\"20\"] ? (_openBlock(), _createElementBlock(\"div\", _hoisted_21, [\n                        _hoisted_22,\n                        _createElementVNode(\n                          \"span\",\n                          _hoisted_23,\n                          \"+\" + _toDisplayString(awardResult.mtype[\"20\"]),\n                          1\n                          /* TEXT */\n                        )\n                      ])) : _createCommentVNode(\"v-if\", true),\n                      awardResult.mtype[\"1\"] ? (_openBlock(), _createElementBlock(\"div\", _hoisted_24, [\n                        _createElementVNode(\n                          \"span\",\n                          null,\n                          \"\\u83B7\\u5F97\" + _toDisplayString(_unref(coin_name)) + \"\\uFF1A\",\n                          1\n                          /* TEXT */\n                        ),\n                        _createElementVNode(\n                          \"span\",\n                          _hoisted_25,\n                          \"+\" + _toDisplayString(awardResult.mtype[\"1\"].toTruncFixed(2)),\n                          1\n                          /* TEXT */\n                        )\n                      ])) : _createCommentVNode(\"v-if\", true)\n                    ],\n                    64\n                    /* STABLE_FRAGMENT */\n                  ))\n                ]),\n                _createElementVNode(\"div\", _hoisted_26, [\n                  (_openBlock(true), _createElementBlock(\n                    _Fragment,\n                    null,\n                    _renderList(awardResult.awards, (item, index) => {\n                      return _openBlock(), _createElementBlock(\"div\", {\n                        key: index,\n                        class: \"item-award flex flex-col justify-center items-center\"\n                      }, [\n                        _createElementVNode(\"div\", _hoisted_27, [\n                          _createElementVNode(\"img\", {\n                            src: appDomain.value + item.activity_img\n                          }, null, 8, _hoisted_28)\n                        ]),\n                        _createElementVNode(\n                          \"div\",\n                          _hoisted_29,\n                          _toDisplayString(item.turntable_name),\n                          1\n                          /* TEXT */\n                        )\n                      ]);\n                    }),\n                    128\n                    /* KEYED_FRAGMENT */\n                  ))\n                ])\n              ])\n            ];\n          }),\n          _: 1\n          /* STABLE */\n        }, 8, [\"show\"])\n      ]);\n    };\n  }\n});\n",
      "start": 1714699772213,
      "end": 1714699772285,
      "order": "normal",
      "sourcemaps": "{\n  \"version\": 3,\n  \"sources\": [\"/Users/afeng/Desktop/work/gdpayh5-web/src/components/Point/LuckyDraw.vue?vue&type=script&setup=true&lang.ts\"],\n  \"sourcesContent\": [\"import { defineComponent as _defineComponent } from \\\"vue\\\";\\nimport { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, normalizeClass as _normalizeClass, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, unref as _unref, withCtx as _withCtx, createBlock as _createBlock, resolveComponent as _resolveComponent, createVNode as _createVNode } from \\\"vue\\\";\\nconst _hoisted_1 = { class: \\\"lucky-draw-container\\\" };\\nconst _hoisted_2 = { class: \\\"draw-middle-container flex items-center\\\" };\\nconst _hoisted_3 = { class: \\\"award-loop-container flex items-center flex-wrap\\\" };\\nconst _hoisted_4 = { class: \\\"icon-container flex items-center justify-center\\\" };\\nconst _hoisted_5 = [\\\"src\\\"];\\nconst _hoisted_6 = { class: \\\"right-scroll-container\\\" };\\nconst _hoisted_7 = /* @__PURE__ */ _createElementVNode(\\n  \\\"div\\\",\\n  { class: \\\"title\\\" },\\n  \\\"\\u4E2D\\u5956\\u8BB0\\u5F55\\\",\\n  -1\\n  /* HOISTED */\\n);\\nconst _hoisted_8 = {\\n  key: 1,\\n  class: \\\"no-data flex flex-col items-center justify-center text-center\\\"\\n};\\nconst _hoisted_9 = [\\\"src\\\"];\\nconst _hoisted_10 = /* @__PURE__ */ _createElementVNode(\\n  \\\"div\\\",\\n  { class: \\\"text-no-data\\\" },\\n  \\\"\\u6682\\u65E0\\u6570\\u636E\\\",\\n  -1\\n  /* HOISTED */\\n);\\nconst _hoisted_11 = { class: \\\"lottery-container flex items-center justify-between\\\" };\\nconst _hoisted_12 = [\\\"onClick\\\"];\\nconst _hoisted_13 = { className: \\\"item-name\\\" };\\nconst _hoisted_14 = { className: \\\"item-required-point\\\" };\\nconst _hoisted_15 = {\\n  key: 0,\\n  class: \\\"discount\\\"\\n};\\nconst _hoisted_16 = { className: \\\"discount-num\\\" };\\nconst _hoisted_17 = /* @__PURE__ */ _createElementVNode(\\n  \\\"div\\\",\\n  { class: \\\"title\\\" },\\n  \\\"\\u62BD\\u5956\\u7ED3\\u679C\\\",\\n  -1\\n  /* HOISTED */\\n);\\nconst _hoisted_18 = { class: \\\"content\\\" };\\nconst _hoisted_19 = { class: \\\"result-summary\\\" };\\nconst _hoisted_20 = {\\n  key: 0,\\n  class: \\\"item-result-title lucky-king\\\"\\n};\\nconst _hoisted_21 = {\\n  key: 0,\\n  class: \\\"item-result-title\\\"\\n};\\nconst _hoisted_22 = /* @__PURE__ */ _createElementVNode(\\n  \\\"span\\\",\\n  null,\\n  \\\"\\u83B7\\u5F97\\u79EF\\u5206\\uFF1A\\\",\\n  -1\\n  /* HOISTED */\\n);\\nconst _hoisted_23 = { class: \\\"result-value\\\" };\\nconst _hoisted_24 = {\\n  key: 1,\\n  class: \\\"item-result-title\\\"\\n};\\nconst _hoisted_25 = { class: \\\"result-value\\\" };\\nconst _hoisted_26 = { class: \\\"award-list-container flex flex-wrap justify-between\\\" };\\nconst _hoisted_27 = { class: \\\"award-icon\\\" };\\nconst _hoisted_28 = [\\\"src\\\"];\\nconst _hoisted_29 = { class: \\\"award-name\\\" };\\nimport noData from \\\"@/assets/images/common/noData-gold.png\\\";\\nimport iconWarning from \\\"@/assets/images/common/warning.png\\\";\\nimport { useAuthStore } from \\\"@/store\\\";\\nimport { useCommonStore } from \\\"@/store/modules/common\\\";\\nimport { useEntryStore } from \\\"@/store/modules/entry\\\";\\nimport { useTaskActivityStore } from \\\"@/store/modules/taskActivity\\\";\\nimport dayjs from \\\"dayjs\\\";\\nimport { storeToRefs } from \\\"pinia\\\";\\nimport { showToast } from \\\"vant\\\";\\nimport { computed, onBeforeUnmount, onMounted, reactive, ref } from \\\"vue\\\";\\nimport { Vue3SeamlessScroll as SeamlessScroll } from \\\"vue3-seamless-scroll\\\";\\nexport default /* @__PURE__ */ _defineComponent({\\n  __name: \\\"LuckyDraw\\\",\\n  emits: [\\\"update-coins\\\"],\\n  setup(__props, { emit: __emit }) {\\n    const coin_name = sessionStorage.getItem(\\\"coin_name\\\");\\n    const emit = __emit;\\n    const winRecordList = ref([]);\\n    const awardLoopList = ref([\\n      {\\n        class: \\\"RMB-4\\\"\\n      },\\n      {\\n        class: \\\"point-1\\\"\\n      },\\n      {\\n        class: \\\"RMB-gold-box\\\"\\n      },\\n      {\\n        class: \\\"lucky-star\\\"\\n      },\\n      {\\n        class: \\\"point-5\\\"\\n      },\\n      {\\n        class: \\\"point-8\\\"\\n      },\\n      {\\n        class: \\\"RMB-1\\\"\\n      },\\n      {\\n        class: \\\"RMB-silver-box\\\"\\n      },\\n      {\\n        class: \\\"point-3\\\"\\n      },\\n      {\\n        class: \\\"RMB-3\\\"\\n      }\\n    ]);\\n    const awardState = reactive({\\n      currentIndex: -1,\\n      // \\u5F53\\u524D\\u4F4D\\u7F6E\\n      isRunning: false,\\n      // \\u662F\\u5426\\u6B63\\u5728\\u62BD\\u5956\\n      speed: 10,\\n      // \\u62BD\\u5956\\u8F6C\\u52A8\\u901F\\u5EA6\\n      runTurnTableTimer: null,\\n      // \\u62BD\\u5956\\u8F6E\\u76D8\\u8BA1\\u65F6\\u5668\\n      turnTableLimitTimer: null,\\n      // \\u62BD\\u5956\\u9891\\u7387\\u8BA1\\u65F6\\u5668\\n      currentRunCount: 0,\\n      // \\u5DF2\\u8DD1\\u6B21\\u6570\\n      totalRunCount: 40,\\n      // \\u603B\\u5171\\u8DD1\\u52A8\\u6B21\\u6570 10\\u7684\\u500D\\u6570\\n      prizeId: 0,\\n      // \\u4E2D\\u5956id\\n      continue: 1\\n      // \\u662F\\u5426\\u53EF\\u4EE5\\u7EE7\\u7EED\\u62BD\\u5956\\n    });\\n    const awardResult = reactive({\\n      awards: [],\\n      mtype: {\\n        \\\"0\\\": 0,\\n        \\\"1\\\": 0,\\n        \\\"20\\\": 0\\n      }\\n    });\\n    const prizeSort = [0, 1, 2, 3, 4, 9, 8, 7, 6, 5, 0];\\n    const btnList = ref([]);\\n    const entryStore = useEntryStore();\\n    const { config } = storeToRefs(entryStore);\\n    const appDomain = computed(() => {\\n      return (config.value.Web_Set_DefaultInfo?.imgserver_url).v || \\\"\\\";\\n    });\\n    const taskActivityStore = useTaskActivityStore();\\n    const { getTurntableAwardsApi, getGameRecordApi, getPlayTurntableApi } = taskActivityStore;\\n    const { turntableAwards, awardRecord } = storeToRefs(taskActivityStore);\\n    const handleTurnTableAwardsData = (data) => {\\n      awardLoopList.value = data.awards;\\n      btnList.value = data.options;\\n    };\\n    const getTurntableAwards = async () => {\\n      try {\\n        let res = turntableAwards.value;\\n        if (!res.awards?.length) {\\n          res = await getTurntableAwardsApi();\\n        }\\n        handleTurnTableAwardsData(res);\\n        window.log(\\\"\\u8F6E\\u76D8\\u5956\\u9879\\u5217\\u8868\\\", res);\\n      } catch (error) {\\n        console.error(error);\\n      }\\n    };\\n    const getGameRecord = async (isReq = false) => {\\n      try {\\n        let res;\\n        if (awardRecord.value.count && !isReq) {\\n          res = awardRecord.value;\\n        } else {\\n          res = await getGameRecordApi();\\n        }\\n        if (res.list?.length) {\\n          winRecordList.value = res.list;\\n        }\\n        window.log(\\\"\\u62BD\\u5956\\u8BB0\\u5F55\\\", res);\\n      } catch (error) {\\n        console.error(error);\\n      }\\n    };\\n    const totalRunStep = computed(() => {\\n      return awardState.totalRunCount + prizeSort.indexOf(awardState.prizeId);\\n    });\\n    const getRandomNum = () => {\\n      return prizeSort[Math.floor(Math.random() * prizeSort.length)];\\n    };\\n    const authStore = useAuthStore();\\n    const { getUserMoneyByMType } = storeToRefs(authStore);\\n    const runTurntable = (item) => {\\n      const point = +(getUserMoneyByMType.value(20)?.coincash ?? 0);\\n      if (point < +item.consume) {\\n        showToast({\\n          message: \\\"\\u79EF\\u5206\\u4E0D\\u8DB3\\\",\\n          icon: iconWarning\\n        });\\n        return;\\n      }\\n      if (!awardState.continue) {\\n        showToast({\\n          message: \\\"10\\u79D2\\u5185\\u53EA\\u80FD\\u64CD\\u4F5C\\u4E00\\u6B21\\\",\\n          icon: iconWarning\\n        });\\n        return;\\n      }\\n      if (!awardState.isRunning) {\\n        awardState.currentRunCount = 0;\\n        awardState.speed = 30;\\n        awardState.isRunning = true;\\n        getTurnTableData(item.id);\\n      }\\n    };\\n    const startRun = () => {\\n      stopRun();\\n      if (awardState.currentRunCount > totalRunStep.value) {\\n        awardState.isRunning = false;\\n        showDialog.value = true;\\n        awardState.currentIndex = -1;\\n        emit(\\\"update-coins\\\", true);\\n        getGameRecord(true);\\n        return;\\n      }\\n      awardState.currentIndex = prizeSort[awardState.currentRunCount % 10];\\n      if (awardState.currentRunCount > Math.floor(awardState.totalRunCount * 2 / 3)) {\\n        awardState.speed = awardState.speed + Math.floor(awardState.currentRunCount / 3);\\n      }\\n      awardState.runTurnTableTimer = setTimeout(() => {\\n        awardState.currentRunCount++;\\n        startRun();\\n      }, awardState.speed);\\n    };\\n    const stopRun = () => {\\n      awardState.runTurnTableTimer && clearTimeout(awardState.runTurnTableTimer);\\n    };\\n    const commonStore = useCommonStore();\\n    const getTurnTableData = async (id) => {\\n      try {\\n        commonStore.setShowLoading(true);\\n        awardState.continue = 0;\\n        const params = {\\n          config_id: id\\n        };\\n        const res = await getPlayTurntableApi(params);\\n        if (res.awards?.length) {\\n          awardResult.awards = res.awards;\\n          awardResult.mtype = res.mtype;\\n          const prizeId = awardLoopList.value.findIndex(\\n            (item) => item.turntable_idd === res.awards[0].turntable_idd\\n          );\\n          if (~prizeId) {\\n            awardState.prizeId = prizeId;\\n            startRun();\\n          }\\n        }\\n        window.log(\\\"\\u62BD\\u5956\\\", res);\\n      } catch (error) {\\n        console.error(error);\\n      } finally {\\n        commonStore.setShowLoading(false);\\n        awardState.turnTableLimitTimer && clearTimeout(awardState.turnTableLimitTimer);\\n        awardState.turnTableLimitTimer = setTimeout(() => {\\n          awardState.isRunning = false;\\n          awardState.continue = 1;\\n        }, 10 * 1e3);\\n      }\\n    };\\n    const showDialog = ref(false);\\n    const closeDialog = () => {\\n      showDialog.value = false;\\n    };\\n    onMounted(() => {\\n      getTurntableAwards();\\n      getGameRecord();\\n    });\\n    onBeforeUnmount(() => {\\n      awardState.runTurnTableTimer && clearTimeout(awardState.runTurnTableTimer);\\n      awardState.runTurnTableTimer = null;\\n      awardState.turnTableLimitTimer && clearTimeout(awardState.turnTableLimitTimer);\\n      awardState.turnTableLimitTimer = null;\\n    });\\n    return (_ctx, _cache) => {\\n      const _component_van_dialog = _resolveComponent(\\\"van-dialog\\\");\\n      return _openBlock(), _createElementBlock(\\\"div\\\", _hoisted_1, [\\n        _createElementVNode(\\\"div\\\", _hoisted_2, [\\n          _createElementVNode(\\\"div\\\", _hoisted_3, [\\n            (_openBlock(true), _createElementBlock(\\n              _Fragment,\\n              null,\\n              _renderList(awardLoopList.value, (item, index) => {\\n                return _openBlock(), _createElementBlock(\\n                  \\\"div\\\",\\n                  {\\n                    key: item.id,\\n                    class: _normalizeClass([\\\"item-award flex flex-col items-center justify-between\\\", { active: awardState.currentIndex === index }])\\n                  },\\n                  [\\n                    _createElementVNode(\\\"div\\\", _hoisted_4, [\\n                      item.activity_img ? (_openBlock(), _createElementBlock(\\\"img\\\", {\\n                        key: 0,\\n                        src: appDomain.value + item.activity_img\\n                      }, null, 8, _hoisted_5)) : (_openBlock(), _createElementBlock(\\n                        \\\"i\\\",\\n                        {\\n                          key: 1,\\n                          class: _normalizeClass(item.class)\\n                        },\\n                        null,\\n                        2\\n                        /* CLASS */\\n                      ))\\n                    ]),\\n                    _createElementVNode(\\n                      \\\"div\\\",\\n                      {\\n                        class: _normalizeClass([\\\"award-name\\\", { \\\"final-award-name\\\": item.turntable_name && item.turntable_name.length > 5 }])\\n                      },\\n                      _toDisplayString(item.turntable_name),\\n                      3\\n                      /* TEXT, CLASS */\\n                    )\\n                  ],\\n                  2\\n                  /* CLASS */\\n                );\\n              }),\\n              128\\n              /* KEYED_FRAGMENT */\\n            ))\\n          ]),\\n          _createElementVNode(\\\"div\\\", _hoisted_6, [\\n            _hoisted_7,\\n            _createElementVNode(\\n              \\\"div\\\",\\n              {\\n                class: _normalizeClass([\\\"winning-record\\\", !winRecordList.value.length ? \\\"flex items-center justify-center\\\" : \\\"\\\"])\\n              },\\n              [\\n                winRecordList.value.length ? (_openBlock(), _createBlock(_unref(SeamlessScroll), {\\n                  key: 0,\\n                  list: winRecordList.value,\\n                  limitScrollNum: 7,\\n                  step: 0.3,\\n                  class: \\\"seamless-scroll\\\"\\n                }, {\\n                  default: _withCtx(() => [\\n                    (_openBlock(true), _createElementBlock(\\n                      _Fragment,\\n                      null,\\n                      _renderList(winRecordList.value, (item, index) => {\\n                        return _openBlock(), _createElementBlock(\\n                          \\\"div\\\",\\n                          {\\n                            key: index,\\n                            class: \\\"item-award-history ellipsis\\\"\\n                          },\\n                          _toDisplayString(_unref(dayjs)(item.addtime).format(\\\"HH:mm\\\")) + \\\"\\u4E2D\\u5956\\\" + _toDisplayString(item.record_desc),\\n                          1\\n                          /* TEXT */\\n                        );\\n                      }),\\n                      128\\n                      /* KEYED_FRAGMENT */\\n                    ))\\n                  ]),\\n                  _: 1\\n                  /* STABLE */\\n                }, 8, [\\\"list\\\"])) : (_openBlock(), _createElementBlock(\\\"div\\\", _hoisted_8, [\\n                  _createElementVNode(\\\"img\\\", { src: _unref(noData) }, null, 8, _hoisted_9),\\n                  _hoisted_10\\n                ]))\\n              ],\\n              2\\n              /* CLASS */\\n            )\\n          ])\\n        ]),\\n        _createElementVNode(\\\"div\\\", _hoisted_11, [\\n          (_openBlock(true), _createElementBlock(\\n            _Fragment,\\n            null,\\n            _renderList(btnList.value, (item) => {\\n              return _openBlock(), _createElementBlock(\\\"div\\\", {\\n                key: item.id,\\n                class: \\\"award-btn\\\",\\n                onClick: ($event) => runTurntable(item)\\n              }, [\\n                _createElementVNode(\\n                  \\\"div\\\",\\n                  _hoisted_13,\\n                  _toDisplayString(item.title),\\n                  1\\n                  /* TEXT */\\n                ),\\n                _createElementVNode(\\n                  \\\"div\\\",\\n                  _hoisted_14,\\n                  \\\"(\\\" + _toDisplayString(item.consume) + \\\"\\u79EF\\u5206)\\\",\\n                  1\\n                  /* TEXT */\\n                ),\\n                item.discount ? (_openBlock(), _createElementBlock(\\\"div\\\", _hoisted_15, [\\n                  _createElementVNode(\\n                    \\\"div\\\",\\n                    _hoisted_16,\\n                    _toDisplayString(item.discount),\\n                    1\\n                    /* TEXT */\\n                  )\\n                ])) : _createCommentVNode(\\\"v-if\\\", true)\\n              ], 8, _hoisted_12);\\n            }),\\n            128\\n            /* KEYED_FRAGMENT */\\n          ))\\n        ]),\\n        _createVNode(_component_van_dialog, {\\n          show: showDialog.value,\\n          \\\"onUpdate:show\\\": _cache[0] || (_cache[0] = ($event) => showDialog.value = $event),\\n          theme: \\\"round-button\\\",\\n          confirmButtonText: \\\"\\u786E\\u5B9A\\\",\\n          class: \\\"point-dialog award-result-dialog\\\"\\n        }, {\\n          default: _withCtx(() => [\\n            _createElementVNode(\\\"i\\\", {\\n              class: \\\"close-white block icon-pos\\\",\\n              onClick: closeDialog\\n            }),\\n            _hoisted_17,\\n            _createElementVNode(\\\"div\\\", _hoisted_18, [\\n              _createElementVNode(\\\"div\\\", _hoisted_19, [\\n                !awardResult.mtype[\\\"1\\\"] && !awardResult.mtype[\\\"20\\\"] ? (_openBlock(), _createElementBlock(\\n                  \\\"div\\\",\\n                  _hoisted_20,\\n                  _toDisplayString(awardResult.awards[0]?.turntable_name),\\n                  1\\n                  /* TEXT */\\n                )) : (_openBlock(), _createElementBlock(\\n                  _Fragment,\\n                  { key: 1 },\\n                  [\\n                    awardResult.mtype[\\\"20\\\"] ? (_openBlock(), _createElementBlock(\\\"div\\\", _hoisted_21, [\\n                      _hoisted_22,\\n                      _createElementVNode(\\n                        \\\"span\\\",\\n                        _hoisted_23,\\n                        \\\"+\\\" + _toDisplayString(awardResult.mtype[\\\"20\\\"]),\\n                        1\\n                        /* TEXT */\\n                      )\\n                    ])) : _createCommentVNode(\\\"v-if\\\", true),\\n                    awardResult.mtype[\\\"1\\\"] ? (_openBlock(), _createElementBlock(\\\"div\\\", _hoisted_24, [\\n                      _createElementVNode(\\n                        \\\"span\\\",\\n                        null,\\n                        \\\"\\u83B7\\u5F97\\\" + _toDisplayString(_unref(coin_name)) + \\\"\\uFF1A\\\",\\n                        1\\n                        /* TEXT */\\n                      ),\\n                      _createElementVNode(\\n                        \\\"span\\\",\\n                        _hoisted_25,\\n                        \\\"+\\\" + _toDisplayString(awardResult.mtype[\\\"1\\\"].toTruncFixed(2)),\\n                        1\\n                        /* TEXT */\\n                      )\\n                    ])) : _createCommentVNode(\\\"v-if\\\", true)\\n                  ],\\n                  64\\n                  /* STABLE_FRAGMENT */\\n                ))\\n              ]),\\n              _createElementVNode(\\\"div\\\", _hoisted_26, [\\n                (_openBlock(true), _createElementBlock(\\n                  _Fragment,\\n                  null,\\n                  _renderList(awardResult.awards, (item, index) => {\\n                    return _openBlock(), _createElementBlock(\\\"div\\\", {\\n                      key: index,\\n                      class: \\\"item-award flex flex-col justify-center items-center\\\"\\n                    }, [\\n                      _createElementVNode(\\\"div\\\", _hoisted_27, [\\n                        _createElementVNode(\\\"img\\\", {\\n                          src: appDomain.value + item.activity_img\\n                        }, null, 8, _hoisted_28)\\n                      ]),\\n                      _createElementVNode(\\n                        \\\"div\\\",\\n                        _hoisted_29,\\n                        _toDisplayString(item.turntable_name),\\n                        1\\n                        /* TEXT */\\n                      )\\n                    ]);\\n                  }),\\n                  128\\n                  /* KEYED_FRAGMENT */\\n                ))\\n              ])\\n            ])\\n          ]),\\n          _: 1\\n          /* STABLE */\\n        }, 8, [\\\"show\\\"])\\n      ]);\\n    };\\n  }\\n});\\n\"],\n  \"mappings\": \"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\",\n  \"names\": []\n}\n"
    },
    {
      "name": "vite:define",
      "start": 1714699772285,
      "end": 1714699772285,
      "order": "normal"
    },
    {
      "name": "vite:css-post",
      "start": 1714699772285,
      "end": 1714699772285,
      "order": "normal"
    },
    {
      "name": "vite:build-html",
      "start": 1714699772285,
      "end": 1714699772285,
      "order": "normal"
    },
    {
      "name": "vite:worker-import-meta-url",
      "start": 1714699772285,
      "end": 1714699772285,
      "order": "normal"
    },
    {
      "name": "vite:asset-import-meta-url",
      "start": 1714699772285,
      "end": 1714699772285,
      "order": "normal"
    },
    {
      "name": "commonjs",
      "start": 1714699772285,
      "end": 1714699772285,
      "order": "normal"
    },
    {
      "name": "vite:dynamic-import-vars",
      "start": 1714699772285,
      "end": 1714699772285,
      "order": "normal"
    },
    {
      "name": "vite:import-glob",
      "start": 1714699772285,
      "end": 1714699772285,
      "order": "normal"
    },
    {
      "name": "unplugin-auto-import",
      "start": 1714699772285,
      "end": 1714699772289,
      "order": "post"
    },
    {
      "name": "unplugin-vue-components",
      "result": "/* unplugin-vue-components disabled */import { Dialog as __unplugin_components_0 } from 'vant/es';import 'vant/es/dialog/style/index';\n\"use strict\";\nimport { defineComponent as _defineComponent } from \"vue\";\nimport { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, normalizeClass as _normalizeClass, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, unref as _unref, withCtx as _withCtx, createBlock as _createBlock, resolveComponent as _resolveComponent, createVNode as _createVNode } from \"vue\";\nconst _hoisted_1 = { class: \"lucky-draw-container\" };\nconst _hoisted_2 = { class: \"draw-middle-container flex items-center\" };\nconst _hoisted_3 = { class: \"award-loop-container flex items-center flex-wrap\" };\nconst _hoisted_4 = { class: \"icon-container flex items-center justify-center\" };\nconst _hoisted_5 = [\"src\"];\nconst _hoisted_6 = { class: \"right-scroll-container\" };\nconst _hoisted_7 = /* @__PURE__ */ _createElementVNode(\n  \"div\",\n  { class: \"title\" },\n  \"\\u4E2D\\u5956\\u8BB0\\u5F55\",\n  -1\n  /* HOISTED */\n);\nconst _hoisted_8 = {\n  key: 1,\n  class: \"no-data flex flex-col items-center justify-center text-center\"\n};\nconst _hoisted_9 = [\"src\"];\nconst _hoisted_10 = /* @__PURE__ */ _createElementVNode(\n  \"div\",\n  { class: \"text-no-data\" },\n  \"\\u6682\\u65E0\\u6570\\u636E\",\n  -1\n  /* HOISTED */\n);\nconst _hoisted_11 = { class: \"lottery-container flex items-center justify-between\" };\nconst _hoisted_12 = [\"onClick\"];\nconst _hoisted_13 = { className: \"item-name\" };\nconst _hoisted_14 = { className: \"item-required-point\" };\nconst _hoisted_15 = {\n  key: 0,\n  class: \"discount\"\n};\nconst _hoisted_16 = { className: \"discount-num\" };\nconst _hoisted_17 = /* @__PURE__ */ _createElementVNode(\n  \"div\",\n  { class: \"title\" },\n  \"\\u62BD\\u5956\\u7ED3\\u679C\",\n  -1\n  /* HOISTED */\n);\nconst _hoisted_18 = { class: \"content\" };\nconst _hoisted_19 = { class: \"result-summary\" };\nconst _hoisted_20 = {\n  key: 0,\n  class: \"item-result-title lucky-king\"\n};\nconst _hoisted_21 = {\n  key: 0,\n  class: \"item-result-title\"\n};\nconst _hoisted_22 = /* @__PURE__ */ _createElementVNode(\n  \"span\",\n  null,\n  \"\\u83B7\\u5F97\\u79EF\\u5206\\uFF1A\",\n  -1\n  /* HOISTED */\n);\nconst _hoisted_23 = { class: \"result-value\" };\nconst _hoisted_24 = {\n  key: 1,\n  class: \"item-result-title\"\n};\nconst _hoisted_25 = { class: \"result-value\" };\nconst _hoisted_26 = { class: \"award-list-container flex flex-wrap justify-between\" };\nconst _hoisted_27 = { class: \"award-icon\" };\nconst _hoisted_28 = [\"src\"];\nconst _hoisted_29 = { class: \"award-name\" };\nimport noData from \"@/assets/images/common/noData-gold.png\";\nimport iconWarning from \"@/assets/images/common/warning.png\";\nimport { useAuthStore } from \"@/store\";\nimport { useCommonStore } from \"@/store/modules/common\";\nimport { useEntryStore } from \"@/store/modules/entry\";\nimport { useTaskActivityStore } from \"@/store/modules/taskActivity\";\nimport dayjs from \"dayjs\";\nimport { storeToRefs } from \"pinia\";\nimport { showToast } from \"vant\";\nimport { computed, onBeforeUnmount, onMounted, reactive, ref } from \"vue\";\nimport { Vue3SeamlessScroll as SeamlessScroll } from \"vue3-seamless-scroll\";\nexport default /* @__PURE__ */ _defineComponent({\n  __name: \"LuckyDraw\",\n  emits: [\"update-coins\"],\n  setup(__props, { emit: __emit }) {\n    const coin_name = sessionStorage.getItem(\"coin_name\");\n    const emit = __emit;\n    const winRecordList = ref([]);\n    const awardLoopList = ref([\n      {\n        class: \"RMB-4\"\n      },\n      {\n        class: \"point-1\"\n      },\n      {\n        class: \"RMB-gold-box\"\n      },\n      {\n        class: \"lucky-star\"\n      },\n      {\n        class: \"point-5\"\n      },\n      {\n        class: \"point-8\"\n      },\n      {\n        class: \"RMB-1\"\n      },\n      {\n        class: \"RMB-silver-box\"\n      },\n      {\n        class: \"point-3\"\n      },\n      {\n        class: \"RMB-3\"\n      }\n    ]);\n    const awardState = reactive({\n      currentIndex: -1,\n      // 当前位置\n      isRunning: false,\n      // 是否正在抽奖\n      speed: 10,\n      // 抽奖转动速度\n      runTurnTableTimer: null,\n      // 抽奖轮盘计时器\n      turnTableLimitTimer: null,\n      // 抽奖频率计时器\n      currentRunCount: 0,\n      // 已跑次数\n      totalRunCount: 40,\n      // 总共跑动次数 10的倍数\n      prizeId: 0,\n      // 中奖id\n      continue: 1\n      // 是否可以继续抽奖\n    });\n    const awardResult = reactive({\n      awards: [],\n      mtype: {\n        \"0\": 0,\n        \"1\": 0,\n        \"20\": 0\n      }\n    });\n    const prizeSort = [0, 1, 2, 3, 4, 9, 8, 7, 6, 5, 0];\n    const btnList = ref([]);\n    const entryStore = useEntryStore();\n    const { config } = storeToRefs(entryStore);\n    const appDomain = computed(() => {\n      var _a;\n      return ((_a = config.value.Web_Set_DefaultInfo) == null ? void 0 : _a.imgserver_url).v || \"\";\n    });\n    const taskActivityStore = useTaskActivityStore();\n    const { getTurntableAwardsApi, getGameRecordApi, getPlayTurntableApi } = taskActivityStore;\n    const { turntableAwards, awardRecord } = storeToRefs(taskActivityStore);\n    const handleTurnTableAwardsData = (data) => {\n      awardLoopList.value = data.awards;\n      btnList.value = data.options;\n    };\n    const getTurntableAwards = async () => {\n      var _a;\n      try {\n        let res = turntableAwards.value;\n        if (!((_a = res.awards) == null ? void 0 : _a.length)) {\n          res = await getTurntableAwardsApi();\n        }\n        handleTurnTableAwardsData(res);\n        window.log(\"\\u8F6E\\u76D8\\u5956\\u9879\\u5217\\u8868\", res);\n      } catch (error) {\n        console.error(error);\n      }\n    };\n    const getGameRecord = async (isReq = false) => {\n      var _a;\n      try {\n        let res;\n        if (awardRecord.value.count && !isReq) {\n          res = awardRecord.value;\n        } else {\n          res = await getGameRecordApi();\n        }\n        if ((_a = res.list) == null ? void 0 : _a.length) {\n          winRecordList.value = res.list;\n        }\n        window.log(\"\\u62BD\\u5956\\u8BB0\\u5F55\", res);\n      } catch (error) {\n        console.error(error);\n      }\n    };\n    const totalRunStep = computed(() => {\n      return awardState.totalRunCount + prizeSort.indexOf(awardState.prizeId);\n    });\n    const getRandomNum = () => {\n      return prizeSort[Math.floor(Math.random() * prizeSort.length)];\n    };\n    const authStore = useAuthStore();\n    const { getUserMoneyByMType } = storeToRefs(authStore);\n    const runTurntable = (item) => {\n      var _a, _b;\n      const point = +((_b = (_a = getUserMoneyByMType.value(20)) == null ? void 0 : _a.coincash) != null ? _b : 0);\n      if (point < +item.consume) {\n        showToast({\n          message: \"\\u79EF\\u5206\\u4E0D\\u8DB3\",\n          icon: iconWarning\n        });\n        return;\n      }\n      if (!awardState.continue) {\n        showToast({\n          message: \"10\\u79D2\\u5185\\u53EA\\u80FD\\u64CD\\u4F5C\\u4E00\\u6B21\",\n          icon: iconWarning\n        });\n        return;\n      }\n      if (!awardState.isRunning) {\n        awardState.currentRunCount = 0;\n        awardState.speed = 30;\n        awardState.isRunning = true;\n        getTurnTableData(item.id);\n      }\n    };\n    const startRun = () => {\n      stopRun();\n      if (awardState.currentRunCount > totalRunStep.value) {\n        awardState.isRunning = false;\n        showDialog.value = true;\n        awardState.currentIndex = -1;\n        emit(\"update-coins\", true);\n        getGameRecord(true);\n        return;\n      }\n      awardState.currentIndex = prizeSort[awardState.currentRunCount % 10];\n      if (awardState.currentRunCount > Math.floor(awardState.totalRunCount * 2 / 3)) {\n        awardState.speed = awardState.speed + Math.floor(awardState.currentRunCount / 3);\n      }\n      awardState.runTurnTableTimer = setTimeout(() => {\n        awardState.currentRunCount++;\n        startRun();\n      }, awardState.speed);\n    };\n    const stopRun = () => {\n      awardState.runTurnTableTimer && clearTimeout(awardState.runTurnTableTimer);\n    };\n    const commonStore = useCommonStore();\n    const getTurnTableData = async (id) => {\n      var _a;\n      try {\n        commonStore.setShowLoading(true);\n        awardState.continue = 0;\n        const params = {\n          config_id: id\n        };\n        const res = await getPlayTurntableApi(params);\n        if ((_a = res.awards) == null ? void 0 : _a.length) {\n          awardResult.awards = res.awards;\n          awardResult.mtype = res.mtype;\n          const prizeId = awardLoopList.value.findIndex(\n            (item) => item.turntable_idd === res.awards[0].turntable_idd\n          );\n          if (~prizeId) {\n            awardState.prizeId = prizeId;\n            startRun();\n          }\n        }\n        window.log(\"\\u62BD\\u5956\", res);\n      } catch (error) {\n        console.error(error);\n      } finally {\n        commonStore.setShowLoading(false);\n        awardState.turnTableLimitTimer && clearTimeout(awardState.turnTableLimitTimer);\n        awardState.turnTableLimitTimer = setTimeout(() => {\n          awardState.isRunning = false;\n          awardState.continue = 1;\n        }, 10 * 1e3);\n      }\n    };\n    const showDialog = ref(false);\n    const closeDialog = () => {\n      showDialog.value = false;\n    };\n    onMounted(() => {\n      getTurntableAwards();\n      getGameRecord();\n    });\n    onBeforeUnmount(() => {\n      awardState.runTurnTableTimer && clearTimeout(awardState.runTurnTableTimer);\n      awardState.runTurnTableTimer = null;\n      awardState.turnTableLimitTimer && clearTimeout(awardState.turnTableLimitTimer);\n      awardState.turnTableLimitTimer = null;\n    });\n    return (_ctx, _cache) => {\n      const _component_van_dialog = __unplugin_components_0;\n      return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n        _createElementVNode(\"div\", _hoisted_2, [\n          _createElementVNode(\"div\", _hoisted_3, [\n            (_openBlock(true), _createElementBlock(\n              _Fragment,\n              null,\n              _renderList(awardLoopList.value, (item, index) => {\n                return _openBlock(), _createElementBlock(\n                  \"div\",\n                  {\n                    key: item.id,\n                    class: _normalizeClass([\"item-award flex flex-col items-center justify-between\", { active: awardState.currentIndex === index }])\n                  },\n                  [\n                    _createElementVNode(\"div\", _hoisted_4, [\n                      item.activity_img ? (_openBlock(), _createElementBlock(\"img\", {\n                        key: 0,\n                        src: appDomain.value + item.activity_img\n                      }, null, 8, _hoisted_5)) : (_openBlock(), _createElementBlock(\n                        \"i\",\n                        {\n                          key: 1,\n                          class: _normalizeClass(item.class)\n                        },\n                        null,\n                        2\n                        /* CLASS */\n                      ))\n                    ]),\n                    _createElementVNode(\n                      \"div\",\n                      {\n                        class: _normalizeClass([\"award-name\", { \"final-award-name\": item.turntable_name && item.turntable_name.length > 5 }])\n                      },\n                      _toDisplayString(item.turntable_name),\n                      3\n                      /* TEXT, CLASS */\n                    )\n                  ],\n                  2\n                  /* CLASS */\n                );\n              }),\n              128\n              /* KEYED_FRAGMENT */\n            ))\n          ]),\n          _createElementVNode(\"div\", _hoisted_6, [\n            _hoisted_7,\n            _createElementVNode(\n              \"div\",\n              {\n                class: _normalizeClass([\"winning-record\", !winRecordList.value.length ? \"flex items-center justify-center\" : \"\"])\n              },\n              [\n                winRecordList.value.length ? (_openBlock(), _createBlock(_unref(SeamlessScroll), {\n                  key: 0,\n                  list: winRecordList.value,\n                  limitScrollNum: 7,\n                  step: 0.3,\n                  class: \"seamless-scroll\"\n                }, {\n                  default: _withCtx(() => [\n                    (_openBlock(true), _createElementBlock(\n                      _Fragment,\n                      null,\n                      _renderList(winRecordList.value, (item, index) => {\n                        return _openBlock(), _createElementBlock(\n                          \"div\",\n                          {\n                            key: index,\n                            class: \"item-award-history ellipsis\"\n                          },\n                          _toDisplayString(_unref(dayjs)(item.addtime).format(\"HH:mm\")) + \"\\u4E2D\\u5956\" + _toDisplayString(item.record_desc),\n                          1\n                          /* TEXT */\n                        );\n                      }),\n                      128\n                      /* KEYED_FRAGMENT */\n                    ))\n                  ]),\n                  _: 1\n                  /* STABLE */\n                }, 8, [\"list\"])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_8, [\n                  _createElementVNode(\"img\", { src: _unref(noData) }, null, 8, _hoisted_9),\n                  _hoisted_10\n                ]))\n              ],\n              2\n              /* CLASS */\n            )\n          ])\n        ]),\n        _createElementVNode(\"div\", _hoisted_11, [\n          (_openBlock(true), _createElementBlock(\n            _Fragment,\n            null,\n            _renderList(btnList.value, (item) => {\n              return _openBlock(), _createElementBlock(\"div\", {\n                key: item.id,\n                class: \"award-btn\",\n                onClick: ($event) => runTurntable(item)\n              }, [\n                _createElementVNode(\n                  \"div\",\n                  _hoisted_13,\n                  _toDisplayString(item.title),\n                  1\n                  /* TEXT */\n                ),\n                _createElementVNode(\n                  \"div\",\n                  _hoisted_14,\n                  \"(\" + _toDisplayString(item.consume) + \"\\u79EF\\u5206)\",\n                  1\n                  /* TEXT */\n                ),\n                item.discount ? (_openBlock(), _createElementBlock(\"div\", _hoisted_15, [\n                  _createElementVNode(\n                    \"div\",\n                    _hoisted_16,\n                    _toDisplayString(item.discount),\n                    1\n                    /* TEXT */\n                  )\n                ])) : _createCommentVNode(\"v-if\", true)\n              ], 8, _hoisted_12);\n            }),\n            128\n            /* KEYED_FRAGMENT */\n          ))\n        ]),\n        _createVNode(_component_van_dialog, {\n          show: showDialog.value,\n          \"onUpdate:show\": _cache[0] || (_cache[0] = ($event) => showDialog.value = $event),\n          theme: \"round-button\",\n          confirmButtonText: \"\\u786E\\u5B9A\",\n          class: \"point-dialog award-result-dialog\"\n        }, {\n          default: _withCtx(() => {\n            var _a;\n            return [\n              _createElementVNode(\"i\", {\n                class: \"close-white block icon-pos\",\n                onClick: closeDialog\n              }),\n              _hoisted_17,\n              _createElementVNode(\"div\", _hoisted_18, [\n                _createElementVNode(\"div\", _hoisted_19, [\n                  !awardResult.mtype[\"1\"] && !awardResult.mtype[\"20\"] ? (_openBlock(), _createElementBlock(\n                    \"div\",\n                    _hoisted_20,\n                    _toDisplayString((_a = awardResult.awards[0]) == null ? void 0 : _a.turntable_name),\n                    1\n                    /* TEXT */\n                  )) : (_openBlock(), _createElementBlock(\n                    _Fragment,\n                    { key: 1 },\n                    [\n                      awardResult.mtype[\"20\"] ? (_openBlock(), _createElementBlock(\"div\", _hoisted_21, [\n                        _hoisted_22,\n                        _createElementVNode(\n                          \"span\",\n                          _hoisted_23,\n                          \"+\" + _toDisplayString(awardResult.mtype[\"20\"]),\n                          1\n                          /* TEXT */\n                        )\n                      ])) : _createCommentVNode(\"v-if\", true),\n                      awardResult.mtype[\"1\"] ? (_openBlock(), _createElementBlock(\"div\", _hoisted_24, [\n                        _createElementVNode(\n                          \"span\",\n                          null,\n                          \"\\u83B7\\u5F97\" + _toDisplayString(_unref(coin_name)) + \"\\uFF1A\",\n                          1\n                          /* TEXT */\n                        ),\n                        _createElementVNode(\n                          \"span\",\n                          _hoisted_25,\n                          \"+\" + _toDisplayString(awardResult.mtype[\"1\"].toTruncFixed(2)),\n                          1\n                          /* TEXT */\n                        )\n                      ])) : _createCommentVNode(\"v-if\", true)\n                    ],\n                    64\n                    /* STABLE_FRAGMENT */\n                  ))\n                ]),\n                _createElementVNode(\"div\", _hoisted_26, [\n                  (_openBlock(true), _createElementBlock(\n                    _Fragment,\n                    null,\n                    _renderList(awardResult.awards, (item, index) => {\n                      return _openBlock(), _createElementBlock(\"div\", {\n                        key: index,\n                        class: \"item-award flex flex-col justify-center items-center\"\n                      }, [\n                        _createElementVNode(\"div\", _hoisted_27, [\n                          _createElementVNode(\"img\", {\n                            src: appDomain.value + item.activity_img\n                          }, null, 8, _hoisted_28)\n                        ]),\n                        _createElementVNode(\n                          \"div\",\n                          _hoisted_29,\n                          _toDisplayString(item.turntable_name),\n                          1\n                          /* TEXT */\n                        )\n                      ]);\n                    }),\n                    128\n                    /* KEYED_FRAGMENT */\n                  ))\n                ])\n              ])\n            ];\n          }),\n          _: 1\n          /* STABLE */\n        }, 8, [\"show\"])\n      ]);\n    };\n  }\n});\n",
      "start": 1714699772289,
      "end": 1714699772289,
      "order": "post",
      "sourcemaps": {
        "version": 3,
        "sources": [
          "/Users/afeng/Desktop/work/gdpayh5-web/src/components/Point/LuckyDraw.vue?vue&type=script&setup=true&lang.ts"
        ],
        "sourcesContent": [
          "\"use strict\";\nimport { defineComponent as _defineComponent } from \"vue\";\nimport { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, normalizeClass as _normalizeClass, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, unref as _unref, withCtx as _withCtx, createBlock as _createBlock, resolveComponent as _resolveComponent, createVNode as _createVNode } from \"vue\";\nconst _hoisted_1 = { class: \"lucky-draw-container\" };\nconst _hoisted_2 = { class: \"draw-middle-container flex items-center\" };\nconst _hoisted_3 = { class: \"award-loop-container flex items-center flex-wrap\" };\nconst _hoisted_4 = { class: \"icon-container flex items-center justify-center\" };\nconst _hoisted_5 = [\"src\"];\nconst _hoisted_6 = { class: \"right-scroll-container\" };\nconst _hoisted_7 = /* @__PURE__ */ _createElementVNode(\n  \"div\",\n  { class: \"title\" },\n  \"\\u4E2D\\u5956\\u8BB0\\u5F55\",\n  -1\n  /* HOISTED */\n);\nconst _hoisted_8 = {\n  key: 1,\n  class: \"no-data flex flex-col items-center justify-center text-center\"\n};\nconst _hoisted_9 = [\"src\"];\nconst _hoisted_10 = /* @__PURE__ */ _createElementVNode(\n  \"div\",\n  { class: \"text-no-data\" },\n  \"\\u6682\\u65E0\\u6570\\u636E\",\n  -1\n  /* HOISTED */\n);\nconst _hoisted_11 = { class: \"lottery-container flex items-center justify-between\" };\nconst _hoisted_12 = [\"onClick\"];\nconst _hoisted_13 = { className: \"item-name\" };\nconst _hoisted_14 = { className: \"item-required-point\" };\nconst _hoisted_15 = {\n  key: 0,\n  class: \"discount\"\n};\nconst _hoisted_16 = { className: \"discount-num\" };\nconst _hoisted_17 = /* @__PURE__ */ _createElementVNode(\n  \"div\",\n  { class: \"title\" },\n  \"\\u62BD\\u5956\\u7ED3\\u679C\",\n  -1\n  /* HOISTED */\n);\nconst _hoisted_18 = { class: \"content\" };\nconst _hoisted_19 = { class: \"result-summary\" };\nconst _hoisted_20 = {\n  key: 0,\n  class: \"item-result-title lucky-king\"\n};\nconst _hoisted_21 = {\n  key: 0,\n  class: \"item-result-title\"\n};\nconst _hoisted_22 = /* @__PURE__ */ _createElementVNode(\n  \"span\",\n  null,\n  \"\\u83B7\\u5F97\\u79EF\\u5206\\uFF1A\",\n  -1\n  /* HOISTED */\n);\nconst _hoisted_23 = { class: \"result-value\" };\nconst _hoisted_24 = {\n  key: 1,\n  class: \"item-result-title\"\n};\nconst _hoisted_25 = { class: \"result-value\" };\nconst _hoisted_26 = { class: \"award-list-container flex flex-wrap justify-between\" };\nconst _hoisted_27 = { class: \"award-icon\" };\nconst _hoisted_28 = [\"src\"];\nconst _hoisted_29 = { class: \"award-name\" };\nimport noData from \"@/assets/images/common/noData-gold.png\";\nimport iconWarning from \"@/assets/images/common/warning.png\";\nimport { useAuthStore } from \"@/store\";\nimport { useCommonStore } from \"@/store/modules/common\";\nimport { useEntryStore } from \"@/store/modules/entry\";\nimport { useTaskActivityStore } from \"@/store/modules/taskActivity\";\nimport dayjs from \"dayjs\";\nimport { storeToRefs } from \"pinia\";\nimport { showToast } from \"vant\";\nimport { computed, onBeforeUnmount, onMounted, reactive, ref } from \"vue\";\nimport { Vue3SeamlessScroll as SeamlessScroll } from \"vue3-seamless-scroll\";\nexport default /* @__PURE__ */ _defineComponent({\n  __name: \"LuckyDraw\",\n  emits: [\"update-coins\"],\n  setup(__props, { emit: __emit }) {\n    const coin_name = sessionStorage.getItem(\"coin_name\");\n    const emit = __emit;\n    const winRecordList = ref([]);\n    const awardLoopList = ref([\n      {\n        class: \"RMB-4\"\n      },\n      {\n        class: \"point-1\"\n      },\n      {\n        class: \"RMB-gold-box\"\n      },\n      {\n        class: \"lucky-star\"\n      },\n      {\n        class: \"point-5\"\n      },\n      {\n        class: \"point-8\"\n      },\n      {\n        class: \"RMB-1\"\n      },\n      {\n        class: \"RMB-silver-box\"\n      },\n      {\n        class: \"point-3\"\n      },\n      {\n        class: \"RMB-3\"\n      }\n    ]);\n    const awardState = reactive({\n      currentIndex: -1,\n      // 当前位置\n      isRunning: false,\n      // 是否正在抽奖\n      speed: 10,\n      // 抽奖转动速度\n      runTurnTableTimer: null,\n      // 抽奖轮盘计时器\n      turnTableLimitTimer: null,\n      // 抽奖频率计时器\n      currentRunCount: 0,\n      // 已跑次数\n      totalRunCount: 40,\n      // 总共跑动次数 10的倍数\n      prizeId: 0,\n      // 中奖id\n      continue: 1\n      // 是否可以继续抽奖\n    });\n    const awardResult = reactive({\n      awards: [],\n      mtype: {\n        \"0\": 0,\n        \"1\": 0,\n        \"20\": 0\n      }\n    });\n    const prizeSort = [0, 1, 2, 3, 4, 9, 8, 7, 6, 5, 0];\n    const btnList = ref([]);\n    const entryStore = useEntryStore();\n    const { config } = storeToRefs(entryStore);\n    const appDomain = computed(() => {\n      var _a;\n      return ((_a = config.value.Web_Set_DefaultInfo) == null ? void 0 : _a.imgserver_url).v || \"\";\n    });\n    const taskActivityStore = useTaskActivityStore();\n    const { getTurntableAwardsApi, getGameRecordApi, getPlayTurntableApi } = taskActivityStore;\n    const { turntableAwards, awardRecord } = storeToRefs(taskActivityStore);\n    const handleTurnTableAwardsData = (data) => {\n      awardLoopList.value = data.awards;\n      btnList.value = data.options;\n    };\n    const getTurntableAwards = async () => {\n      var _a;\n      try {\n        let res = turntableAwards.value;\n        if (!((_a = res.awards) == null ? void 0 : _a.length)) {\n          res = await getTurntableAwardsApi();\n        }\n        handleTurnTableAwardsData(res);\n        window.log(\"\\u8F6E\\u76D8\\u5956\\u9879\\u5217\\u8868\", res);\n      } catch (error) {\n        console.error(error);\n      }\n    };\n    const getGameRecord = async (isReq = false) => {\n      var _a;\n      try {\n        let res;\n        if (awardRecord.value.count && !isReq) {\n          res = awardRecord.value;\n        } else {\n          res = await getGameRecordApi();\n        }\n        if ((_a = res.list) == null ? void 0 : _a.length) {\n          winRecordList.value = res.list;\n        }\n        window.log(\"\\u62BD\\u5956\\u8BB0\\u5F55\", res);\n      } catch (error) {\n        console.error(error);\n      }\n    };\n    const totalRunStep = computed(() => {\n      return awardState.totalRunCount + prizeSort.indexOf(awardState.prizeId);\n    });\n    const getRandomNum = () => {\n      return prizeSort[Math.floor(Math.random() * prizeSort.length)];\n    };\n    const authStore = useAuthStore();\n    const { getUserMoneyByMType } = storeToRefs(authStore);\n    const runTurntable = (item) => {\n      var _a, _b;\n      const point = +((_b = (_a = getUserMoneyByMType.value(20)) == null ? void 0 : _a.coincash) != null ? _b : 0);\n      if (point < +item.consume) {\n        showToast({\n          message: \"\\u79EF\\u5206\\u4E0D\\u8DB3\",\n          icon: iconWarning\n        });\n        return;\n      }\n      if (!awardState.continue) {\n        showToast({\n          message: \"10\\u79D2\\u5185\\u53EA\\u80FD\\u64CD\\u4F5C\\u4E00\\u6B21\",\n          icon: iconWarning\n        });\n        return;\n      }\n      if (!awardState.isRunning) {\n        awardState.currentRunCount = 0;\n        awardState.speed = 30;\n        awardState.isRunning = true;\n        getTurnTableData(item.id);\n      }\n    };\n    const startRun = () => {\n      stopRun();\n      if (awardState.currentRunCount > totalRunStep.value) {\n        awardState.isRunning = false;\n        showDialog.value = true;\n        awardState.currentIndex = -1;\n        emit(\"update-coins\", true);\n        getGameRecord(true);\n        return;\n      }\n      awardState.currentIndex = prizeSort[awardState.currentRunCount % 10];\n      if (awardState.currentRunCount > Math.floor(awardState.totalRunCount * 2 / 3)) {\n        awardState.speed = awardState.speed + Math.floor(awardState.currentRunCount / 3);\n      }\n      awardState.runTurnTableTimer = setTimeout(() => {\n        awardState.currentRunCount++;\n        startRun();\n      }, awardState.speed);\n    };\n    const stopRun = () => {\n      awardState.runTurnTableTimer && clearTimeout(awardState.runTurnTableTimer);\n    };\n    const commonStore = useCommonStore();\n    const getTurnTableData = async (id) => {\n      var _a;\n      try {\n        commonStore.setShowLoading(true);\n        awardState.continue = 0;\n        const params = {\n          config_id: id\n        };\n        const res = await getPlayTurntableApi(params);\n        if ((_a = res.awards) == null ? void 0 : _a.length) {\n          awardResult.awards = res.awards;\n          awardResult.mtype = res.mtype;\n          const prizeId = awardLoopList.value.findIndex(\n            (item) => item.turntable_idd === res.awards[0].turntable_idd\n          );\n          if (~prizeId) {\n            awardState.prizeId = prizeId;\n            startRun();\n          }\n        }\n        window.log(\"\\u62BD\\u5956\", res);\n      } catch (error) {\n        console.error(error);\n      } finally {\n        commonStore.setShowLoading(false);\n        awardState.turnTableLimitTimer && clearTimeout(awardState.turnTableLimitTimer);\n        awardState.turnTableLimitTimer = setTimeout(() => {\n          awardState.isRunning = false;\n          awardState.continue = 1;\n        }, 10 * 1e3);\n      }\n    };\n    const showDialog = ref(false);\n    const closeDialog = () => {\n      showDialog.value = false;\n    };\n    onMounted(() => {\n      getTurntableAwards();\n      getGameRecord();\n    });\n    onBeforeUnmount(() => {\n      awardState.runTurnTableTimer && clearTimeout(awardState.runTurnTableTimer);\n      awardState.runTurnTableTimer = null;\n      awardState.turnTableLimitTimer && clearTimeout(awardState.turnTableLimitTimer);\n      awardState.turnTableLimitTimer = null;\n    });\n    return (_ctx, _cache) => {\n      const _component_van_dialog = _resolveComponent(\"van-dialog\");\n      return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n        _createElementVNode(\"div\", _hoisted_2, [\n          _createElementVNode(\"div\", _hoisted_3, [\n            (_openBlock(true), _createElementBlock(\n              _Fragment,\n              null,\n              _renderList(awardLoopList.value, (item, index) => {\n                return _openBlock(), _createElementBlock(\n                  \"div\",\n                  {\n                    key: item.id,\n                    class: _normalizeClass([\"item-award flex flex-col items-center justify-between\", { active: awardState.currentIndex === index }])\n                  },\n                  [\n                    _createElementVNode(\"div\", _hoisted_4, [\n                      item.activity_img ? (_openBlock(), _createElementBlock(\"img\", {\n                        key: 0,\n                        src: appDomain.value + item.activity_img\n                      }, null, 8, _hoisted_5)) : (_openBlock(), _createElementBlock(\n                        \"i\",\n                        {\n                          key: 1,\n                          class: _normalizeClass(item.class)\n                        },\n                        null,\n                        2\n                        /* CLASS */\n                      ))\n                    ]),\n                    _createElementVNode(\n                      \"div\",\n                      {\n                        class: _normalizeClass([\"award-name\", { \"final-award-name\": item.turntable_name && item.turntable_name.length > 5 }])\n                      },\n                      _toDisplayString(item.turntable_name),\n                      3\n                      /* TEXT, CLASS */\n                    )\n                  ],\n                  2\n                  /* CLASS */\n                );\n              }),\n              128\n              /* KEYED_FRAGMENT */\n            ))\n          ]),\n          _createElementVNode(\"div\", _hoisted_6, [\n            _hoisted_7,\n            _createElementVNode(\n              \"div\",\n              {\n                class: _normalizeClass([\"winning-record\", !winRecordList.value.length ? \"flex items-center justify-center\" : \"\"])\n              },\n              [\n                winRecordList.value.length ? (_openBlock(), _createBlock(_unref(SeamlessScroll), {\n                  key: 0,\n                  list: winRecordList.value,\n                  limitScrollNum: 7,\n                  step: 0.3,\n                  class: \"seamless-scroll\"\n                }, {\n                  default: _withCtx(() => [\n                    (_openBlock(true), _createElementBlock(\n                      _Fragment,\n                      null,\n                      _renderList(winRecordList.value, (item, index) => {\n                        return _openBlock(), _createElementBlock(\n                          \"div\",\n                          {\n                            key: index,\n                            class: \"item-award-history ellipsis\"\n                          },\n                          _toDisplayString(_unref(dayjs)(item.addtime).format(\"HH:mm\")) + \"\\u4E2D\\u5956\" + _toDisplayString(item.record_desc),\n                          1\n                          /* TEXT */\n                        );\n                      }),\n                      128\n                      /* KEYED_FRAGMENT */\n                    ))\n                  ]),\n                  _: 1\n                  /* STABLE */\n                }, 8, [\"list\"])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_8, [\n                  _createElementVNode(\"img\", { src: _unref(noData) }, null, 8, _hoisted_9),\n                  _hoisted_10\n                ]))\n              ],\n              2\n              /* CLASS */\n            )\n          ])\n        ]),\n        _createElementVNode(\"div\", _hoisted_11, [\n          (_openBlock(true), _createElementBlock(\n            _Fragment,\n            null,\n            _renderList(btnList.value, (item) => {\n              return _openBlock(), _createElementBlock(\"div\", {\n                key: item.id,\n                class: \"award-btn\",\n                onClick: ($event) => runTurntable(item)\n              }, [\n                _createElementVNode(\n                  \"div\",\n                  _hoisted_13,\n                  _toDisplayString(item.title),\n                  1\n                  /* TEXT */\n                ),\n                _createElementVNode(\n                  \"div\",\n                  _hoisted_14,\n                  \"(\" + _toDisplayString(item.consume) + \"\\u79EF\\u5206)\",\n                  1\n                  /* TEXT */\n                ),\n                item.discount ? (_openBlock(), _createElementBlock(\"div\", _hoisted_15, [\n                  _createElementVNode(\n                    \"div\",\n                    _hoisted_16,\n                    _toDisplayString(item.discount),\n                    1\n                    /* TEXT */\n                  )\n                ])) : _createCommentVNode(\"v-if\", true)\n              ], 8, _hoisted_12);\n            }),\n            128\n            /* KEYED_FRAGMENT */\n          ))\n        ]),\n        _createVNode(_component_van_dialog, {\n          show: showDialog.value,\n          \"onUpdate:show\": _cache[0] || (_cache[0] = ($event) => showDialog.value = $event),\n          theme: \"round-button\",\n          confirmButtonText: \"\\u786E\\u5B9A\",\n          class: \"point-dialog award-result-dialog\"\n        }, {\n          default: _withCtx(() => {\n            var _a;\n            return [\n              _createElementVNode(\"i\", {\n                class: \"close-white block icon-pos\",\n                onClick: closeDialog\n              }),\n              _hoisted_17,\n              _createElementVNode(\"div\", _hoisted_18, [\n                _createElementVNode(\"div\", _hoisted_19, [\n                  !awardResult.mtype[\"1\"] && !awardResult.mtype[\"20\"] ? (_openBlock(), _createElementBlock(\n                    \"div\",\n                    _hoisted_20,\n                    _toDisplayString((_a = awardResult.awards[0]) == null ? void 0 : _a.turntable_name),\n                    1\n                    /* TEXT */\n                  )) : (_openBlock(), _createElementBlock(\n                    _Fragment,\n                    { key: 1 },\n                    [\n                      awardResult.mtype[\"20\"] ? (_openBlock(), _createElementBlock(\"div\", _hoisted_21, [\n                        _hoisted_22,\n                        _createElementVNode(\n                          \"span\",\n                          _hoisted_23,\n                          \"+\" + _toDisplayString(awardResult.mtype[\"20\"]),\n                          1\n                          /* TEXT */\n                        )\n                      ])) : _createCommentVNode(\"v-if\", true),\n                      awardResult.mtype[\"1\"] ? (_openBlock(), _createElementBlock(\"div\", _hoisted_24, [\n                        _createElementVNode(\n                          \"span\",\n                          null,\n                          \"\\u83B7\\u5F97\" + _toDisplayString(_unref(coin_name)) + \"\\uFF1A\",\n                          1\n                          /* TEXT */\n                        ),\n                        _createElementVNode(\n                          \"span\",\n                          _hoisted_25,\n                          \"+\" + _toDisplayString(awardResult.mtype[\"1\"].toTruncFixed(2)),\n                          1\n                          /* TEXT */\n                        )\n                      ])) : _createCommentVNode(\"v-if\", true)\n                    ],\n                    64\n                    /* STABLE_FRAGMENT */\n                  ))\n                ]),\n                _createElementVNode(\"div\", _hoisted_26, [\n                  (_openBlock(true), _createElementBlock(\n                    _Fragment,\n                    null,\n                    _renderList(awardResult.awards, (item, index) => {\n                      return _openBlock(), _createElementBlock(\"div\", {\n                        key: index,\n                        class: \"item-award flex flex-col justify-center items-center\"\n                      }, [\n                        _createElementVNode(\"div\", _hoisted_27, [\n                          _createElementVNode(\"img\", {\n                            src: appDomain.value + item.activity_img\n                          }, null, 8, _hoisted_28)\n                        ]),\n                        _createElementVNode(\n                          \"div\",\n                          _hoisted_29,\n                          _toDisplayString(item.turntable_name),\n                          1\n                          /* TEXT */\n                        )\n                      ]);\n                    }),\n                    128\n                    /* KEYED_FRAGMENT */\n                  ))\n                ])\n              ])\n            ];\n          }),\n          _: 1\n          /* STABLE */\n        }, 8, [\"show\"])\n      ]);\n    };\n  }\n});\n"
        ],
        "names": [],
        "mappings": ";AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,uBAA+B;AACnE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;"
      }
    },
    {
      "name": "vite:style-import",
      "start": 1714699772289,
      "end": 1714699772290,
      "order": "post"
    },
    {
      "name": "vite:build-import-analysis",
      "start": 1714699772290,
      "end": 1714699772290,
      "order": "normal"
    },
    {
      "name": "vite:reporter",
      "start": 1714699772290,
      "end": 1714699772290,
      "order": "normal"
    }
  ]
}
