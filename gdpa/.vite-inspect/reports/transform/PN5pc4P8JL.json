{
  "resolvedId": "/Users/afeng/Desktop/work/gdpayh5-web/src/pages/Activity/CollectCards.vue",
  "transforms": [
    {
      "name": "vite:load-fallback",
      "result": "<script setup lang=\"ts\">\nimport {\n  coinBuySellReqApi,\n  gameInfoDataApi,\n  gameReqApi,\n  gameTaskInfoApi,\n  playGameApi\n} from '@/apis/taskActivity'\nimport cai from '@/assets/images/activity/cai.png'\nimport fa from '@/assets/images/activity/fa.png'\nimport gong from '@/assets/images/activity/gong.png'\nimport iconBuy from '@/assets/images/activity/icon-buy.png'\nimport iconSell from '@/assets/images/activity/icon-sell.png'\nimport textPrizePool from '@/assets/images/activity/prize-pool.png'\nimport xi from '@/assets/images/activity/xi.png'\nimport xxcy from '@/assets/images/activity/xxcy.png'\nimport verified from '@/assets/images/common/verified.png'\nimport iconWarning from '@/assets/images/common/warning.png'\nimport { useAuthStore } from '@/store/modules/auth'\nimport { IApiError } from '@/store/types/global'\nimport { IGameInfoData, IGameTaskInfoData, IPlayGameData } from '@/store/types/taskActivity'\nimport { getRandomNumber, requireImg } from '@/utils/tools'\nimport dayjs from 'dayjs'\nimport { shuffle } from 'lodash-es'\nimport { storeToRefs } from 'pinia'\nimport { showToast } from 'vant'\nimport { ComputedRef, computed, nextTick, onMounted, onUnmounted, reactive, ref, watch } from 'vue'\nimport { useRoute, useRouter } from 'vue-router'\nimport { ICardInfo, cardLetterType } from './tools'\n\nconst coin_name = sessionStorage.getItem('coin_name')\nconst pay_name = sessionStorage.getItem('pay_name')\nconst isApp = sessionStorage.getItem('isApp')\n\nconst authStore = useAuthStore()\nconst { token, userInfo } = storeToRefs(authStore)\n\nconst route = useRoute()\nconst router = useRouter()\n\nconst countdownTime = ref(18 * 60 * 60 * 1000)\nconst collectedCards = ref<ICardInfo[]>([])\nconst prizePoolMoney = ref('0')\n\nconst taskRechargeData = ref({\n  top: [\n    { name: '本周累计上分', value: 0 },\n    { name: '可申请总次数', value: 0 },\n    { name: '已申请次数', value: 0 }\n  ],\n  middle: {\n    text: '每上分<span>【 200 】</span>元可获得<span>【1】</span>次翻卡机会，一周最多可得<span>【10】</span>次（上分到不同的游戏平台次数可累加）',\n    num1: 0,\n    num2: 20\n  }\n})\n\nconst giftCardData = ref({\n  top: [\n    { name: '我的卡片', value: 0 },\n    { name: '已赠送卡片', value: 0 },\n    { name: '接收的卡片', value: 0 }\n  ],\n  middle: {\n    text: '成功赠送给好友卡，每赠送<span>【5】</span>张卡，可获得<span>【1】</span>次翻卡机会，一周最多可得<span>【2】</span>次',\n    num1: 0,\n    num2: 20\n  }\n})\n\nconst buyCoinData = ref({\n  icon: iconBuy,\n  title: '买币',\n  amount: 0,\n  limitAmount: 1000,\n  count: 0,\n  limitCount: 5,\n  text: '每买币<span>【200】</span>元可获得<span>【1】</span>次翻卡机会，一周最多可得<span>【5】</span>次'\n})\nconst sellCoinData = ref({\n  icon: iconSell,\n  title: '卖币',\n  amount: 0,\n  limitAmount: 2500,\n  count: 0,\n  limitCount: 5,\n  text: '每卖币<span>【500】</span>元可获得<span>【1】</span>次翻卡机会，一周最多可得<span>【5】</span>次'\n})\nconst giftCardBtnText = ref('去赠送卡')\nconst shuffleList = shuffle(['恭', '发', '喜', '财', '恭', '发', '喜', '财'])\nshuffleList.splice(4, 0, '谢谢参与')\nconst loopList = ref<cardLetterType[]>(shuffleList)\n\nconst cardTypeMap = {\n  0: '谢谢参与',\n  1: '恭',\n  2: '喜',\n  3: '发',\n  4: '财'\n}\n\ntype cardType = '恭' | '发' | '喜' | '财' | '谢谢参与'\nconst cardPic = (card: cardType) => {\n  let pic = ''\n  switch (card) {\n    case '恭':\n      pic = gong\n      break\n    case '发':\n      pic = fa\n      break\n    case '喜':\n      pic = xi\n      break\n    case '财':\n      pic = cai\n      break\n    case '谢谢参与':\n      pic = xxcy\n      break\n    default:\n      pic = ''\n      break\n  }\n  return pic\n}\n\ninterface IAwardState {\n  currentIndex: number // 当前位置\n  isRunning: boolean // 是否正在抽奖\n  speed: number // 抽奖转动速度\n  runTurnTableTimer: NodeJS.Timeout | null // 抽奖轮盘计时器\n  turnTableLimitTimer: NodeJS.Timeout | null // 抽奖频率计时器\n  currentRunCount: number // 已跑次数\n  totalRunCount: number // 总共跑动次数 10的倍数\n  prizeId: number // 中奖id\n  continue: number // 是否可以继续抽奖\n}\n// 抽奖相关数据状态\nconst awardState = reactive<IAwardState>({\n  currentIndex: -1, // 当前位置\n  isRunning: false, // 是否正在抽奖\n  speed: 10, // 抽奖转动速度\n  runTurnTableTimer: null, // 抽奖轮盘计时器\n  turnTableLimitTimer: null, // 抽奖频率计时器\n  currentRunCount: 0, // 已跑次数\n  totalRunCount: 40, // 总共跑动次数 10的倍数\n  prizeId: 0, // 中奖id\n  continue: 1 // 是否可以继续抽奖\n})\n// 奖品高亮顺序\nconst prizeSort = [0, 1, 2, 5, 4, 3, 6, 7, 8, 0]\n\nconst btnDialog = reactive({\n  show: false,\n  content: ''\n})\n// 翻卡弹窗\nconst cardDialog = reactive({\n  show: false,\n  data: {\n    title: '翻卡机会申请',\n    content: '。。。',\n    confirmButtonText: '确定'\n  }\n})\n\n// 用户游戏个人数据\nconst gameInfoData = ref<IGameInfoData>({} as IGameInfoData)\n// 任务列表\nconst gameTaskInfoData = ref<IGameTaskInfoData>({} as IGameTaskInfoData)\n// 抽奖结果\nconst cardPopupData = ref<IPlayGameData[]>([\n  // { card_type: 1, amount: 1 },\n  // { card_type: 2, amount: 1 },\n  // { card_type: 3, amount: 1 },\n  // { card_type: 4, amount: 1 }\n] as IPlayGameData[])\n// 单抽还是10连抽\nconst currTurnTableId = ref(1)\n// 剩余抽奖次数\nconst restTurnTableCount = ref(0)\n\n// 抽卡结果弹窗显示\nconst showPopup = ref(false)\n// 显示合成卡片\nconst showAwardCard = ref(false)\n// 显示谢谢参与\nconst noCard = ref(false)\n// 上分后是否已申请\nconst alreadyApply = ref(false)\n// 申请上分商户选中索引\nconst applyMerchantIndex = ref(0)\n// 限制抽奖点击\nconst limitRunTurnTable = ref(false)\n// 显示中奖列表\nconst loadWinning = ref(true)\n\n// 倒计时文本过滤指令\nconst vCountDown = {\n  updated: (el: HTMLElement) => {\n    el.innerHTML = el.innerHTML.replace(/0(\\d)/g, '$1')\n  }\n}\nconst seamlessScroll = ref()\nconst itemAwardHistory = ref()\n\n// 要执行总步数\nconst totalRunStep = computed(() => {\n  return awardState.totalRunCount + prizeSort.indexOf(awardState.prizeId)\n})\n\n// 抽奖卡片数据\nconst cards: ComputedRef<Record<string, number>> = computed(() => {\n  const _cards: { [key: number]: number } = cardPopupData.value.reduce(\n    (allData: Record<string, number>, data: any) => {\n      const currCount = allData[data.card_type] ?? 0\n      return {\n        ...allData,\n        [data.card_type]: currCount + 1\n      }\n    },\n    {}\n  )\n  return _cards\n})\n// 有合成卡\nconst awardNum = computed(() =>\n  cardPopupData.value.reduce((sum, item) => {\n    if (item.amount) return sum + item.result\n    return sum\n  }, 0)\n)\n// 合成卡片奖励金额\nconst winning = computed(() =>\n  cardPopupData.value.reduce((sum, item) => sum + item.amount, 0).toTruncFixed(2)\n)\n\nconst isLogin = computed(() => !!token.value)\nconst taskRechangeBtnText = computed(() => {\n  const {\n    total_pay = 0,\n    num_total = 0,\n    num_done = 0,\n    gameappl_min = 0,\n    cfg_week_maxcount = 0,\n    jinduall = 0\n  } = gameTaskInfoData.value.gameplay_stask_deposit ?? {}\n\n  if (!total_pay) {\n    return '去上分'\n  }\n\n  return '立即申请'\n})\nconst applyMerchantList = computed(() => {\n  return gameTaskInfoData.value.applyList ?? []\n})\nconst buyCoinBtnText = computed(() => {\n  const { buy_count, buy_all, coin_buy_times } = gameTaskInfoData.value.gameplay_stask_coinbuy ?? {}\n\n  if (buy_all > 0 && buy_count !== buy_all) {\n    if (buy_count < +coin_buy_times) return '领取'\n    return '已完成'\n  }\n  return '去买币'\n})\nconst sellCoinBtnText = computed(() => {\n  const { sell_count, sell_all, coin_sell_times } =\n    gameTaskInfoData.value.gameplay_stask_coinsell ?? {}\n\n  if (sell_all > 0 && sell_count !== sell_all) {\n    if (sell_count < +coin_sell_times) return '领取'\n    return '已完成'\n  }\n  return '去卖币'\n})\n\nconst handleClosePopup = () => {\n  showPopup.value = false\n  showAwardCard.value = false\n}\nconst closeDialog = () => {\n  btnDialog.show = false\n}\nconst onClose = () => {\n  cardDialog.show = false\n}\nconst handleSelectMerchant = (index: number) => {\n  // applyMerchantIndex.value = index\n}\nconst onConfirmApply = (index: number) => {\n  applyMerchantIndex.value = index\n  const muuid = applyMerchantList.value[applyMerchantIndex.value]?.muuid ?? '123'\n  gameReqApi({ muuid }).then(res => {\n    if (!Array.isArray(res) && res.hasOwnProperty('errmsg')) {\n      return\n    }\n    if (res) {\n      alreadyApply.value = true\n      cardDialog.show = false\n      showToast({\n        message: '申请成功',\n        icon: verified,\n        iconSize: '48px'\n      })\n      getGameTaskInfoData()\n    }\n  })\n}\n\n// 点击抽奖\nconst runTurntable = (item: number, e: Event) => {\n  if (prePreventProcess()) return\n  if (!gameInfoData.value.gameplay_num) {\n    return showToast('您还没有抽奖机会，完成周任务获得抽奖机会')\n  }\n  if (limitRunTurnTable.value) return\n\n  if (!awardState.isRunning) {\n    // 重置数据\n    awardState.currentRunCount = 0\n    awardState.speed = 30\n    awardState.isRunning = true\n\n    // 如果接口突然报错如何处理？直接调用stopRun()方法停止转动\n    currTurnTableId.value = item\n    getTurnTableData()\n    // awardState.prizeId = 4\n    // startRun()\n  }\n}\n\nconst onTouchStart = (e: Event) => {\n  ;(e.target as HTMLElement).classList.add('btn-lottery-2')\n}\nconst onTouchEnd = (e: Event) => {\n  ;(e.target as HTMLElement).classList.remove('btn-lottery-2')\n}\n\n// 抽卡结果弹窗显示计时器\nlet showCardTimer1: NodeJS.Timeout | null\nlet showCardTimer2: NodeJS.Timeout | null\n\nconst startRun = () => {\n  stopRun()\n  // window.log('--currentRunCount-totalRunStep--', awardState.currentRunCount, totalRunStep.value)\n  // 要执行总步数\n  // 已走步数超过\n  if (awardState.currentRunCount > totalRunStep.value) {\n    awardState.isRunning = false\n    awardState.currentIndex = -1\n    showPopup.value = true\n\n    if (currTurnTableId.value === 1 && awardState.prizeId === 4) {\n      noCard.value = true\n    } else if (awardNum.value) {\n      limitRunTurnTable.value = true\n      noCard.value = false\n      showCardTimer1 && clearTimeout(showCardTimer1)\n      showCardTimer1 = setTimeout(() => {\n        showPopup.value = false\n        showAwardCard.value = true\n        showCardTimer2 = setTimeout(() => {\n          showPopup.value = true\n          limitRunTurnTable.value = false\n          getGameInfoData()\n          getGameTaskInfoData()\n        }, 300)\n      }, 3000)\n    } else {\n      noCard.value = !!!cardPopupData.value.length\n      getGameInfoData()\n    }\n    poolIncrease()\n    return\n  }\n  awardState.currentIndex = prizeSort[awardState.currentRunCount % 10]\n  // 如果当前步数超过了2/3则速度慢下来\n  if (awardState.currentRunCount > Math.floor((awardState.totalRunCount * 2) / 3)) {\n    awardState.speed = awardState.speed + Math.floor(awardState.currentRunCount / 3)\n    // console.log('速度>>>>', awardState.speed)\n  }\n  awardState.runTurnTableTimer = setTimeout(() => {\n    awardState.currentRunCount++\n    startRun()\n  }, awardState.speed)\n}\n\nconst stopRun = () => {\n  awardState.runTurnTableTimer && clearTimeout(awardState.runTurnTableTimer)\n}\n\n// 申请上分\nconst handleApply = () => {\n  if (prePreventProcess()) return\n  if (taskRechangeBtnText.value === '去上分') {\n    btnDialog.content = `在任意游戏平台使用${pay_name}上分【${\n      gameTaskInfoData.value.gameplay_stask_deposit?.gameappl_min ?? 200\n    }】元以上，即可获得翻卡机会`\n    btnDialog.show = true\n  } else if (taskRechangeBtnText.value === '立即申请') {\n    cardDialog.show = true\n  } else {\n    //\n  }\n}\n\n// 前置判断是否登录\nconst prePreventProcess = () => {\n  if (!isLogin.value) {\n    if (route.name === 'AppCollectCards') {\n      return showToast({\n        message: '请先登录',\n        icon: iconWarning,\n        iconSize: '48px'\n      })\n    }\n    return router.push('/auth/login')\n  }\n  return false\n}\n// 路由跳转\nconst goPage = (path: string) => {\n  if (prePreventProcess()) return\n  router.push(path)\n}\n\n// 去赠送卡\nconst handleGiveCard = () => {\n  if (prePreventProcess()) return\n  if (!gameTaskInfoData.value.gameplay_stask_giveaway.mycard_count) {\n    return showToast('您还没有卡片可赠送')\n  }\n\n  router.push(\n    '/giftCard?cfg_giveaway_giftcardnum=' +\n      (gameTaskInfoData.value.gameplay_stask_giveaway.cfg_giveaway_giftcardnum || 0)\n  )\n}\n// 去买币\nconst handleBuyCoin = () => {\n  if (buyCoinBtnText.value === '领取') {\n    getPlayGameCount('1')\n  } else if (buyCoinBtnText.value === '去买币') {\n    if (route.name === 'AppCollectCards') {\n      btnDialog.content = `在虚拟币钱包买币【${\n        gameTaskInfoData.value.gameplay_stask_coinbuy?.coin_buy_money ?? 200\n      }】元以上，即可获得翻卡机会`\n      btnDialog.show = true\n      return\n    }\n    goPage('/')\n  } else {\n    //\n  }\n}\n// 去卖币\nconst handleSellCoin = () => {\n  if (sellCoinBtnText.value === '领取') {\n    getPlayGameCount('2')\n  } else if (sellCoinBtnText.value === '去卖币') {\n    if (route.name === 'AppCollectCards') {\n      btnDialog.content = `在虚拟币钱包卖币【${\n        gameTaskInfoData.value.gameplay_stask_coinsell?.coin_sell_money ?? 200\n      }】元以上，即可获得翻卡机会`\n      btnDialog.show = true\n      return\n    }\n    goPage('/sell-coin')\n  } else {\n    //\n  }\n}\n// 去收卡\nconst handleReceiveCard = () => {\n  if (!gameInfoData.value.friends.length) {\n    return showToast('暂无待接收卡哦~')\n  }\n  router.push('/cardReceive')\n}\n\nconst updateGameNum = () => {\n  if (currTurnTableId.value === 1) {\n    restTurnTableCount.value--\n  } else {\n    if (restTurnTableCount.value < 10) {\n      return showToast('翻卡次数不足！')\n    }\n    restTurnTableCount.value = restTurnTableCount.value - 10\n  }\n}\n\n// 轮盘抽奖\nconst getTurnTableData = async () => {\n  try {\n    awardState.continue = 0\n\n    const params = {\n      config_id: currTurnTableId.value\n    }\n\n    const res = await playGameApi(params)\n\n    if (!Array.isArray(res) && (res as IApiError).hasOwnProperty('errmsg')) {\n      awardState.isRunning = false\n      awardState.continue = 1\n      return\n    }\n\n    if ((res as IPlayGameData[]).length) {\n      const prizeId = loopList.value.findIndex(\n        item => item === cardTypeMap[(res as IPlayGameData[])[0].card_type]\n      )\n\n      if (~prizeId) {\n        updateGameNum()\n\n        document.querySelector('#lottery-machine')?.scrollIntoView({\n          behavior: 'smooth',\n          block: 'start',\n          inline: 'start'\n        })\n\n        cardPopupData.value = (res as IPlayGameData[]).filter(item => item.card_type !== 0)\n        awardState.prizeId = prizeId\n        poolIncreaseTimer && clearTimeout(poolIncreaseTimer)\n        startRun()\n      }\n    }\n\n    window.log('抽奖', res)\n  } catch (error) {\n    console.error(error)\n  } finally {\n    awardState.turnTableLimitTimer && clearTimeout(awardState.turnTableLimitTimer)\n    awardState.turnTableLimitTimer = setTimeout(() => {\n      awardState.isRunning = false\n      awardState.continue = 1\n    }, 10 * 1000)\n  }\n}\n\nconst getGameInfoData = async () => {\n  try {\n    const res = await gameInfoDataApi({})\n    window.log('个人游戏信息', res)\n    if (res.pools && Math.floor(res.pools) !== Math.floor(+prizePoolMoney.value)) {\n      prizePoolMoney.value = Math.floor(res.pools).toString().replace(/\\d/g, '0')\n      setTimeout(() => {\n        prizePoolMoney.value = Math.floor(res.pools).toString()\n      }, 20)\n    }\n    gameInfoData.value = res\n    gameInfoData.value.winning.sort((w1, w2) => {\n      const d1 = dayjs(w1.createtime)\n      const d2 = dayjs(w2.createtime)\n      return d2.diff(d1)\n    })\n    collectedCards.value = Object.values(res.carinfos)\n  } catch (err) {\n    console.error(err)\n  }\n}\n\nlet loopScrollTimer: NodeJS.Timeout | null\n// 循环滚动中奖列表\nconst startLoopScroll = () => {\n  if (gameInfoData.value.winning?.length < 4) return\n\n  // 单条记录高度\n  const itemHeight = document.querySelectorAll('.item-award-history')[0]?.clientHeight ?? 0\n  // 记录初次transfrom位移高度开关\n  let isLoopAgain = false\n  // 初次transfrom位移高度 前4条记录\n  const matircArr: number[] = []\n\n  loopScrollTimer && clearInterval(loopScrollTimer)\n  loopScrollTimer = setInterval(() => {\n    const allItem = document.querySelectorAll('.item-award-history')\n    // 间隔高度\n    const gapHeight = getComputedStyle(allItem[1])\n      ?.getPropertyValue('transform')\n      ?.match(/matrix\\((.+)\\)/)?.[1]\n      ?.split(', ')?.[5]\n\n    for (let i = 0; i < 4; i++) {\n      // 每一项位移高度\n      const matric = getComputedStyle(allItem[i])\n        ?.getPropertyValue('transform')\n        ?.match(/matrix\\((.+)\\)/)?.[1]\n        ?.split(', ')\n\n      if (!isLoopAgain) {\n        matircArr.push(+(matric?.[5] ?? 0))\n      }\n      if (i === 3) {\n        isLoopAgain = true\n      }\n      const translateY =\n        Math.round(+(matric?.[5] ?? 0)) - (Math.round(itemHeight) + Math.round(+(gapHeight ?? 0)))\n\n      let cssText = ''\n      if (i === 0) {\n        cssText = `opacity:0.5;transform:translate3d(0,-${Math.round(itemHeight)}px,0) scale(1);`\n      } else if (i === 2) {\n        cssText = `opacity:1;transform:translate3d(0,${translateY}px,0) scale(1.1);`\n      } else {\n        cssText = `opacity:0.5;transform:translate3d(0,${translateY}px,0) scale(1);`\n      }\n      // 更新样式\n      ;(allItem[i] as HTMLElement).style.cssText = cssText\n    }\n    setTimeout(() => {\n      allItem.forEach((item, index) => {\n        let translateY = 0\n        let scale = 1\n        let opacity = 0.5\n\n        if (index > 0 && index < 4) {\n          translateY = matircArr[index - 1]\n        } else if (index === 4) {\n          translateY = matircArr[3]\n        } else {\n          translateY = 0\n        }\n        if (index === 2) {\n          scale = 1.1\n          opacity = 1\n        }\n\n        // 还原样式\n        ;(\n          item as HTMLElement\n        ).style.cssText = `transition:unset;opacity:${opacity};transform:translate3d(0,${translateY}px,0) scale(${scale});`\n      })\n\n      // 滚动后，第一项移到dom末尾\n      const firstDom = seamlessScroll.value.firstElementChild\n      seamlessScroll.value.appendChild(firstDom)\n    }, 450)\n  }, 3000)\n}\n\nconst filterNickName = (nickname: string) => {\n  if (!nickname) return ''\n  if (nickname.length === 1) return nickname + '**'\n  if (nickname.length > 1 && nickname.length < 4)\n    return nickname.slice(0, 1) + '**' + nickname.slice(1)\n  return nickname.slice(0, 1) + '**' + nickname.slice(-2)\n}\n\ngetGameInfoData().then(() => {\n  restTurnTableCount.value = gameInfoData.value.gameplay_num\n  getGameTaskInfoData()\n  poolIncrease()\n\n  nextTick(() => {\n    startLoopScroll()\n  })\n})\n\nconst getGameTaskInfoData = async () => {\n  try {\n    const res = await gameTaskInfoApi()\n    window.log('翻卡活动任务列表', res)\n    gameTaskInfoData.value = res\n\n    const { total_pay, num_total, num_done, gameappl_min, cfg_week_maxcount, jinduall } =\n      res.gameplay_stask_deposit\n    taskRechargeData.value = {\n      top: [\n        { name: '本周累计上分', value: total_pay },\n        { name: '可申请总次数', value: num_total },\n        { name: '已申请次数', value: num_done }\n      ],\n      middle: {\n        text: `每上分<span>【 ${gameappl_min} 】</span>元可获得<span>【1】</span>次翻卡机会，一周最多可得<span>【${\n          cfg_week_maxcount * (gameTaskInfoData.value.applyList?.length || 1)\n        }】</span>次（上分到不同的游戏平台次数可累加）`,\n        num1: num_total,\n        num2: cfg_week_maxcount * (gameTaskInfoData.value.applyList?.length || 1)\n      }\n    }\n\n    const {\n      mycard_count,\n      giveaway_send_count,\n      giveaway_recive_count,\n      cfg_giveaway_return,\n      cfg_giveaway_weekmax,\n      cfg_giveaway_jindu\n    } = res.gameplay_stask_giveaway\n    let getNum = Math.floor(giveaway_send_count / +cfg_giveaway_return)\n\n    if (getNum > +cfg_giveaway_weekmax) {\n      getNum = +cfg_giveaway_weekmax\n    }\n\n    giftCardData.value = {\n      top: [\n        { name: '我的卡片', value: mycard_count },\n        { name: '已赠送卡片', value: giveaway_send_count },\n        { name: '接收的卡片', value: giveaway_recive_count }\n      ],\n      middle: {\n        text: `成功赠送给好友卡，每赠送<span>【${cfg_giveaway_return}】</span>张卡，可获得<span>【1】</span>次翻卡机会，一周最多可得<span>【${cfg_giveaway_weekmax}】</span>次翻卡机会`,\n        num1: getNum,\n        num2: +cfg_giveaway_weekmax\n      }\n    }\n\n    const { coin_buy_money, coin_buy_times, buy_count, buy_all } = res.gameplay_stask_coinbuy\n    const buyMax = buy_all > +coin_buy_times ? +coin_buy_times : buy_all\n    buyCoinData.value = {\n      icon: iconBuy,\n      title: '买币',\n      amount: +coin_buy_money * buyMax,\n      limitAmount: +coin_buy_money * +coin_buy_times,\n      count: buyMax,\n      limitCount: +coin_buy_times,\n      text: `每买币<span>【${coin_buy_money}】</span>元可获得<span>【1】</span>次翻卡机会，一周最多可得<span>【${coin_buy_times}】</span>次`\n    }\n\n    const { coin_sell_money, coin_sell_times, sell_count, sell_all } = res.gameplay_stask_coinsell\n    const sellMax = sell_all > +coin_sell_times ? +coin_sell_times : sell_all\n    sellCoinData.value = {\n      icon: iconSell,\n      title: '卖币',\n      amount: +coin_sell_money * sellMax,\n      limitAmount: +coin_sell_money * +coin_sell_times,\n      count: sellMax,\n      limitCount: +coin_sell_times,\n      text: `每卖币<span>【${coin_sell_money}】</span>元可获得<span>【1】</span>次翻卡机会，一周最多可得<span>【${coin_sell_times}】</span>次`\n    }\n  } catch (err) {\n    console.error(err)\n  }\n}\n\nconst getPlayGameCount = async (type: number | string) => {\n  try {\n    const res = await coinBuySellReqApi({ type })\n    window.log('买卖币获取游戏次数', res)\n    if (res.code === 0) {\n      showToast({\n        message: '领取成功',\n        icon: verified,\n        iconSize: '48px'\n      })\n      getGameTaskInfoData()\n    }\n  } catch (err) {\n    console.error(err)\n  }\n}\n\nlet poolIncreaseTimer: NodeJS.Timeout | null\n// 3至5秒内随机增加奖池金额\nconst poolIncrease = () => {\n  const randomSec = getRandomNumber(3000, 5000)\n\n  poolIncreaseTimer && clearTimeout(poolIncreaseTimer)\n  poolIncreaseTimer = setTimeout(() => {\n    getGameInfoData()\n    poolIncrease()\n  }, randomSec)\n}\n\n// 距离本周周日倒计时\nconst getSundayInterval = () => {\n  // 获取当前时间\n  const now = dayjs()\n  // 获取本周日23:59:59的时间戳\n  const sunday = dayjs().day(7).hour(23).minute(59).second(59)\n  // 计算倒计时时间戳\n  countdownTime.value = sunday.diff(now)\n}\n\nwatch(\n  () => gameInfoData.value.winning,\n  (w, wOld) => {\n    // 中奖滚动列表试图更新\n    if (wOld && w && wOld?.[0]?.createtime !== w?.[0]?.createtime) {\n      loadWinning.value = false\n      nextTick(() => {\n        loadWinning.value = true\n        startLoopScroll()\n      })\n    }\n  },\n  { deep: true }\n)\n\nonMounted(() => {\n  setTimeout(() => {\n    // 利用iframe的onload事件刷新页面\n    document.title = '集福卡瓜分10万大奖'\n    let iframe = document.createElement('iframe')\n    iframe.style.visibility = 'hidden'\n    iframe.style.width = '1px'\n    iframe.style.height = '1px'\n    iframe.onload = function () {\n      setTimeout(function () {\n        document.body.removeChild(iframe)\n      }, 0)\n    }\n    document.body.appendChild(iframe)\n    console.log('顶级url', window.top?.location?.href)\n  }, 5000)\n\n  const utoken = token.value || localStorage.getItem('token')\n  if (utoken && route.name === 'AppCollectCards') {\n    authStore.getUserInfo2(utoken)\n  }\n\n  getSundayInterval()\n})\nonUnmounted(() => {\n  showCardTimer1 && clearTimeout(showCardTimer1)\n  showCardTimer1 = null\n  showCardTimer2 && clearTimeout(showCardTimer2)\n  showCardTimer2 = null\n  poolIncreaseTimer && clearTimeout(poolIncreaseTimer)\n  poolIncreaseTimer = null\n  loopScrollTimer && clearInterval(loopScrollTimer)\n  loopScrollTimer = null\n})\n</script>\n\n<template>\n  <div class=\"bg-bottom\">\n    <div\n      class=\"lottery-machine\"\n      id=\"lottery-machine\"\n    >\n      <div class=\"prize-pool flex items-center\">\n        <img\n          class=\"text-label\"\n          :src=\"textPrizePool\"\n        />\n        <div class=\"prize-pool-money\">\n          <CountTo\n            v-show=\"prizePoolMoney.length > 1\"\n            :count=\"prizePoolMoney\"\n          />\n        </div>\n      </div>\n      <div class=\"loop-area flex flex-wrap gap-[3px]\">\n        <div\n          v-for=\"(item, index) in loopList\"\n          :key=\"index\"\n          class=\"item-card flex justify-center items-center\"\n          :class=\"{ active: awardState.currentIndex === index }\"\n        >\n          <img\n            class=\"card-pic\"\n            :class=\"{ 'card-xxcy': index === 4 }\"\n            :src=\"cardPic(item as cardType)\"\n          />\n        </div>\n      </div>\n      <div class=\"game-award-record-container\">\n        <div\n          class=\"seamless-scroll\"\n          ref=\"seamlessScroll\"\n        >\n          <template v-if=\"loadWinning\">\n            <div\n              v-for=\"(item, index) in gameInfoData.winning\"\n              :key=\"index\"\n              class=\"item-award-history flex items-center ellipsis\"\n              ref=\"itemAwardHistory\"\n            >\n              <div class=\"flex items-center\">\n                {{\n                  `恭喜 ${filterNickName(item.nickname)}获得 ${item.results_cash} ${coin_name}币`\n                }}\n              </div>\n            </div>\n          </template>\n        </div>\n      </div>\n      <div class=\"lottery-btn-container flex items-center justify-center\">\n        <div\n          class=\"btn-flip-card-now\"\n          @click=\"runTurntable(1, $event)\"\n          @touchstart=\"onTouchStart($event)\"\n          @touchend=\"onTouchEnd($event)\"\n          @mousedown=\"onTouchStart($event)\"\n          @mouseup=\"onTouchEnd($event)\"\n        >\n          立即翻卡({{ restTurnTableCount }})\n        </div>\n        <div\n          class=\"btn-10-turns\"\n          @click=\"runTurntable(2, $event)\"\n          @touchstart=\"onTouchStart($event)\"\n          @touchend=\"onTouchEnd($event)\"\n          @mousedown=\"onTouchStart($event)\"\n          @mouseup=\"onTouchEnd($event)\"\n        >\n          10连翻\n        </div>\n      </div>\n      <div\n        class=\"countdown-container flex items-center justify-center\"\n        :class=\"{ 'countdown-less-24': countdownTime < 24 * 60 * 60 * 1000 }\"\n      >\n        <div>距本期结束：</div>\n        <van-count-down\n          :time=\"countdownTime\"\n          :format=\"countdownTime >= 24 * 60 * 60 * 1000 ? 'DD天HH时' : 'HH时mm分ss秒'\"\n        >\n          <template\n            #default=\"timeData\"\n            v-if=\"countdownTime >= 24 * 60 * 60 * 1000\"\n          >\n            <div class=\"time flex\">\n              <span class=\"num\">{{ timeData.days }}</span>\n              <span class=\"colon\">天</span>\n              <span class=\"num\">{{ timeData.hours }}</span>\n              <span class=\"colon\">时</span>\n            </div>\n          </template>\n          <template\n            #default=\"timeData\"\n            v-else\n          >\n            <div class=\"time time-less-24 flex\">\n              <span class=\"num\">{{ timeData.hours }}</span>\n              <span class=\"colon\">时</span>\n              <span class=\"num\">{{ timeData.minutes }}</span>\n              <span class=\"colon\">分</span>\n              <span class=\"num\">{{ timeData.seconds }}</span>\n              <span class=\"colon\">秒</span>\n            </div>\n          </template>\n        </van-count-down>\n      </div>\n    </div>\n  </div>\n\n  <div class=\"collected-card-container flex flex-col\">\n    <div class=\"flex items-center text-[25px] text-[#c78054]\">\n      <span>我的奖励：</span>\n      <span class=\"text-[45px] text-[#e43a34]\">\n        {{ (+gameInfoData.award_money)?.toTruncFixed(2) }}\n      </span>\n      <span\n        class=\"ml-[auto]\"\n        @click=\"goPage('/activityRecord')\"\n      >\n        活动记录\n        <i class=\"van-icon van-icon-arrow\"></i>\n      </span>\n    </div>\n    <div class=\"w-full flex justify-between items-center mt-[30px]\">\n      <div\n        v-for=\"(item, index) in collectedCards.slice(0, 4)\"\n        :key=\"index\"\n        class=\"item-card flex justify-center items-center\"\n        :class=\"{\n          'with-card': item.num,\n          'no-card': !item.num\n        }\"\n      >\n        <img :src=\"cardPic(item.name as cardType)\" />\n        <div\n          v-if=\"item.num\"\n          class=\"red-dot flex justify-center items-center\"\n          :data-count=\"item.num\"\n        ></div>\n      </div>\n    </div>\n\n    <div\n      v-if=\"collectedCards.length && collectedCards[collectedCards.length - 1].num\"\n      class=\"synthesized-container w-full flex justify-between items-end\"\n    >\n      <div class=\"gxfc-pic\"></div>\n      <div class=\"x-pic\"></div>\n      <div class=\"tao-circle-pic flex justify-center items-center text-[#fad098]\">\n        <div class=\"text-[47px]\">{{ collectedCards[collectedCards.length - 1].num }}</div>\n        <div class=\"text-[32px] mt-[6px] ml-[5px]\">套</div>\n      </div>\n    </div>\n    <div class=\"absolute bottom-[15px] left-0 text-center w-full text-[25px] text-[#fa9f93]\">\n      温馨提示：数据统计有5分钟的延迟\n    </div>\n  </div>\n  <!-- 每周任务 -->\n  <div class=\"task-container mt-[35px] px-[3px] bg-[#a43740]\">\n    <div class=\"bg-border-top relative\">\n      <div class=\"task-pendant flex flex-col justify-center items-center\">\n        <!-- <div class=\"text-[42px] text-[#955608] font-bold tracking-[4px] mt-[-10px]\">每周任务</div>\n        <div class=\"text-[17px] font-bold text-[#bb522d] mt-[-10px]\">（做任务获取翻卡机会）</div> -->\n      </div>\n    </div>\n    <div class=\"bg-border-middle px-[20px] flex flex-col gap-[27px]\">\n      <WeekTask\n        v-if=\"gameTaskInfoData?.gameplay_stask_deposit?.state\"\n        :data=\"taskRechargeData\"\n        :style=\"{ order: gameTaskInfoData?.gameplay_stask_deposit?.sort }\"\n      >\n        <div class=\"bottom-content flex justify-between\">\n          <div\n            class=\"btn-left w-full h-[50px] flex justify-center items-center text-[#955608] text-[33px]\"\n            @click=\"handleApply\"\n          >\n            {{ taskRechangeBtnText }}\n          </div>\n          <div\n            class=\"btn-right w-full h-[50px] flex justify-center items-center text-[#955608] text-[33px]\"\n            @click=\"goPage('/applyRecord')\"\n          >\n            申请记录\n          </div>\n        </div>\n      </WeekTask>\n      <WeekTask\n        v-if=\"gameTaskInfoData?.gameplay_stask_giveaway?.state\"\n        :data=\"giftCardData\"\n        :style=\"{ order: gameTaskInfoData?.gameplay_stask_giveaway?.sort }\"\n      >\n        <div class=\"bottom-content flex justify-between\">\n          <div\n            class=\"btn-left w-full h-[50px] flex justify-center items-center text-[#955608] text-[33px]\"\n            @click=\"handleGiveCard\"\n          >\n            {{ giftCardBtnText }}\n          </div>\n          <div\n            class=\"btn-right wait-receive w-full h-[50px] flex justify-center items-center text-[#955608] text-[33px]\"\n            @click=\"handleReceiveCard\"\n          >\n            <span>待接收</span>\n            <span\n              v-show=\"gameInfoData?.friends?.length\"\n              class=\"ml-[5px]\"\n            >\n              {{ gameInfoData?.friends?.length }}\n            </span>\n          </div>\n        </div>\n      </WeekTask>\n\n      <BuySellCoin\n        v-if=\"gameTaskInfoData?.gameplay_stask_coinbuy?.state\"\n        :data=\"buyCoinData\"\n        :style=\"{ order: gameTaskInfoData?.gameplay_stask_coinbuy?.sort }\"\n      >\n        <div\n          class=\"btn-right w-[100px] h-[50px] ml-[60px] flex justify-center items-center text-[#955608] text-[33px]\"\n          :class=\"buyCoinBtnText === '去买币' ? 'btn-go-trade' : 'btn-get'\"\n          @click=\"handleBuyCoin\"\n        >\n          {{ buyCoinBtnText }}\n        </div>\n      </BuySellCoin>\n      <BuySellCoin\n        v-if=\"gameTaskInfoData?.gameplay_stask_coinsell?.state\"\n        :data=\"sellCoinData\"\n        :style=\"{ order: gameTaskInfoData?.gameplay_stask_coinsell?.sort }\"\n      >\n        <div\n          class=\"btn-right w-[100px] h-[50px] flex ml-[60px] justify-center items-center text-[#955608] text-[33px]\"\n          :class=\"sellCoinBtnText === '去卖币' ? 'btn-go-trade' : 'btn-get'\"\n          @click=\"handleSellCoin\"\n        >\n          {{ sellCoinBtnText }}\n        </div>\n      </BuySellCoin>\n    </div>\n    <div class=\"bg-border-bottom\"></div>\n\n    <!-- 抽卡弹窗 -->\n    <CardPopup\n      v-show=\"showPopup\"\n      :cards=\"cards\"\n      :award-card=\"showAwardCard\"\n      :award-num=\"awardNum\"\n      :winning=\"winning\"\n      :no-card=\"noCard\"\n      :toggle=\"showPopup\"\n      @close-popup=\"handleClosePopup\"\n    />\n\n    <van-dialog\n      v-model:show=\"btnDialog.show\"\n      theme=\"round-button\"\n      class=\"dialog-task\"\n    >\n      <div class=\"apply-tips-bg flex items-end\">\n        <div class=\"title-bg flex justify-center items-center text-[33px] text-[#f9edc9]\">\n          温馨提示\n        </div>\n        <div class=\"content flex flex-col justify-end gap-[42px]\">\n          <div class=\"text-[28px] text-[#f9edc9]\">{{ btnDialog.content }}</div>\n          <div class=\"flex justify-center items-center\">\n            <div\n              class=\"btn-confirm flex items-center justify-center\"\n              @click=\"closeDialog\"\n            >\n              确认\n            </div>\n          </div>\n        </div>\n        <img\n          :src=\"requireImg('activity/btn_guanbi.png')\"\n          class=\"btn-close-task\"\n          @click=\"closeDialog\"\n        />\n      </div>\n\n      <template #footer></template>\n    </van-dialog>\n\n    <van-dialog\n      v-model:show=\"cardDialog.show\"\n      theme=\"round-button\"\n      className=\"dialog-flip-card\"\n      overlayClass=\"dialog-flip-card-overlay\"\n      :confirmButtonText=\"cardDialog.data.confirmButtonText\"\n    >\n      <div class=\"flip-card-bg\">\n        <div class=\"content flex flex-col gap-[28px]\">\n          <div\n            v-for=\"(item, index) in applyMerchantList\"\n            :key=\"item.muuid\"\n            class=\"item-merchant flex flex-col items-start justify-between\"\n            @click=\"handleSelectMerchant(index)\"\n          >\n            <div>上分商户：{{ item.mname }}</div>\n            <div>\n              申请条件：上分\n              <span class=\"text-[#f9e697]\">【{{ +item.gameappl_min }}】</span>\n              可申请1次\n            </div>\n            <div>\n              本周累计上分金额：\n              <span class=\"text-[#f9e697]\">{{ (+item.total_money).toTruncFixed(2) }}</span>\n              币\n            </div>\n            <div>\n              可申请总次数：\n              <span class=\"text-[#f9e697]\">{{ item.game_total }}</span>\n              次\n            </div>\n            <div>\n              当前可申请次数：\n              <span class=\"text-[#f9e697]\">{{ item.game_less }}</span>\n              次\n            </div>\n            <div>\n              已申请次数：\n              <span class=\"text-[#f9e697]\">{{ item.game_done }}</span>\n              次\n            </div>\n            <div\n              v-if=\"item.game_less\"\n              class=\"btn-apply flex justify-center items-center\"\n              :class=\"{ active: index === applyMerchantIndex }\"\n              @click=\"onConfirmApply(index)\"\n            >\n              申请\n            </div>\n          </div>\n        </div>\n        <img\n          :src=\"requireImg('activity/btn_guanbi.png')\"\n          class=\"btn-close-task\"\n          @click=\"onClose\"\n        />\n      </div>\n\n      <template #footer>\n        <!-- <div class=\"flex justify-between items-center\">\n          <div\n            class=\"btn-cancel flex items-center justify-center\"\n            @click=\"onClose\"\n          >\n            取消\n          </div>\n          <div\n            class=\"btn-confirm flex items-center justify-center\"\n            @click=\"onConfirmApply\"\n          >\n            提交\n          </div>\n        </div> -->\n      </template>\n    </van-dialog>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n.collect-cards-container {\n  padding: 20px;\n  background-color: #f0f0f0;\n  .card-loop-container {\n    gap: 15px;\n    .item-card {\n      width: 213px;\n      height: 213px;\n      background-color: #d1d1d1;\n    }\n  }\n  .card-btn-container {\n    .item-btn {\n      width: 200px;\n      height: 50px;\n      line-height: 50px;\n      color: #fff;\n      background-color: #955608;\n      text-align: center;\n      border-radius: 8px;\n    }\n  }\n}\n.bg-bottom {\n  position: relative;\n  width: 100%;\n  height: 300px;\n  background: url('@/assets/images/activity/bg_03.jpg') no-repeat center / cover;\n  background-size: 100% 100%;\n}\n.lottery-machine {\n  position: absolute;\n  bottom: -35px;\n  width: 100%;\n  height: 940px;\n  background: url('@/assets/images/activity/lottery-machine.png') no-repeat center / cover;\n  background-size: 100% 100%;\n  .prize-pool {\n    position: absolute;\n    left: 50%;\n    top: 40px;\n    transform: translate3d(-50%, 0, 0);\n    width: 354px;\n    height: 97px;\n    padding: 13px;\n    background: url('@/assets/images/activity/prize-pool-bg.png') no-repeat center / cover;\n    background-size: 100% 100%;\n    overflow: hidden;\n    .text-label {\n      width: 71px;\n      height: 28px;\n    }\n    .prize-pool-money {\n      width: 238px;\n      // height: 100%;\n      margin-left: 8px;\n      :deep(.content) {\n        width: 238px;\n        justify-content: flex-start;\n        .digital_wrap {\n          width: auto;\n        }\n        .digital {\n          background-image: linear-gradient(#fdf4a7, #fdd73e);\n          background-image: -webkit-linear-gradient(#fdf4a7, #fdd73e);\n          color: transparent;\n          background-clip: text;\n          -webkit-background-clip: text;\n        }\n        .icon {\n          height: auto;\n          background-image: linear-gradient(#fdf4a7, #fdd73e);\n          background-image: -webkit-linear-gradient(#fdf4a7, #fdd73e);\n          color: transparent;\n          background-clip: text;\n          -webkit-background-clip: text;\n          display: inline-block;\n        }\n      }\n    }\n  }\n  .loop-area {\n    position: absolute;\n    left: 50%;\n    top: 190px;\n    transform: translate3d(-50%, 0, 0);\n    width: 443px;\n    height: 352px;\n    padding: 2px 4px;\n    background: #742a11;\n    border-radius: 20px;\n    .item-card {\n      width: 143px;\n      height: 114px;\n      background: url('@/assets/images/activity/card.png') no-repeat center / cover;\n      background-size: 100% 100%;\n      &.active {\n        background-image: url('@/assets/images/activity/card-highlight.png');\n      }\n    }\n    .card-pic {\n      width: 70px;\n      height: 100px;\n    }\n    .card-xxcy {\n      width: 126.8px;\n      height: 100px;\n    }\n  }\n  .game-award-record-container {\n    position: absolute;\n    left: -10px;\n    bottom: 284px;\n    width: auto;\n    height: 105px;\n    overflow: hidden;\n    .seamless-scroll {\n      height: 100%;\n      margin-top: 0;\n      padding: 0 20px;\n      // transition: all 0.5s ease-in-out;\n      // overflow: hidden;\n    }\n    .item-award-history {\n      width: 100%;\n      height: 28px;\n      // margin-top: 0;\n      // margin-bottom: 10px;\n      padding: 0 23px;\n      color: #eeede8;\n      background-color: rgba(0, 0, 0, 0.12);\n      opacity: 0.5;\n      // transform-origin: center top;\n      transform: translate3d(0, 0, 0) scale(1);\n      transition: all 0.5s ease-in-out;\n      font-size: 18px;\n      border-radius: 30px;\n      &:nth-child(2) {\n        opacity: 1;\n        transform: translate3d(0, 10px, 0) scale(1.1);\n      }\n      &:nth-child(3) {\n        transform: translate3d(0, 20px, 0) scale(1);\n      }\n      &:nth-child(4) {\n        transform: translate3d(0, 30px, 0) scale(1);\n      }\n    }\n    .award-mask-top,\n    .award-mask-bottom {\n      position: absolute;\n      top: 0;\n      left: 0;\n      z-index: 1;\n      width: 100%;\n      height: 27px;\n      background-image: linear-gradient(180deg, rgba(255, 255, 255, 0.5), rgba(255, 255, 255, 0.5)),\n        linear-gradient(0deg, rgba(255, 255, 255, 0.5), rgba(255, 255, 255, 0.5));\n      background-repeat: no-repeat;\n      background-position: top, bottom;\n      background-size: 100% 27px;\n      transform: translatez(0);\n      border-radius: 30px;\n      pointer-events: none;\n    }\n    .award-mask-bottom {\n      top: 74px;\n    }\n  }\n  .lottery-btn-container {\n    position: absolute;\n    bottom: 180px;\n    width: 100%;\n    [class*='btn-'] {\n      display: flex;\n      justify-content: center;\n      width: 283px;\n      height: 88px;\n      padding-top: 5px;\n      font-size: 28px;\n      font-weight: 700;\n      color: #b95431;\n      background: url('@/assets/images/activity/btn-lottery.png') no-repeat center / cover;\n      background-size: 100% 100%;\n    }\n    .btn-lottery-2 {\n      background-image: url('@/assets/images/activity/btn-lottery-2.png');\n    }\n    .btn-flip-card-now {\n      margin-right: 54px;\n    }\n  }\n  .countdown-container {\n    width: 394px;\n    position: absolute;\n    bottom: 27px;\n    left: 178px;\n    font-size: 30px;\n    color: #fff4c3;\n    &.countdown-less-24 {\n      left: 170px;\n    }\n    :deep(.van-count-down) {\n      display: flex;\n      width: auto;\n      font-size: 30px;\n      color: #fff4c3;\n      white-space: nowrap;\n      .time {\n        width: 145px;\n        &.time-less-24 {\n          width: 194px;\n          margin-left: -16px;\n        }\n        span {\n          flex: 0 0 40px;\n          text-align: center;\n          &.colon {\n            flex: 0 0 33px;\n          }\n          &.num {\n            color: #eed753;\n            font-weight: bold;\n          }\n        }\n      }\n    }\n  }\n}\n.collected-card-container {\n  position: relative;\n  width: 100%;\n  height: 522px;\n  background: url('@/assets/images/activity/hollow-base.png') no-repeat center / cover;\n  background-size: 100% 100%;\n  margin-top: 35px;\n  padding: 50px 50px 70px 50px;\n  .item-card {\n    position: relative;\n    width: 116px;\n    height: 165px;\n    img {\n      width: 100%;\n      height: 100%;\n    }\n  }\n  .with-card {\n    color: #2d2d2d;\n  }\n  .no-card {\n    color: #a0a0a0;\n    img {\n      filter: grayscale(100%);\n    }\n  }\n  .red-dot {\n    position: absolute;\n    right: -10px;\n    top: -10px;\n    width: 48px;\n    height: 48px;\n    padding: 2px;\n    color: #fff;\n    border-radius: 50%;\n    background-image: linear-gradient(0deg, #f0a564 27%, #fbe8bc 100%);\n    box-shadow: 0px 1px 2px 0px rgba(138, 41, 35, 0.7);\n    &::after {\n      content: attr(data-count);\n      width: 100%;\n      height: 100%;\n      border-radius: 50%;\n      background-image: linear-gradient(#dd4e53, #dd4e53);\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      font-size: 29px;\n      color: #f7d6c2;\n    }\n  }\n\n  .synthesized-container {\n    position: absolute;\n    left: 126px;\n    bottom: 80px;\n    width: 509px;\n    height: 120px;\n    // border: 3px solid #000;\n    .gxfc-pic {\n      width: 332px;\n      height: 113px;\n      background: url('@/assets/images/activity/gongxifacai.png') no-repeat center / cover;\n      background-size: 100% 100%;\n    }\n    .x-pic {\n      width: 26px;\n      height: 25px;\n      background: url('@/assets/images/activity/x.png') no-repeat center / cover;\n      background-size: 100% 100%;\n      align-self: center;\n    }\n    .tao-circle-pic {\n      width: 126px;\n      height: 120px;\n      background: url('@/assets/images/activity/tao-circle.png') no-repeat center / cover;\n      background-size: 100% 100%;\n    }\n  }\n}\n\n.task-container {\n  //\n}\n\n.bg-border-top {\n  width: 100%;\n  height: 53px;\n  margin-top: -4px;\n  background: url('@/assets/images/activity/bg-border-top.png') no-repeat center / cover;\n  background-size: 100% 100%;\n}\n.bg-border-middle {\n  width: 100%;\n  height: 100%;\n  background: url('@/assets/images/activity/bg-border-middle.png') center / cover;\n  background-size: 100% 100%;\n}\n.bg-border-bottom {\n  width: 100%;\n  height: 47px;\n  margin-top: -2px;\n  background: url('@/assets/images/activity/bg-border-bottom.png') no-repeat center / cover;\n  background-size: 100% 100%;\n}\n.task-pendant {\n  width: 411px;\n  height: 97px;\n  background: url('@/assets/images/activity/bg_title.png') no-repeat center / cover;\n  background-size: 100% 100%;\n  position: absolute;\n  top: -20px;\n  left: 50%;\n  transform: translate3d(-50%, 0, 0);\n}\n.bottom-content {\n  padding: 0 10px 26px 10px;\n  .btn-left {\n    width: 335px;\n    height: 69px;\n    background: url('@/assets/images/activity/btn-task.png') no-repeat center / cover;\n    background-size: 100% 100%;\n  }\n  .btn-right {\n    width: 219px;\n  }\n}\n.btn-right {\n  width: 170px;\n  height: 69px;\n  background: url('@/assets/images/activity/btn-task-5.png') no-repeat center / cover;\n  background-size: 100% 100%;\n  &.wait-receive {\n    color: #fefbe6;\n    background-image: url('@/assets/images/activity/btn-task-2.png');\n  }\n  &.btn-get {\n    width: 230px;\n    color: #fefbe6;\n    background-image: url('@/assets/images/activity/btn-task-4.png');\n  }\n  &.btn-go-trade {\n    width: 230px;\n    background-image: url('@/assets/images/activity/btn-task-3.png');\n  }\n}\n\n:deep(.task-dialog) {\n  width: 100%;\n  max-width: 686px;\n  height: auto;\n  padding: unset;\n  background-color: #f5e8eb;\n  .icon-pos {\n    position: absolute;\n    right: 40px;\n    top: 32px;\n  }\n  .title {\n    width: 100%;\n    height: 83px;\n    line-height: 83px;\n    padding-left: 42px;\n    font-size: 29px;\n    color: #fff;\n    background-color: #fb3a67;\n    text-align: left;\n  }\n  .content {\n    width: 100%;\n    padding: 40px 32px;\n    font-size: 24px;\n    color: #13161b;\n    background-color: #fff;\n    text-align: justify;\n    .text-bold {\n      font-size: 28px;\n      font-weight: bold;\n    }\n    .notice-tips {\n      margin-top: 50px;\n    }\n    img {\n      width: 100%;\n      margin-top: 20px;\n    }\n  }\n\n  .van-dialog__footer {\n    padding: 35px 0;\n    justify-content: center;\n    background-color: #ffdbe3;\n  }\n  .van-dialog__confirm {\n    flex: 0 0 313px;\n    height: 80px;\n    background: #ff4565;\n    font-size: 31px;\n    border-radius: 7px;\n  }\n}\n\n:deep(.dialog-flip-card-overlay) {\n  // background-color: #13161b;\n}\n:deep(.dialog-task) {\n  width: 694px;\n  max-width: 694px;\n  background-color: transparent;\n  .apply-tips-bg {\n    position: relative;\n    width: 694px;\n    height: 380px;\n    margin-top: 20px;\n    padding: 74px 80px 30px 80px;\n    background: url('@/assets/images/activity/bg_tip.png') no-repeat center / cover;\n    background-size: 100% 100%;\n    .title-bg {\n      width: 486px;\n      height: 94px;\n      background: url('@/assets/images/activity/bg_tip_title.png') no-repeat center / cover;\n      background-size: 100% 100%;\n      position: absolute;\n      left: 50%;\n      top: -16px;\n      transform: translate3d(-50%, 0, 0);\n    }\n    .btn-close-task {\n      width: 65px;\n      height: 65px;\n      position: absolute;\n      right: 0;\n      top: -16px;\n    }\n  }\n  .btn-confirm {\n    width: 276px;\n    height: 97px;\n    color: #9f211e;\n    font-size: 28px;\n    font-weight: bold;\n    background: url('@/assets/images/activity/btn02.png') no-repeat center / cover;\n    background-size: 100% 100%;\n  }\n}\n:deep(.dialog-flip-card) {\n  width: 710px;\n  max-width: 710px;\n  // height: 787px;\n  background-color: transparent;\n  .van-dialog__header {\n    padding: 0;\n    font-size: 29px;\n    font-weight: unset;\n    color: #13161b;\n  }\n  .van-dialog__content {\n    margin: 0;\n    font-size: 25px;\n    color: #787f8c;\n    text-align: center;\n  }\n  .title {\n    margin-bottom: 20px;\n  }\n  .van-dialog__footer {\n    padding: 0;\n  }\n  .van-dialog__confirm,\n  .btn-cancel {\n    width: 276px;\n    height: 97px;\n    color: #b07708;\n    font-size: 30px;\n    font-weight: bold;\n    background: url('@/assets/images/activity/btn02.png') no-repeat center / cover;\n    background-size: 100% 100%;\n  }\n  .btn-confirm {\n    width: 276px;\n    height: 97px;\n    color: #951717;\n    font-size: 30px;\n    font-weight: bold;\n    background: url('@/assets/images/activity/btn01.png') no-repeat center / cover;\n    background-size: 100% 100%;\n  }\n  .icon-close {\n    position: absolute;\n    right: 40px;\n    top: 24px;\n  }\n  .flip-card-bg {\n    width: 710px;\n    height: 787px;\n    margin: 0 auto;\n    margin-top: 100px;\n    background: url('@/assets/images/activity/flip-card-apply-bg.png') no-repeat center / cover;\n    background-size: 100% 100%;\n    .content {\n      position: absolute;\n      top: 288px;\n      left: 50%;\n      transform: translate3d(-50%, 0, 0);\n      width: 552px;\n      height: 520px;\n      overflow-y: auto;\n      &::-webkit-scrollbar {\n        display: block;\n        width: 24px;\n        height: 6px;\n        background-color: #610e0c;\n        border-radius: 7px;\n        border: solid 1px #d38963;\n      }\n      &::-webkit-scrollbar-thumb {\n        background-image: linear-gradient(0deg, #f7d69c 49%, #f7ead4 100%);\n        border-radius: 5px;\n      }\n    }\n    .item-merchant {\n      position: relative;\n      width: 100%;\n      height: 240px;\n      padding: 16px 9px 20px 12px;\n      font-size: 24px;\n      color: #ebceb6;\n      background-color: #802420;\n      border-radius: 14px;\n      border: solid 1px rgba(232, 176, 123, 0.8);\n      .btn-apply {\n        position: absolute;\n        bottom: 13px;\n        right: 9px;\n        width: 202px;\n        height: 71px;\n        color: #c76610;\n        font-size: 25px;\n        font-weight: bold;\n        background: url('@/assets/images/activity/btn03.png') no-repeat center / cover;\n        background-size: 100% 100%;\n      }\n    }\n    .btn-close-task {\n      width: 65px;\n      height: 65px;\n      position: absolute;\n      right: 8px;\n      top: 0px;\n    }\n  }\n}\n</style>\n",
      "start": 1714699769442,
      "end": 1714699769495,
      "sourcemaps": null
    },
    {
      "name": "vite:css",
      "start": 1714699769495,
      "end": 1714699769495,
      "order": "normal"
    },
    {
      "name": "vite:esbuild",
      "start": 1714699769495,
      "end": 1714699769495,
      "order": "normal"
    },
    {
      "name": "vite:json",
      "start": 1714699769495,
      "end": 1714699769495,
      "order": "normal"
    },
    {
      "name": "vite:worker",
      "start": 1714699769495,
      "end": 1714699769495,
      "order": "normal"
    },
    {
      "name": "vite:vue",
      "result": "import _sfc_main from \"/Users/afeng/Desktop/work/gdpayh5-web/src/pages/Activity/CollectCards.vue?vue&type=script&setup=true&lang.ts\";\nexport * from \"/Users/afeng/Desktop/work/gdpayh5-web/src/pages/Activity/CollectCards.vue?vue&type=script&setup=true&lang.ts\";\nimport \"/Users/afeng/Desktop/work/gdpayh5-web/src/pages/Activity/CollectCards.vue?vue&type=style&index=0&scoped=49aee070&lang.scss\";\nimport _export_sfc from \"\\0plugin-vue:export-helper\";\nexport default /* @__PURE__ */ _export_sfc(_sfc_main, [[\"__scopeId\", \"data-v-49aee070\"], [\"__file\", \"/Users/afeng/Desktop/work/gdpayh5-web/src/pages/Activity/CollectCards.vue\"]]);\n",
      "start": 1714699769495,
      "end": 1714699769606,
      "order": "normal",
      "sourcemaps": {
        "mappings": ""
      }
    },
    {
      "name": "vite:vue-jsx",
      "start": 1714699769606,
      "end": 1714699769606,
      "order": "normal"
    },
    {
      "name": "vite-plugin-vconsole",
      "result": "import _sfc_main from \"/Users/afeng/Desktop/work/gdpayh5-web/src/pages/Activity/CollectCards.vue?vue&type=script&setup=true&lang.ts\";\nexport * from \"/Users/afeng/Desktop/work/gdpayh5-web/src/pages/Activity/CollectCards.vue?vue&type=script&setup=true&lang.ts\";\nimport \"/Users/afeng/Desktop/work/gdpayh5-web/src/pages/Activity/CollectCards.vue?vue&type=style&index=0&scoped=49aee070&lang.scss\";\nimport _export_sfc from \"\\0plugin-vue:export-helper\";\nexport default /* @__PURE__ */ _export_sfc(_sfc_main, [[\"__scopeId\", \"data-v-49aee070\"], [\"__file\", \"/Users/afeng/Desktop/work/gdpayh5-web/src/pages/Activity/CollectCards.vue\"]]);\n",
      "start": 1714699769606,
      "end": 1714699769606,
      "order": "normal",
      "sourcemaps": null
    },
    {
      "name": "esbuild",
      "result": "\"use strict\";\nimport _sfc_main from \"/Users/afeng/Desktop/work/gdpayh5-web/src/pages/Activity/CollectCards.vue?vue&type=script&setup=true&lang.ts\";\nexport * from \"/Users/afeng/Desktop/work/gdpayh5-web/src/pages/Activity/CollectCards.vue?vue&type=script&setup=true&lang.ts\";\nimport \"/Users/afeng/Desktop/work/gdpayh5-web/src/pages/Activity/CollectCards.vue?vue&type=style&index=0&scoped=49aee070&lang.scss\";\nimport _export_sfc from \"\\0plugin-vue:export-helper\";\nexport default /* @__PURE__ */ _export_sfc(_sfc_main, [[\"__scopeId\", \"data-v-49aee070\"], [\"__file\", \"/Users/afeng/Desktop/work/gdpayh5-web/src/pages/Activity/CollectCards.vue\"]]);\n",
      "start": 1714699769606,
      "end": 1714699770585,
      "order": "normal",
      "sourcemaps": "{\n  \"version\": 3,\n  \"sources\": [\"/Users/afeng/Desktop/work/gdpayh5-web/src/pages/Activity/CollectCards.vue\"],\n  \"sourcesContent\": [\"import _sfc_main from \\\"/Users/afeng/Desktop/work/gdpayh5-web/src/pages/Activity/CollectCards.vue?vue&type=script&setup=true&lang.ts\\\";\\nexport * from \\\"/Users/afeng/Desktop/work/gdpayh5-web/src/pages/Activity/CollectCards.vue?vue&type=script&setup=true&lang.ts\\\";\\nimport \\\"/Users/afeng/Desktop/work/gdpayh5-web/src/pages/Activity/CollectCards.vue?vue&type=style&index=0&scoped=49aee070&lang.scss\\\";\\nimport _export_sfc from \\\"\\\\0plugin-vue:export-helper\\\";\\nexport default /* @__PURE__ */ _export_sfc(_sfc_main, [[\\\"__scopeId\\\", \\\"data-v-49aee070\\\"], [\\\"__file\\\", \\\"/Users/afeng/Desktop/work/gdpayh5-web/src/pages/Activity/CollectCards.vue\\\"]]);\\n\"],\n  \"mappings\": \";AAAA,OAAO,eAAe;AACtB,cAAc;AACd,OAAO;AACP,OAAO,iBAAiB;AACxB,eAA+B,4BAAY,WAAW,CAAC,CAAC,aAAa,iBAAiB,GAAG,CAAC,UAAU,2EAA2E,CAAC,CAAC;\",\n  \"names\": []\n}\n"
    },
    {
      "name": "vite:define",
      "start": 1714699770585,
      "end": 1714699770585,
      "order": "normal"
    },
    {
      "name": "vite:css-post",
      "start": 1714699770585,
      "end": 1714699770585,
      "order": "normal"
    },
    {
      "name": "vite:build-html",
      "start": 1714699770585,
      "end": 1714699770585,
      "order": "normal"
    },
    {
      "name": "vite:worker-import-meta-url",
      "start": 1714699770585,
      "end": 1714699770585,
      "order": "normal"
    },
    {
      "name": "vite:asset-import-meta-url",
      "start": 1714699770585,
      "end": 1714699770585,
      "order": "normal"
    },
    {
      "name": "commonjs",
      "start": 1714699770585,
      "end": 1714699770585,
      "order": "normal"
    },
    {
      "name": "vite:dynamic-import-vars",
      "start": 1714699770585,
      "end": 1714699770585,
      "order": "normal"
    },
    {
      "name": "vite:import-glob",
      "start": 1714699770585,
      "end": 1714699770585,
      "order": "normal"
    },
    {
      "name": "unplugin-auto-import",
      "start": 1714699770585,
      "end": 1714699770585,
      "order": "post"
    },
    {
      "name": "unplugin-vue-components",
      "result": "/* unplugin-vue-components disabled */\"use strict\";\nimport _sfc_main from \"/Users/afeng/Desktop/work/gdpayh5-web/src/pages/Activity/CollectCards.vue?vue&type=script&setup=true&lang.ts\";\nexport * from \"/Users/afeng/Desktop/work/gdpayh5-web/src/pages/Activity/CollectCards.vue?vue&type=script&setup=true&lang.ts\";\nimport \"/Users/afeng/Desktop/work/gdpayh5-web/src/pages/Activity/CollectCards.vue?vue&type=style&index=0&scoped=49aee070&lang.scss\";\nimport _export_sfc from \"\\0plugin-vue:export-helper\";\nexport default /* @__PURE__ */ _export_sfc(_sfc_main, [[\"__scopeId\", \"data-v-49aee070\"], [\"__file\", \"/Users/afeng/Desktop/work/gdpayh5-web/src/pages/Activity/CollectCards.vue\"]]);\n",
      "start": 1714699770585,
      "end": 1714699770585,
      "order": "post",
      "sourcemaps": {
        "version": 3,
        "sources": [
          "/Users/afeng/Desktop/work/gdpayh5-web/src/pages/Activity/CollectCards.vue"
        ],
        "sourcesContent": [
          "\"use strict\";\nimport _sfc_main from \"/Users/afeng/Desktop/work/gdpayh5-web/src/pages/Activity/CollectCards.vue?vue&type=script&setup=true&lang.ts\";\nexport * from \"/Users/afeng/Desktop/work/gdpayh5-web/src/pages/Activity/CollectCards.vue?vue&type=script&setup=true&lang.ts\";\nimport \"/Users/afeng/Desktop/work/gdpayh5-web/src/pages/Activity/CollectCards.vue?vue&type=style&index=0&scoped=49aee070&lang.scss\";\nimport _export_sfc from \"\\0plugin-vue:export-helper\";\nexport default /* @__PURE__ */ _export_sfc(_sfc_main, [[\"__scopeId\", \"data-v-49aee070\"], [\"__file\", \"/Users/afeng/Desktop/work/gdpayh5-web/src/pages/Activity/CollectCards.vue\"]]);\n"
        ],
        "names": [],
        "mappings": "sCAAA;AACA;AACA;AACA;AACA;AACA;"
      }
    },
    {
      "name": "vite:style-import",
      "start": 1714699770585,
      "end": 1714699770585,
      "order": "post"
    },
    {
      "name": "vite:build-import-analysis",
      "start": 1714699770585,
      "end": 1714699770585,
      "order": "normal"
    },
    {
      "name": "vite:reporter",
      "start": 1714699770585,
      "end": 1714699770585,
      "order": "normal"
    }
  ]
}
